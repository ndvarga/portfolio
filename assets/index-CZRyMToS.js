var NO=Object.defineProperty;var xE=n=>{throw TypeError(n)};var kO=(n,t,e)=>t in n?NO(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var B=(n,t,e)=>kO(n,typeof t!="symbol"?t+"":t,e),kv=(n,t,e)=>t.has(n)||xE("Cannot "+e);var u=(n,t,e)=>(kv(n,t,"read from private field"),e?e.call(n):t.get(n)),w=(n,t,e)=>t.has(n)?xE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),b=(n,t,e,i)=>(kv(n,t,"write to private field"),i?i.call(n,e):t.set(n,e),e),E=(n,t,e)=>(kv(n,t,"access private method"),e);var fn=(n,t,e,i)=>({set _(s){b(n,t,s,e)},get _(){return u(n,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();function t_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var e_={exports:{}},Jy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BO=Symbol.for("react.transitional.element"),IO=Symbol.for("react.fragment");function n_(n,t,e){var i=null;if(e!==void 0&&(i=""+e),t.key!==void 0&&(i=""+t.key),"key"in t){e={};for(var s in t)s!=="key"&&(e[s]=t[s])}else e=t;return t=e.ref,{$$typeof:BO,type:n,key:i,ref:t!==void 0?t:null,props:e}}Jy.Fragment=IO;Jy.jsx=n_;Jy.jsxs=n_;e_.exports=Jy;var F=e_.exports,i_={exports:{}},st={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vS=Symbol.for("react.transitional.element"),FO=Symbol.for("react.portal"),VO=Symbol.for("react.fragment"),zO=Symbol.for("react.strict_mode"),HO=Symbol.for("react.profiler"),UO=Symbol.for("react.consumer"),jO=Symbol.for("react.context"),GO=Symbol.for("react.forward_ref"),qO=Symbol.for("react.suspense"),XO=Symbol.for("react.memo"),s_=Symbol.for("react.lazy"),_E=Symbol.iterator;function YO(n){return n===null||typeof n!="object"?null:(n=_E&&n[_E]||n["@@iterator"],typeof n=="function"?n:null)}var a_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r_=Object.assign,o_={};function bh(n,t,e){this.props=n,this.context=t,this.refs=o_,this.updater=e||a_}bh.prototype.isReactComponent={};bh.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};bh.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function l_(){}l_.prototype=bh.prototype;function bS(n,t,e){this.props=n,this.context=t,this.refs=o_,this.updater=e||a_}var AS=bS.prototype=new l_;AS.constructor=bS;r_(AS,bh.prototype);AS.isPureReactComponent=!0;var CE=Array.isArray,Yt={H:null,A:null,T:null,S:null,V:null},u_=Object.prototype.hasOwnProperty;function SS(n,t,e,i,s,a){return e=a.ref,{$$typeof:vS,type:n,key:t,ref:e!==void 0?e:null,props:a}}function $O(n,t){return SS(n.type,t,void 0,void 0,void 0,n.props)}function wS(n){return typeof n=="object"&&n!==null&&n.$$typeof===vS}function KO(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var RE=/\/+/g;function Bv(n,t){return typeof n=="object"&&n!==null&&n.key!=null?KO(""+n.key):t.toString(36)}function ME(){}function WO(n){switch(n.status){case"fulfilled":return n.value;case"rejected":throw n.reason;default:switch(typeof n.status=="string"?n.then(ME,ME):(n.status="pending",n.then(function(t){n.status==="pending"&&(n.status="fulfilled",n.value=t)},function(t){n.status==="pending"&&(n.status="rejected",n.reason=t)})),n.status){case"fulfilled":return n.value;case"rejected":throw n.reason}}throw n}function lu(n,t,e,i,s){var a=typeof n;(a==="undefined"||a==="boolean")&&(n=null);var r=!1;if(n===null)r=!0;else switch(a){case"bigint":case"string":case"number":r=!0;break;case"object":switch(n.$$typeof){case vS:case FO:r=!0;break;case s_:return r=n._init,lu(r(n._payload),t,e,i,s)}}if(r)return s=s(n),r=i===""?"."+Bv(n,0):i,CE(s)?(e="",r!=null&&(e=r.replace(RE,"$&/")+"/"),lu(s,t,e,"",function(c){return c})):s!=null&&(wS(s)&&(s=$O(s,e+(s.key==null||n&&n.key===s.key?"":(""+s.key).replace(RE,"$&/")+"/")+r)),t.push(s)),1;r=0;var o=i===""?".":i+":";if(CE(n))for(var l=0;l<n.length;l++)i=n[l],a=o+Bv(i,l),r+=lu(i,t,e,a,s);else if(l=YO(n),typeof l=="function")for(n=l.call(n),l=0;!(i=n.next()).done;)i=i.value,a=o+Bv(i,l++),r+=lu(i,t,e,a,s);else if(a==="object"){if(typeof n.then=="function")return lu(WO(n),t,e,i,s);throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function Tg(n,t,e){if(n==null)return n;var i=[],s=0;return lu(n,i,"","",function(a){return t.call(e,a,s++)}),i}function QO(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var DE=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function ZO(){}st.Children={map:Tg,forEach:function(n,t,e){Tg(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return Tg(n,function(){t++}),t},toArray:function(n){return Tg(n,function(t){return t})||[]},only:function(n){if(!wS(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};st.Component=bh;st.Fragment=VO;st.Profiler=HO;st.PureComponent=bS;st.StrictMode=zO;st.Suspense=qO;st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Yt;st.__COMPILER_RUNTIME={__proto__:null,c:function(n){return Yt.H.useMemoCache(n)}};st.cache=function(n){return function(){return n.apply(null,arguments)}};st.cloneElement=function(n,t,e){if(n==null)throw Error("The argument must be a React element, but you passed "+n+".");var i=r_({},n.props),s=n.key,a=void 0;if(t!=null)for(r in t.ref!==void 0&&(a=void 0),t.key!==void 0&&(s=""+t.key),t)!u_.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(i[r]=t[r]);var r=arguments.length-2;if(r===1)i.children=e;else if(1<r){for(var o=Array(r),l=0;l<r;l++)o[l]=arguments[l+2];i.children=o}return SS(n.type,s,void 0,void 0,a,i)};st.createContext=function(n){return n={$$typeof:jO,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider=n,n.Consumer={$$typeof:UO,_context:n},n};st.createElement=function(n,t,e){var i,s={},a=null;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)u_.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=t[i]);var r=arguments.length-2;if(r===1)s.children=e;else if(1<r){for(var o=Array(r),l=0;l<r;l++)o[l]=arguments[l+2];s.children=o}if(n&&n.defaultProps)for(i in r=n.defaultProps,r)s[i]===void 0&&(s[i]=r[i]);return SS(n,a,void 0,void 0,null,s)};st.createRef=function(){return{current:null}};st.forwardRef=function(n){return{$$typeof:GO,render:n}};st.isValidElement=wS;st.lazy=function(n){return{$$typeof:s_,_payload:{_status:-1,_result:n},_init:QO}};st.memo=function(n,t){return{$$typeof:XO,type:n,compare:t===void 0?null:t}};st.startTransition=function(n){var t=Yt.T,e={};Yt.T=e;try{var i=n(),s=Yt.S;s!==null&&s(e,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(ZO,DE)}catch(a){DE(a)}finally{Yt.T=t}};st.unstable_useCacheRefresh=function(){return Yt.H.useCacheRefresh()};st.use=function(n){return Yt.H.use(n)};st.useActionState=function(n,t,e){return Yt.H.useActionState(n,t,e)};st.useCallback=function(n,t){return Yt.H.useCallback(n,t)};st.useContext=function(n){return Yt.H.useContext(n)};st.useDebugValue=function(){};st.useDeferredValue=function(n,t){return Yt.H.useDeferredValue(n,t)};st.useEffect=function(n,t,e){var i=Yt.H;if(typeof e=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(n,t)};st.useId=function(){return Yt.H.useId()};st.useImperativeHandle=function(n,t,e){return Yt.H.useImperativeHandle(n,t,e)};st.useInsertionEffect=function(n,t){return Yt.H.useInsertionEffect(n,t)};st.useLayoutEffect=function(n,t){return Yt.H.useLayoutEffect(n,t)};st.useMemo=function(n,t){return Yt.H.useMemo(n,t)};st.useOptimistic=function(n,t){return Yt.H.useOptimistic(n,t)};st.useReducer=function(n,t,e){return Yt.H.useReducer(n,t,e)};st.useRef=function(n){return Yt.H.useRef(n)};st.useState=function(n){return Yt.H.useState(n)};st.useSyncExternalStore=function(n,t,e){return Yt.H.useSyncExternalStore(n,t,e)};st.useTransition=function(){return Yt.H.useTransition()};st.version="19.1.0";i_.exports=st;var R=i_.exports;const LE=t_(R);var c_={exports:{}},tv={},h_={exports:{}},d_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(L,P){var I=L.length;L.push(P);t:for(;0<I;){var Q=I-1>>>1,nt=L[Q];if(0<s(nt,P))L[Q]=P,L[I]=nt,I=Q;else break t}}function e(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var P=L[0],I=L.pop();if(I!==P){L[0]=I;t:for(var Q=0,nt=L.length,Jt=nt>>>1;Q<Jt;){var gt=2*(Q+1)-1,ht=L[gt],zt=gt+1,Ot=L[zt];if(0>s(ht,I))zt<nt&&0>s(Ot,ht)?(L[Q]=Ot,L[zt]=I,Q=zt):(L[Q]=ht,L[gt]=I,Q=gt);else if(zt<nt&&0>s(Ot,I))L[Q]=Ot,L[zt]=I,Q=zt;else break t}}return P}function s(L,P){var I=L.sortIndex-P.sortIndex;return I!==0?I:L.id-P.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var r=Date,o=r.now();n.unstable_now=function(){return r.now()-o}}var l=[],c=[],h=1,d=null,f=3,p=!1,y=!1,m=!1,S=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function T(L){for(var P=e(c);P!==null;){if(P.callback===null)i(c);else if(P.startTime<=L)i(c),P.sortIndex=P.expirationTime,t(l,P);else break;P=e(c)}}function x(L){if(m=!1,T(L),!y)if(e(l)!==null)y=!0,_||(_=!0,q());else{var P=e(c);P!==null&&Z(x,P.startTime-L)}}var _=!1,C=-1,M=5,D=-1;function O(){return S?!0:!(n.unstable_now()-D<M)}function N(){if(S=!1,_){var L=n.unstable_now();D=L;var P=!0;try{t:{y=!1,m&&(m=!1,v(C),C=-1),p=!0;var I=f;try{e:{for(T(L),d=e(l);d!==null&&!(d.expirationTime>L&&O());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,f=d.priorityLevel;var nt=Q(d.expirationTime<=L);if(L=n.unstable_now(),typeof nt=="function"){d.callback=nt,T(L),P=!0;break e}d===e(l)&&i(l),T(L)}else i(l);d=e(l)}if(d!==null)P=!0;else{var Jt=e(c);Jt!==null&&Z(x,Jt.startTime-L),P=!1}}break t}finally{d=null,f=I,p=!1}P=void 0}}finally{P?q():_=!1}}}var q;if(typeof A=="function")q=function(){A(N)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,X=$.port2;$.port1.onmessage=N,q=function(){X.postMessage(null)}}else q=function(){g(N,0)};function Z(L,P){C=g(function(){L(n.unstable_now())},P)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_next=function(L){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var I=f;f=P;try{return L()}finally{f=I}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function(L,P){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var I=f;f=L;try{return P()}finally{f=I}},n.unstable_scheduleCallback=function(L,P,I){var Q=n.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?Q+I:Q):I=Q,L){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=I+nt,L={id:h++,callback:P,priorityLevel:L,startTime:I,expirationTime:nt,sortIndex:-1},I>Q?(L.sortIndex=I,t(c,L),e(l)===null&&L===e(c)&&(m?(v(C),C=-1):m=!0,Z(x,I-Q))):(L.sortIndex=nt,t(l,L),y||p||(y=!0,_||(_=!0,q()))),L},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(L){var P=f;return function(){var I=f;f=P;try{return L.apply(this,arguments)}finally{f=I}}}})(d_);h_.exports=d_;var JO=h_.exports,f_={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tP=R;function p_(n){var t="https://react.dev/errors/"+n;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var e=2;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e])}return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function $a(){}var Sn={d:{f:$a,r:function(){throw Error(p_(522))},D:$a,C:$a,L:$a,m:$a,X:$a,S:$a,M:$a},p:0,findDOMNode:null},eP=Symbol.for("react.portal");function nP(n,t,e){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eP,key:i==null?null:""+i,children:n,containerInfo:t,implementation:e}}var yd=tP.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ev(n,t){if(n==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Sn;xn.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(p_(299));return nP(n,t,null,e)};xn.flushSync=function(n){var t=yd.T,e=Sn.p;try{if(yd.T=null,Sn.p=2,n)return n()}finally{yd.T=t,Sn.p=e,Sn.d.f()}};xn.preconnect=function(n,t){typeof n=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Sn.d.C(n,t))};xn.prefetchDNS=function(n){typeof n=="string"&&Sn.d.D(n)};xn.preinit=function(n,t){if(typeof n=="string"&&t&&typeof t.as=="string"){var e=t.as,i=ev(e,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;e==="style"?Sn.d.S(n,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:a}):e==="script"&&Sn.d.X(n,{crossOrigin:i,integrity:s,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};xn.preinitModule=function(n,t){if(typeof n=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var e=ev(t.as,t.crossOrigin);Sn.d.M(n,{crossOrigin:e,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Sn.d.M(n)};xn.preload=function(n,t){if(typeof n=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var e=t.as,i=ev(e,t.crossOrigin);Sn.d.L(n,e,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};xn.preloadModule=function(n,t){if(typeof n=="string")if(t){var e=ev(t.as,t.crossOrigin);Sn.d.m(n,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:e,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Sn.d.m(n)};xn.requestFormReset=function(n){Sn.d.r(n)};xn.unstable_batchedUpdates=function(n,t){return n(t)};xn.useFormState=function(n,t,e){return yd.H.useFormState(n,t,e)};xn.useFormStatus=function(){return yd.H.useHostTransitionStatus()};xn.version="19.1.0";function g_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g_)}catch(n){console.error(n)}}g_(),f_.exports=xn;var iP=f_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ce=JO,m_=R,sP=iP;function k(n){var t="https://react.dev/errors/"+n;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var e=2;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e])}return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function y_(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function jp(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function v_(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function OE(n){if(jp(n)!==n)throw Error(k(188))}function aP(n){var t=n.alternate;if(!t){if(t=jp(n),t===null)throw Error(k(188));return t!==n?null:n}for(var e=n,i=t;;){var s=e.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){e=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===e)return OE(s),n;if(a===i)return OE(s),t;a=a.sibling}throw Error(k(188))}if(e.return!==i.return)e=s,i=a;else{for(var r=!1,o=s.child;o;){if(o===e){r=!0,e=s,i=a;break}if(o===i){r=!0,i=s,e=a;break}o=o.sibling}if(!r){for(o=a.child;o;){if(o===e){r=!0,e=a,i=s;break}if(o===i){r=!0,i=a,e=s;break}o=o.sibling}if(!r)throw Error(k(189))}}if(e.alternate!==i)throw Error(k(190))}if(e.tag!==3)throw Error(k(188));return e.stateNode.current===e?n:t}function b_(n){var t=n.tag;if(t===5||t===26||t===27||t===6)return n;for(n=n.child;n!==null;){if(t=b_(n),t!==null)return t;n=n.sibling}return null}var Vt=Object.assign,rP=Symbol.for("react.element"),xg=Symbol.for("react.transitional.element"),Xh=Symbol.for("react.portal"),bu=Symbol.for("react.fragment"),A_=Symbol.for("react.strict_mode"),z0=Symbol.for("react.profiler"),oP=Symbol.for("react.provider"),S_=Symbol.for("react.consumer"),Ta=Symbol.for("react.context"),ES=Symbol.for("react.forward_ref"),H0=Symbol.for("react.suspense"),U0=Symbol.for("react.suspense_list"),TS=Symbol.for("react.memo"),Ja=Symbol.for("react.lazy"),j0=Symbol.for("react.activity"),lP=Symbol.for("react.memo_cache_sentinel"),PE=Symbol.iterator;function Oh(n){return n===null||typeof n!="object"?null:(n=PE&&n[PE]||n["@@iterator"],typeof n=="function"?n:null)}var uP=Symbol.for("react.client.reference");function G0(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===uP?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case bu:return"Fragment";case z0:return"Profiler";case A_:return"StrictMode";case H0:return"Suspense";case U0:return"SuspenseList";case j0:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case Xh:return"Portal";case Ta:return(n.displayName||"Context")+".Provider";case S_:return(n._context.displayName||"Context")+".Consumer";case ES:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case TS:return t=n.displayName||null,t!==null?t:G0(n.type)||"Memo";case Ja:t=n._payload,n=n._init;try{return G0(n(t))}catch{}}return null}var Yh=Array.isArray,W=m_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bt=sP.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pl={pending:!1,data:null,method:null,action:null},q0=[],Au=-1;function ks(n){return{current:n}}function Ve(n){0>Au||(n.current=q0[Au],q0[Au]=null,Au--)}function $t(n,t){Au++,q0[Au]=n.current,n.current=t}var Ms=ks(null),Vd=ks(null),Xr=ks(null),qm=ks(null);function Xm(n,t){switch($t(Xr,t),$t(Vd,n),$t(Ms,null),t.nodeType){case 9:case 11:n=(n=t.documentElement)&&(n=n.namespaceURI)?F1(n):0;break;default:if(n=t.tagName,t=t.namespaceURI)t=F1(t),n=FR(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Ve(Ms),$t(Ms,n)}function sh(){Ve(Ms),Ve(Vd),Ve(Xr)}function X0(n){n.memoizedState!==null&&$t(qm,n);var t=Ms.current,e=FR(t,n.type);t!==e&&($t(Vd,n),$t(Ms,e))}function Ym(n){Vd.current===n&&(Ve(Ms),Ve(Vd)),qm.current===n&&(Ve(qm),Kd._currentValue=Pl)}var Y0=Object.prototype.hasOwnProperty,xS=Ce.unstable_scheduleCallback,Iv=Ce.unstable_cancelCallback,cP=Ce.unstable_shouldYield,hP=Ce.unstable_requestPaint,Ds=Ce.unstable_now,dP=Ce.unstable_getCurrentPriorityLevel,w_=Ce.unstable_ImmediatePriority,E_=Ce.unstable_UserBlockingPriority,$m=Ce.unstable_NormalPriority,fP=Ce.unstable_LowPriority,T_=Ce.unstable_IdlePriority,pP=Ce.log,gP=Ce.unstable_setDisableYieldValue,Gp=null,ai=null;function Ur(n){if(typeof pP=="function"&&gP(n),ai&&typeof ai.setStrictMode=="function")try{ai.setStrictMode(Gp,n)}catch{}}var ri=Math.clz32?Math.clz32:vP,mP=Math.log,yP=Math.LN2;function vP(n){return n>>>=0,n===0?32:31-(mP(n)/yP|0)|0}var _g=256,Cg=4194304;function mo(n){var t=n&42;if(t!==0)return t;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function nv(n,t,e){var i=n.pendingLanes;if(i===0)return 0;var s=0,a=n.suspendedLanes,r=n.pingedLanes;n=n.warmLanes;var o=i&134217727;return o!==0?(i=o&~a,i!==0?s=mo(i):(r&=o,r!==0?s=mo(r):e||(e=o&~n,e!==0&&(s=mo(e))))):(o=i&~a,o!==0?s=mo(o):r!==0?s=mo(r):e||(e=i&~n,e!==0&&(s=mo(e)))),s===0?0:t!==0&&t!==s&&!(t&a)&&(a=s&-s,e=t&-t,a>=e||a===32&&(e&4194048)!==0)?t:s}function qp(n,t){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&t)===0}function bP(n,t){switch(n){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x_(){var n=_g;return _g<<=1,!(_g&4194048)&&(_g=256),n}function __(){var n=Cg;return Cg<<=1,!(Cg&62914560)&&(Cg=4194304),n}function Fv(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function Xp(n,t){n.pendingLanes|=t,t!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function AP(n,t,e,i,s,a){var r=n.pendingLanes;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=e,n.entangledLanes&=e,n.errorRecoveryDisabledLanes&=e,n.shellSuspendCounter=0;var o=n.entanglements,l=n.expirationTimes,c=n.hiddenUpdates;for(e=r&~e;0<e;){var h=31-ri(e),d=1<<h;o[h]=0,l[h]=-1;var f=c[h];if(f!==null)for(c[h]=null,h=0;h<f.length;h++){var p=f[h];p!==null&&(p.lane&=-536870913)}e&=~d}i!==0&&C_(n,i,0),a!==0&&s===0&&n.tag!==0&&(n.suspendedLanes|=a&~(r&~t))}function C_(n,t,e){n.pendingLanes|=t,n.suspendedLanes&=~t;var i=31-ri(t);n.entangledLanes|=t,n.entanglements[i]=n.entanglements[i]|1073741824|e&4194090}function R_(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var i=31-ri(e),s=1<<i;s&t|n[i]&t&&(n[i]|=t),e&=~s}}function _S(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function CS(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function M_(){var n=bt.p;return n!==0?n:(n=window.event,n===void 0?32:$R(n.type))}function SP(n,t){var e=bt.p;try{return bt.p=n,t()}finally{bt.p=e}}var uo=Math.random().toString(36).slice(2),cn="__reactFiber$"+uo,Bn="__reactProps$"+uo,Ah="__reactContainer$"+uo,$0="__reactEvents$"+uo,wP="__reactListeners$"+uo,EP="__reactHandles$"+uo,NE="__reactResources$"+uo,Yp="__reactMarker$"+uo;function RS(n){delete n[cn],delete n[Bn],delete n[$0],delete n[wP],delete n[EP]}function Su(n){var t=n[cn];if(t)return t;for(var e=n.parentNode;e;){if(t=e[Ah]||e[cn]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=H1(n);n!==null;){if(e=n[cn])return e;n=H1(n)}return t}n=e,e=n.parentNode}return null}function Sh(n){if(n=n[cn]||n[Ah]){var t=n.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return n}return null}function $h(n){var t=n.tag;if(t===5||t===26||t===27||t===6)return n.stateNode;throw Error(k(33))}function zu(n){var t=n[NE];return t||(t=n[NE]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Be(n){n[Yp]=!0}var D_=new Set,L_={};function Wl(n,t){ah(n,t),ah(n+"Capture",t)}function ah(n,t){for(L_[n]=t,n=0;n<t.length;n++)D_.add(t[n])}var TP=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kE={},BE={};function xP(n){return Y0.call(BE,n)?!0:Y0.call(kE,n)?!1:TP.test(n)?BE[n]=!0:(kE[n]=!0,!1)}function Wg(n,t,e){if(xP(t))if(e===null)n.removeAttribute(t);else{switch(typeof e){case"undefined":case"function":case"symbol":n.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){n.removeAttribute(t);return}}n.setAttribute(t,""+e)}}function Rg(n,t,e){if(e===null)n.removeAttribute(t);else{switch(typeof e){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(t);return}n.setAttribute(t,""+e)}}function zs(n,t,e,i){if(i===null)n.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(e);return}n.setAttributeNS(t,e,""+i)}}var Vv,IE;function uu(n){if(Vv===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Vv=t&&t[1]||"",IE=-1<e.stack.indexOf(`
    at`)?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vv+n+IE}var zv=!1;function Hv(n,t){if(!n||zv)return"";zv=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(p){var f=p}Reflect.construct(n,[],d)}else{try{d.call()}catch(p){f=p}n.call(d.prototype)}}else{try{throw Error()}catch(p){f=p}(d=n())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(p){if(p&&f&&typeof p.stack=="string")return[p.stack,f.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),r=a[0],o=a[1];if(r&&o){var l=r.split(`
`),c=o.split(`
`);for(s=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(i===l.length||s===c.length)for(i=l.length-1,s=c.length-1;1<=i&&0<=s&&l[i]!==c[s];)s--;for(;1<=i&&0<=s;i--,s--)if(l[i]!==c[s]){if(i!==1||s!==1)do if(i--,s--,0>s||l[i]!==c[s]){var h=`
`+l[i].replace(" at new "," at ");return n.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",n.displayName)),h}while(1<=i&&0<=s);break}}}finally{zv=!1,Error.prepareStackTrace=e}return(e=n?n.displayName||n.name:"")?uu(e):""}function _P(n){switch(n.tag){case 26:case 27:case 5:return uu(n.type);case 16:return uu("Lazy");case 13:return uu("Suspense");case 19:return uu("SuspenseList");case 0:case 15:return Hv(n.type,!1);case 11:return Hv(n.type.render,!1);case 1:return Hv(n.type,!0);case 31:return uu("Activity");default:return""}}function FE(n){try{var t="";do t+=_P(n),n=n.return;while(n);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}function Ei(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function O_(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function CP(n){var t=O_(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),i=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var s=e.get,a=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return s.call(this)},set:function(r){i=""+r,a.call(this,r)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return i},setValue:function(r){i=""+r},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function Km(n){n._valueTracker||(n._valueTracker=CP(n))}function P_(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),i="";return n&&(i=O_(n)?n.checked?"true":"false":n.value),n=i,n!==e?(t.setValue(n),!0):!1}function Wm(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var RP=/[\n"\\]/g;function _i(n){return n.replace(RP,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function K0(n,t,e,i,s,a,r,o){n.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?n.type=r:n.removeAttribute("type"),t!=null?r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+Ei(t)):n.value!==""+Ei(t)&&(n.value=""+Ei(t)):r!=="submit"&&r!=="reset"||n.removeAttribute("value"),t!=null?W0(n,r,Ei(t)):e!=null?W0(n,r,Ei(e)):i!=null&&n.removeAttribute("value"),s==null&&a!=null&&(n.defaultChecked=!!a),s!=null&&(n.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?n.name=""+Ei(o):n.removeAttribute("name")}function N_(n,t,e,i,s,a,r,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(n.type=a),t!=null||e!=null){if(!(a!=="submit"&&a!=="reset"||t!=null))return;e=e!=null?""+Ei(e):"",t=t!=null?""+Ei(t):e,o||t===n.value||(n.value=t),n.defaultValue=t}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,n.checked=o?n.checked:!!i,n.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(n.name=r)}function W0(n,t,e){t==="number"&&Wm(n.ownerDocument)===n||n.defaultValue===""+e||(n.defaultValue=""+e)}function Hu(n,t,e,i){if(n=n.options,t){t={};for(var s=0;s<e.length;s++)t["$"+e[s]]=!0;for(e=0;e<n.length;e++)s=t.hasOwnProperty("$"+n[e].value),n[e].selected!==s&&(n[e].selected=s),s&&i&&(n[e].defaultSelected=!0)}else{for(e=""+Ei(e),t=null,s=0;s<n.length;s++){if(n[s].value===e){n[s].selected=!0,i&&(n[s].defaultSelected=!0);return}t!==null||n[s].disabled||(t=n[s])}t!==null&&(t.selected=!0)}}function k_(n,t,e){if(t!=null&&(t=""+Ei(t),t!==n.value&&(n.value=t),e==null)){n.defaultValue!==t&&(n.defaultValue=t);return}n.defaultValue=e!=null?""+Ei(e):""}function B_(n,t,e,i){if(t==null){if(i!=null){if(e!=null)throw Error(k(92));if(Yh(i)){if(1<i.length)throw Error(k(93));i=i[0]}e=i}e==null&&(e=""),t=e}e=Ei(t),n.defaultValue=e,i=n.textContent,i===e&&i!==""&&i!==null&&(n.value=i)}function rh(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var MP=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function VE(n,t,e){var i=t.indexOf("--")===0;e==null||typeof e=="boolean"||e===""?i?n.setProperty(t,""):t==="float"?n.cssFloat="":n[t]="":i?n.setProperty(t,e):typeof e!="number"||e===0||MP.has(t)?t==="float"?n.cssFloat=e:n[t]=(""+e).trim():n[t]=e+"px"}function I_(n,t,e){if(t!=null&&typeof t!="object")throw Error(k(62));if(n=n.style,e!=null){for(var i in e)!e.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&e[s]!==i&&VE(n,s,i)}else for(var a in t)t.hasOwnProperty(a)&&VE(n,a,t[a])}function MS(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DP=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),LP=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qg(n){return LP.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Q0=null;function DS(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var wu=null,Uu=null;function zE(n){var t=Sh(n);if(t&&(n=t.stateNode)){var e=n[Bn]||null;t:switch(n=t.stateNode,t.type){case"input":if(K0(n,e.value,e.defaultValue,e.defaultValue,e.checked,e.defaultChecked,e.type,e.name),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll('input[name="'+_i(""+t)+'"][type="radio"]'),t=0;t<e.length;t++){var i=e[t];if(i!==n&&i.form===n.form){var s=i[Bn]||null;if(!s)throw Error(k(90));K0(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<e.length;t++)i=e[t],i.form===n.form&&P_(i)}break t;case"textarea":k_(n,e.value,e.defaultValue);break t;case"select":t=e.value,t!=null&&Hu(n,!!e.multiple,t,!1)}}}var Uv=!1;function F_(n,t,e){if(Uv)return n(t,e);Uv=!0;try{var i=n(t);return i}finally{if(Uv=!1,(wu!==null||Uu!==null)&&(dv(),wu&&(t=wu,n=Uu,Uu=wu=null,zE(t),n)))for(t=0;t<n.length;t++)zE(n[t])}}function zd(n,t){var e=n.stateNode;if(e===null)return null;var i=e[Bn]||null;if(i===null)return null;e=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break t;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(k(231,t,typeof e));return e}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Z0=!1;if(Na)try{var Ph={};Object.defineProperty(Ph,"passive",{get:function(){Z0=!0}}),window.addEventListener("test",Ph,Ph),window.removeEventListener("test",Ph,Ph)}catch{Z0=!1}var jr=null,LS=null,Zg=null;function V_(){if(Zg)return Zg;var n,t=LS,e=t.length,i,s="value"in jr?jr.value:jr.textContent,a=s.length;for(n=0;n<e&&t[n]===s[n];n++);var r=e-n;for(i=1;i<=r&&t[e-i]===s[a-i];i++);return Zg=s.slice(n,1<i?1-i:void 0)}function Jg(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function Mg(){return!0}function HE(){return!1}function In(n){function t(e,i,s,a,r){this._reactName=e,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=r,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(e=n[o],this[o]=e?e(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Mg:HE,this.isPropagationStopped=HE,this}return Vt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=Mg)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=Mg)},persist:function(){},isPersistent:Mg}),t}var Ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iv=In(Ql),$p=Vt({},Ql,{view:0,detail:0}),OP=In($p),jv,Gv,Nh,sv=Vt({},$p,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:OS,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Nh&&(Nh&&n.type==="mousemove"?(jv=n.screenX-Nh.screenX,Gv=n.screenY-Nh.screenY):Gv=jv=0,Nh=n),jv)},movementY:function(n){return"movementY"in n?n.movementY:Gv}}),UE=In(sv),PP=Vt({},sv,{dataTransfer:0}),NP=In(PP),kP=Vt({},$p,{relatedTarget:0}),qv=In(kP),BP=Vt({},Ql,{animationName:0,elapsedTime:0,pseudoElement:0}),IP=In(BP),FP=Vt({},Ql,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),VP=In(FP),zP=Vt({},Ql,{data:0}),jE=In(zP),HP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GP(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=jP[n])?!!t[n]:!1}function OS(){return GP}var qP=Vt({},$p,{key:function(n){if(n.key){var t=HP[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=Jg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?UP[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:OS,charCode:function(n){return n.type==="keypress"?Jg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Jg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),XP=In(qP),YP=Vt({},sv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GE=In(YP),$P=Vt({},$p,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:OS}),KP=In($P),WP=Vt({},Ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),QP=In(WP),ZP=Vt({},sv,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),JP=In(ZP),tN=Vt({},Ql,{newState:0,oldState:0}),eN=In(tN),nN=[9,13,27,32],PS=Na&&"CompositionEvent"in window,vd=null;Na&&"documentMode"in document&&(vd=document.documentMode);var iN=Na&&"TextEvent"in window&&!vd,z_=Na&&(!PS||vd&&8<vd&&11>=vd),qE=" ",XE=!1;function H_(n,t){switch(n){case"keyup":return nN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U_(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Eu=!1;function sN(n,t){switch(n){case"compositionend":return U_(t);case"keypress":return t.which!==32?null:(XE=!0,qE);case"textInput":return n=t.data,n===qE&&XE?null:n;default:return null}}function aN(n,t){if(Eu)return n==="compositionend"||!PS&&H_(n,t)?(n=V_(),Zg=LS=jr=null,Eu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return z_&&t.locale!=="ko"?null:t.data;default:return null}}var rN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YE(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!rN[n.type]:t==="textarea"}function j_(n,t,e,i){wu?Uu?Uu.push(i):Uu=[i]:wu=i,t=py(t,"onChange"),0<t.length&&(e=new iv("onChange","change",null,e,i),n.push({event:e,listeners:t}))}var bd=null,Hd=null;function oN(n){kR(n,0)}function av(n){var t=$h(n);if(P_(t))return n}function $E(n,t){if(n==="change")return t}var G_=!1;if(Na){var Xv;if(Na){var Yv="oninput"in document;if(!Yv){var KE=document.createElement("div");KE.setAttribute("oninput","return;"),Yv=typeof KE.oninput=="function"}Xv=Yv}else Xv=!1;G_=Xv&&(!document.documentMode||9<document.documentMode)}function WE(){bd&&(bd.detachEvent("onpropertychange",q_),Hd=bd=null)}function q_(n){if(n.propertyName==="value"&&av(Hd)){var t=[];j_(t,Hd,n,DS(n)),F_(oN,t)}}function lN(n,t,e){n==="focusin"?(WE(),bd=t,Hd=e,bd.attachEvent("onpropertychange",q_)):n==="focusout"&&WE()}function uN(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return av(Hd)}function cN(n,t){if(n==="click")return av(t)}function hN(n,t){if(n==="input"||n==="change")return av(t)}function dN(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var ci=typeof Object.is=="function"?Object.is:dN;function Ud(n,t){if(ci(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),i=Object.keys(t);if(e.length!==i.length)return!1;for(i=0;i<e.length;i++){var s=e[i];if(!Y0.call(t,s)||!ci(n[s],t[s]))return!1}return!0}function QE(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ZE(n,t){var e=QE(n);n=0;for(var i;e;){if(e.nodeType===3){if(i=n+e.textContent.length,n<=t&&i>=t)return{node:e,offset:t-n};n=i}t:{for(;e;){if(e.nextSibling){e=e.nextSibling;break t}e=e.parentNode}e=void 0}e=QE(e)}}function X_(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?X_(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function Y_(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var t=Wm(n.document);t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=Wm(n.document)}return t}function NS(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}var fN=Na&&"documentMode"in document&&11>=document.documentMode,Tu=null,J0=null,Ad=null,tb=!1;function JE(n,t,e){var i=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;tb||Tu==null||Tu!==Wm(i)||(i=Tu,"selectionStart"in i&&NS(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ad&&Ud(Ad,i)||(Ad=i,i=py(J0,"onSelect"),0<i.length&&(t=new iv("onSelect","select",null,t,e),n.push({event:t,listeners:i}),t.target=Tu)))}function fo(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var xu={animationend:fo("Animation","AnimationEnd"),animationiteration:fo("Animation","AnimationIteration"),animationstart:fo("Animation","AnimationStart"),transitionrun:fo("Transition","TransitionRun"),transitionstart:fo("Transition","TransitionStart"),transitioncancel:fo("Transition","TransitionCancel"),transitionend:fo("Transition","TransitionEnd")},$v={},$_={};Na&&($_=document.createElement("div").style,"AnimationEvent"in window||(delete xu.animationend.animation,delete xu.animationiteration.animation,delete xu.animationstart.animation),"TransitionEvent"in window||delete xu.transitionend.transition);function Zl(n){if($v[n])return $v[n];if(!xu[n])return n;var t=xu[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in $_)return $v[n]=t[e];return n}var K_=Zl("animationend"),W_=Zl("animationiteration"),Q_=Zl("animationstart"),pN=Zl("transitionrun"),gN=Zl("transitionstart"),mN=Zl("transitioncancel"),Z_=Zl("transitionend"),J_=new Map,eb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");eb.push("scrollEnd");function ss(n,t){J_.set(n,t),Wl(t,[n])}var t1=new WeakMap;function Ci(n,t){if(typeof n=="object"&&n!==null){var e=t1.get(n);return e!==void 0?e:(t={value:n,source:t,stack:FE(t)},t1.set(n,t),t)}return{value:n,source:t,stack:FE(t)}}var wi=[],_u=0,kS=0;function rv(){for(var n=_u,t=kS=_u=0;t<n;){var e=wi[t];wi[t++]=null;var i=wi[t];wi[t++]=null;var s=wi[t];wi[t++]=null;var a=wi[t];if(wi[t++]=null,i!==null&&s!==null){var r=i.pending;r===null?s.next=s:(s.next=r.next,r.next=s),i.pending=s}a!==0&&tC(e,s,a)}}function ov(n,t,e,i){wi[_u++]=n,wi[_u++]=t,wi[_u++]=e,wi[_u++]=i,kS|=i,n.lanes|=i,n=n.alternate,n!==null&&(n.lanes|=i)}function BS(n,t,e,i){return ov(n,t,e,i),Qm(n)}function wh(n,t){return ov(n,null,null,t),Qm(n)}function tC(n,t,e){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e);for(var s=!1,a=n.return;a!==null;)a.childLanes|=e,i=a.alternate,i!==null&&(i.childLanes|=e),a.tag===22&&(n=a.stateNode,n===null||n._visibility&1||(s=!0)),n=a,a=a.return;return n.tag===3?(a=n.stateNode,s&&t!==null&&(s=31-ri(e),n=a.hiddenUpdates,i=n[s],i===null?n[s]=[t]:i.push(t),t.lane=e|536870912),a):null}function Qm(n){if(50<Dd)throw Dd=0,wb=null,Error(k(185));for(var t=n.return;t!==null;)n=t,t=n.return;return n.tag===3?n.stateNode:null}var Cu={};function yN(n,t,e,i){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(n,t,e,i){return new yN(n,t,e,i)}function IS(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ma(n,t){var e=n.alternate;return e===null?(e=si(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&65011712,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e.refCleanup=n.refCleanup,e}function eC(n,t){n.flags&=65011714;var e=n.alternate;return e===null?(n.childLanes=0,n.lanes=t,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.type=e.type,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n}function tm(n,t,e,i,s,a){var r=0;if(i=n,typeof n=="function")IS(n)&&(r=1);else if(typeof n=="string")r=bk(n,e,Ms.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case j0:return n=si(31,e,t,s),n.elementType=j0,n.lanes=a,n;case bu:return Nl(e.children,s,a,t);case A_:r=8,s|=24;break;case z0:return n=si(12,e,t,s|2),n.elementType=z0,n.lanes=a,n;case H0:return n=si(13,e,t,s),n.elementType=H0,n.lanes=a,n;case U0:return n=si(19,e,t,s),n.elementType=U0,n.lanes=a,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case oP:case Ta:r=10;break t;case S_:r=9;break t;case ES:r=11;break t;case TS:r=14;break t;case Ja:r=16,i=null;break t}r=29,e=Error(k(130,n===null?"null":typeof n,"")),i=null}return t=si(r,e,t,s),t.elementType=n,t.type=i,t.lanes=a,t}function Nl(n,t,e,i){return n=si(7,n,i,t),n.lanes=e,n}function Kv(n,t,e){return n=si(6,n,null,t),n.lanes=e,n}function Wv(n,t,e){return t=si(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}var Ru=[],Mu=0,Zm=null,Jm=0,Ti=[],xi=0,kl=null,xa=1,_a="";function yo(n,t){Ru[Mu++]=Jm,Ru[Mu++]=Zm,Zm=n,Jm=t}function nC(n,t,e){Ti[xi++]=xa,Ti[xi++]=_a,Ti[xi++]=kl,kl=n;var i=xa;n=_a;var s=32-ri(i)-1;i&=~(1<<s),e+=1;var a=32-ri(t)+s;if(30<a){var r=s-s%5;a=(i&(1<<r)-1).toString(32),i>>=r,s-=r,xa=1<<32-ri(t)+s|e<<s|i,_a=a+n}else xa=1<<a|e<<s|i,_a=n}function FS(n){n.return!==null&&(yo(n,1),nC(n,1,0))}function VS(n){for(;n===Zm;)Zm=Ru[--Mu],Ru[Mu]=null,Jm=Ru[--Mu],Ru[Mu]=null;for(;n===kl;)kl=Ti[--xi],Ti[xi]=null,_a=Ti[--xi],Ti[xi]=null,xa=Ti[--xi],Ti[xi]=null}var An=null,se=null,vt=!1,Bl=null,xs=!1,nb=Error(k(519));function Ul(n){var t=Error(k(418,""));throw jd(Ci(t,n)),nb}function e1(n){var t=n.stateNode,e=n.type,i=n.memoizedProps;switch(t[cn]=n,t[Bn]=i,e){case"dialog":ot("cancel",t),ot("close",t);break;case"iframe":case"object":case"embed":ot("load",t);break;case"video":case"audio":for(e=0;e<Xd.length;e++)ot(Xd[e],t);break;case"source":ot("error",t);break;case"img":case"image":case"link":ot("error",t),ot("load",t);break;case"details":ot("toggle",t);break;case"input":ot("invalid",t),N_(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Km(t);break;case"select":ot("invalid",t);break;case"textarea":ot("invalid",t),B_(t,i.value,i.defaultValue,i.children),Km(t)}e=i.children,typeof e!="string"&&typeof e!="number"&&typeof e!="bigint"||t.textContent===""+e||i.suppressHydrationWarning===!0||IR(t.textContent,e)?(i.popover!=null&&(ot("beforetoggle",t),ot("toggle",t)),i.onScroll!=null&&ot("scroll",t),i.onScrollEnd!=null&&ot("scrollend",t),i.onClick!=null&&(t.onclick=gv),t=!0):t=!1,t||Ul(n)}function n1(n){for(An=n.return;An;)switch(An.tag){case 5:case 13:xs=!1;return;case 27:case 3:xs=!0;return;default:An=An.return}}function kh(n){if(n!==An)return!1;if(!vt)return n1(n),vt=!0,!1;var t=n.tag,e;if((e=t!==3&&t!==27)&&((e=t===5)&&(e=n.type,e=!(e!=="form"&&e!=="button")||Rb(n.type,n.memoizedProps)),e=!e),e&&se&&Ul(n),n1(n),t===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(k(317));t:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8)if(e=n.data,e==="/$"){if(t===0){se=Ji(n.nextSibling);break t}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++;n=n.nextSibling}se=null}}else t===27?(t=se,co(n.type)?(n=Lb,Lb=null,se=n):se=t):se=An?Ji(n.stateNode.nextSibling):null;return!0}function Kp(){se=An=null,vt=!1}function i1(){var n=Bl;return n!==null&&(Pn===null?Pn=n:Pn.push.apply(Pn,n),Bl=null),n}function jd(n){Bl===null?Bl=[n]:Bl.push(n)}var ib=ks(null),Jl=null,Ca=null;function er(n,t,e){$t(ib,t._currentValue),t._currentValue=e}function Da(n){n._currentValue=ib.current,Ve(ib)}function sb(n,t,e){for(;n!==null;){var i=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),n===e)break;n=n.return}}function ab(n,t,e,i){var s=n.child;for(s!==null&&(s.return=n);s!==null;){var a=s.dependencies;if(a!==null){var r=s.child;a=a.firstContext;t:for(;a!==null;){var o=a;a=s;for(var l=0;l<t.length;l++)if(o.context===t[l]){a.lanes|=e,o=a.alternate,o!==null&&(o.lanes|=e),sb(a.return,e,n),i||(r=null);break t}a=o.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(k(341));r.lanes|=e,a=r.alternate,a!==null&&(a.lanes|=e),sb(r,e,n),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===n){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function Wp(n,t,e,i){n=null;for(var s=t,a=!1;s!==null;){if(!a){if(s.flags&524288)a=!0;else if(s.flags&262144)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(k(387));if(r=r.memoizedProps,r!==null){var o=s.type;ci(s.pendingProps.value,r.value)||(n!==null?n.push(o):n=[o])}}else if(s===qm.current){if(r=s.alternate,r===null)throw Error(k(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(n!==null?n.push(Kd):n=[Kd])}s=s.return}n!==null&&ab(t,n,e,i),t.flags|=262144}function ty(n){for(n=n.firstContext;n!==null;){if(!ci(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function jl(n){Jl=n,Ca=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function hn(n){return iC(Jl,n)}function Dg(n,t){return Jl===null&&jl(n),iC(n,t)}function iC(n,t){var e=t._currentValue;if(t={context:t,memoizedValue:e,next:null},Ca===null){if(n===null)throw Error(k(308));Ca=t,n.dependencies={lanes:0,firstContext:t},n.flags|=524288}else Ca=Ca.next=t;return e}var vN=typeof AbortController<"u"?AbortController:function(){var n=[],t=this.signal={aborted:!1,addEventListener:function(e,i){n.push(i)}};this.abort=function(){t.aborted=!0,n.forEach(function(e){return e()})}},bN=Ce.unstable_scheduleCallback,AN=Ce.unstable_NormalPriority,Te={$$typeof:Ta,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zS(){return{controller:new vN,data:new Map,refCount:0}}function Qp(n){n.refCount--,n.refCount===0&&bN(AN,function(){n.controller.abort()})}var Sd=null,rb=0,oh=0,ju=null;function SN(n,t){if(Sd===null){var e=Sd=[];rb=0,oh=uw(),ju={status:"pending",value:void 0,then:function(i){e.push(i)}}}return rb++,t.then(s1,s1),t}function s1(){if(--rb===0&&Sd!==null){ju!==null&&(ju.status="fulfilled");var n=Sd;Sd=null,oh=0,ju=null;for(var t=0;t<n.length;t++)(0,n[t])()}}function wN(n,t){var e=[],i={status:"pending",value:null,reason:null,then:function(s){e.push(s)}};return n.then(function(){i.status="fulfilled",i.value=t;for(var s=0;s<e.length;s++)(0,e[s])(t)},function(s){for(i.status="rejected",i.reason=s,s=0;s<e.length;s++)(0,e[s])(void 0)}),i}var a1=W.S;W.S=function(n,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&SN(n,t),a1!==null&&a1(n,t)};var Il=ks(null);function HS(){var n=Il.current;return n!==null?n:Bt.pooledCache}function em(n,t){t===null?$t(Il,Il.current):$t(Il,t.pool)}function sC(){var n=HS();return n===null?null:{parent:Te._currentValue,pool:n}}var Zp=Error(k(460)),aC=Error(k(474)),lv=Error(k(542)),ob={then:function(){}};function r1(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Lg(){}function rC(n,t,e){switch(e=n[e],e===void 0?n.push(t):e!==t&&(t.then(Lg,Lg),t=e),t.status){case"fulfilled":return t.value;case"rejected":throw n=t.reason,l1(n),n;default:if(typeof t.status=="string")t.then(Lg,Lg);else{if(n=Bt,n!==null&&100<n.shellSuspendCounter)throw Error(k(482));n=t,n.status="pending",n.then(function(i){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=i}},function(i){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw n=t.reason,l1(n),n}throw wd=t,Zp}}var wd=null;function o1(){if(wd===null)throw Error(k(459));var n=wd;return wd=null,n}function l1(n){if(n===Zp||n===lv)throw Error(k(483))}var tr=!1;function US(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lb(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Yr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function $r(n,t,e){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Et&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,t=Qm(n),tC(n,null,e),t}return ov(n,i,t,e),Qm(n)}function Ed(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194048)!==0)){var i=t.lanes;i&=n.pendingLanes,e|=i,t.lanes=e,R_(n,e)}}function Qv(n,t){var e=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,e===i)){var s=null,a=null;if(e=e.firstBaseUpdate,e!==null){do{var r={lane:e.lane,tag:e.tag,payload:e.payload,callback:null,next:null};a===null?s=a=r:a=a.next=r,e=e.next}while(e!==null);a===null?s=a=t:a=a.next=t}else s=a=t;e={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}var ub=!1;function Td(){if(ub){var n=ju;if(n!==null)throw n}}function xd(n,t,e,i){ub=!1;var s=n.updateQueue;tr=!1;var a=s.firstBaseUpdate,r=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,r===null?a=c:r.next=c,r=l;var h=n.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==r&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(a!==null){var d=s.baseState;r=0,h=c=l=null,o=a;do{var f=o.lane&-536870913,p=f!==o.lane;if(p?(dt&f)===f:(i&f)===f){f!==0&&f===oh&&(ub=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var y=n,m=o;f=t;var S=e;switch(m.tag){case 1:if(y=m.payload,typeof y=="function"){d=y.call(S,d,f);break t}d=y;break t;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,f=typeof y=="function"?y.call(S,d,f):y,f==null)break t;d=Vt({},d,f);break t;case 2:tr=!0}}f=o.callback,f!==null&&(n.flags|=64,p&&(n.flags|=8192),p=s.callbacks,p===null?s.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=p,l=d):h=h.next=p,r|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);h===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,a===null&&(s.shared.lanes=0),no|=r,n.lanes=r,n.memoizedState=d}}function oC(n,t){if(typeof n!="function")throw Error(k(191,n));n.call(t)}function lC(n,t){var e=n.callbacks;if(e!==null)for(n.callbacks=null,n=0;n<e.length;n++)oC(e[n],t)}var lh=ks(null),ey=ks(0);function u1(n,t){n=Ia,$t(ey,n),$t(lh,t),Ia=n|t.baseLanes}function cb(){$t(ey,Ia),$t(lh,lh.current)}function jS(){Ia=ey.current,Ve(lh),Ve(ey)}var to=0,at=null,_t=null,ye=null,ny=!1,Gu=!1,Gl=!1,iy=0,Gd=0,qu=null,EN=0;function oe(){throw Error(k(321))}function GS(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!ci(n[e],t[e]))return!1;return!0}function qS(n,t,e,i,s,a){return to=a,at=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,W.H=n===null||n.memoizedState===null?VC:zC,Gl=!1,a=e(i,s),Gl=!1,Gu&&(a=cC(t,e,i,s)),uC(n),a}function uC(n){W.H=sy;var t=_t!==null&&_t.next!==null;if(to=0,ye=_t=at=null,ny=!1,Gd=0,qu=null,t)throw Error(k(300));n===null||Ie||(n=n.dependencies,n!==null&&ty(n)&&(Ie=!0))}function cC(n,t,e,i){at=n;var s=0;do{if(Gu&&(qu=null),Gd=0,Gu=!1,25<=s)throw Error(k(301));if(s+=1,ye=_t=null,n.updateQueue!=null){var a=n.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}W.H=DN,a=t(e,i)}while(Gu);return a}function TN(){var n=W.H,t=n.useState()[0];return t=typeof t.then=="function"?Jp(t):t,n=n.useState()[0],(_t!==null?_t.memoizedState:null)!==n&&(at.flags|=1024),t}function XS(){var n=iy!==0;return iy=0,n}function YS(n,t,e){t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~e}function $S(n){if(ny){for(n=n.memoizedState;n!==null;){var t=n.queue;t!==null&&(t.pending=null),n=n.next}ny=!1}to=0,ye=_t=at=null,Gu=!1,Gd=iy=0,qu=null}function Ln(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?at.memoizedState=ye=n:ye=ye.next=n,ye}function be(){if(_t===null){var n=at.alternate;n=n!==null?n.memoizedState:null}else n=_t.next;var t=ye===null?at.memoizedState:ye.next;if(t!==null)ye=t,_t=n;else{if(n===null)throw at.alternate===null?Error(k(467)):Error(k(310));_t=n,n={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},ye===null?at.memoizedState=ye=n:ye=ye.next=n}return ye}function KS(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jp(n){var t=Gd;return Gd+=1,qu===null&&(qu=[]),n=rC(qu,n,t),t=at,(ye===null?t.memoizedState:ye.next)===null&&(t=t.alternate,W.H=t===null||t.memoizedState===null?VC:zC),n}function uv(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Jp(n);if(n.$$typeof===Ta)return hn(n)}throw Error(k(438,String(n)))}function WS(n){var t=null,e=at.updateQueue;if(e!==null&&(t=e.memoCache),t==null){var i=at.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),e===null&&(e=KS(),at.updateQueue=e),e.memoCache=t,e=t.data[t.index],e===void 0)for(e=t.data[t.index]=Array(n),i=0;i<n;i++)e[i]=lP;return t.index++,e}function ka(n,t){return typeof t=="function"?t(n):t}function nm(n){var t=be();return QS(t,_t,n)}function QS(n,t,e){var i=n.queue;if(i===null)throw Error(k(311));i.lastRenderedReducer=e;var s=n.baseQueue,a=i.pending;if(a!==null){if(s!==null){var r=s.next;s.next=a.next,a.next=r}t.baseQueue=s=a,i.pending=null}if(a=n.baseState,s===null)n.memoizedState=a;else{t=s.next;var o=r=null,l=null,c=t,h=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(dt&d)===d:(to&d)===d){var f=c.revertLane;if(f===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===oh&&(h=!0);else if((to&f)===f){c=c.next,f===oh&&(h=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,r=a):l=l.next=d,at.lanes|=f,no|=f;d=c.action,Gl&&e(a,d),a=c.hasEagerState?c.eagerState:e(a,d)}else f={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=f,r=a):l=l.next=f,at.lanes|=d,no|=d;c=c.next}while(c!==null&&c!==t);if(l===null?r=a:l.next=o,!ci(a,n.memoizedState)&&(Ie=!0,h&&(e=ju,e!==null)))throw e;n.memoizedState=a,n.baseState=r,n.baseQueue=l,i.lastRenderedState=a}return s===null&&(i.lanes=0),[n.memoizedState,i.dispatch]}function Zv(n){var t=be(),e=t.queue;if(e===null)throw Error(k(311));e.lastRenderedReducer=n;var i=e.dispatch,s=e.pending,a=t.memoizedState;if(s!==null){e.pending=null;var r=s=s.next;do a=n(a,r.action),r=r.next;while(r!==s);ci(a,t.memoizedState)||(Ie=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),e.lastRenderedState=a}return[a,i]}function hC(n,t,e){var i=at,s=be(),a=vt;if(a){if(e===void 0)throw Error(k(407));e=e()}else e=t();var r=!ci((_t||s).memoizedState,e);r&&(s.memoizedState=e,Ie=!0),s=s.queue;var o=pC.bind(null,i,s,n);if(tg(2048,8,o,[n]),s.getSnapshot!==t||r||ye!==null&&ye.memoizedState.tag&1){if(i.flags|=2048,uh(9,cv(),fC.bind(null,i,s,e,t),null),Bt===null)throw Error(k(349));a||to&124||dC(i,t,e)}return e}function dC(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=at.updateQueue,t===null?(t=KS(),at.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function fC(n,t,e,i){t.value=e,t.getSnapshot=i,gC(t)&&mC(n)}function pC(n,t,e){return e(function(){gC(t)&&mC(n)})}function gC(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!ci(n,e)}catch{return!0}}function mC(n){var t=wh(n,2);t!==null&&li(t,n,2)}function hb(n){var t=Ln();if(typeof n=="function"){var e=n;if(n=e(),Gl){Ur(!0);try{e()}finally{Ur(!1)}}}return t.memoizedState=t.baseState=n,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:n},t}function yC(n,t,e,i){return n.baseState=e,QS(n,_t,typeof i=="function"?i:ka)}function xN(n,t,e,i,s){if(hv(n))throw Error(k(485));if(n=t.action,n!==null){var a={payload:s,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){a.listeners.push(r)}};W.T!==null?e(!0):a.isTransition=!1,i(a),e=t.pending,e===null?(a.next=t.pending=a,vC(t,a)):(a.next=e.next,t.pending=e.next=a)}}function vC(n,t){var e=t.action,i=t.payload,s=n.state;if(t.isTransition){var a=W.T,r={};W.T=r;try{var o=e(s,i),l=W.S;l!==null&&l(r,o),c1(n,t,o)}catch(c){db(n,t,c)}finally{W.T=a}}else try{a=e(s,i),c1(n,t,a)}catch(c){db(n,t,c)}}function c1(n,t,e){e!==null&&typeof e=="object"&&typeof e.then=="function"?e.then(function(i){h1(n,t,i)},function(i){return db(n,t,i)}):h1(n,t,e)}function h1(n,t,e){t.status="fulfilled",t.value=e,bC(t),n.state=e,t=n.pending,t!==null&&(e=t.next,e===t?n.pending=null:(e=e.next,t.next=e,vC(n,e)))}function db(n,t,e){var i=n.pending;if(n.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=e,bC(t),t=t.next;while(t!==i)}n.action=null}function bC(n){n=n.listeners;for(var t=0;t<n.length;t++)(0,n[t])()}function AC(n,t){return t}function d1(n,t){if(vt){var e=Bt.formState;if(e!==null){t:{var i=at;if(vt){if(se){e:{for(var s=se,a=xs;s.nodeType!==8;){if(!a){s=null;break e}if(s=Ji(s.nextSibling),s===null){s=null;break e}}a=s.data,s=a==="F!"||a==="F"?s:null}if(s){se=Ji(s.nextSibling),i=s.data==="F!";break t}}Ul(i)}i=!1}i&&(t=e[0])}}return e=Ln(),e.memoizedState=e.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:AC,lastRenderedState:t},e.queue=i,e=BC.bind(null,at,i),i.dispatch=e,i=hb(!1),a=ew.bind(null,at,!1,i.queue),i=Ln(),s={state:t,dispatch:null,action:n,pending:null},i.queue=s,e=xN.bind(null,at,s,a,e),s.dispatch=e,i.memoizedState=n,[t,e,!1]}function f1(n){var t=be();return SC(t,_t,n)}function SC(n,t,e){if(t=QS(n,t,AC)[0],n=nm(ka)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Jp(t)}catch(r){throw r===Zp?lv:r}else i=t;t=be();var s=t.queue,a=s.dispatch;return e!==t.memoizedState&&(at.flags|=2048,uh(9,cv(),_N.bind(null,s,e),null)),[i,a,n]}function _N(n,t){n.action=t}function p1(n){var t=be(),e=_t;if(e!==null)return SC(t,e,n);be(),t=t.memoizedState,e=be();var i=e.queue.dispatch;return e.memoizedState=n,[t,i,!1]}function uh(n,t,e,i){return n={tag:n,create:e,deps:i,inst:t,next:null},t=at.updateQueue,t===null&&(t=KS(),at.updateQueue=t),e=t.lastEffect,e===null?t.lastEffect=n.next=n:(i=e.next,e.next=n,n.next=i,t.lastEffect=n),n}function cv(){return{destroy:void 0,resource:void 0}}function wC(){return be().memoizedState}function im(n,t,e,i){var s=Ln();i=i===void 0?null:i,at.flags|=n,s.memoizedState=uh(1|t,cv(),e,i)}function tg(n,t,e,i){var s=be();i=i===void 0?null:i;var a=s.memoizedState.inst;_t!==null&&i!==null&&GS(i,_t.memoizedState.deps)?s.memoizedState=uh(t,a,e,i):(at.flags|=n,s.memoizedState=uh(1|t,a,e,i))}function g1(n,t){im(8390656,8,n,t)}function EC(n,t){tg(2048,8,n,t)}function TC(n,t){return tg(4,2,n,t)}function xC(n,t){return tg(4,4,n,t)}function _C(n,t){if(typeof t=="function"){n=n();var e=t(n);return function(){typeof e=="function"?e():t(null)}}if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function CC(n,t,e){e=e!=null?e.concat([n]):null,tg(4,4,_C.bind(null,t,n),e)}function ZS(){}function RC(n,t){var e=be();t=t===void 0?null:t;var i=e.memoizedState;return t!==null&&GS(t,i[1])?i[0]:(e.memoizedState=[n,t],n)}function MC(n,t){var e=be();t=t===void 0?null:t;var i=e.memoizedState;if(t!==null&&GS(t,i[1]))return i[0];if(i=n(),Gl){Ur(!0);try{n()}finally{Ur(!1)}}return e.memoizedState=[i,t],i}function JS(n,t,e){return e===void 0||to&1073741824?n.memoizedState=t:(n.memoizedState=e,n=bR(),at.lanes|=n,no|=n,e)}function DC(n,t,e,i){return ci(e,t)?e:lh.current!==null?(n=JS(n,e,i),ci(n,t)||(Ie=!0),n):to&42?(n=bR(),at.lanes|=n,no|=n,t):(Ie=!0,n.memoizedState=e)}function LC(n,t,e,i,s){var a=bt.p;bt.p=a!==0&&8>a?a:8;var r=W.T,o={};W.T=o,ew(n,!1,t,e);try{var l=s(),c=W.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=wN(l,i);_d(n,t,h,oi(n))}else _d(n,t,i,oi(n))}catch(d){_d(n,t,{then:function(){},status:"rejected",reason:d},oi())}finally{bt.p=a,W.T=r}}function CN(){}function fb(n,t,e,i){if(n.tag!==5)throw Error(k(476));var s=OC(n).queue;LC(n,s,t,Pl,e===null?CN:function(){return PC(n),e(i)})}function OC(n){var t=n.memoizedState;if(t!==null)return t;t={memoizedState:Pl,baseState:Pl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:Pl},next:null};var e={};return t.next={memoizedState:e,baseState:e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},next:null},n.memoizedState=t,n=n.alternate,n!==null&&(n.memoizedState=t),t}function PC(n){var t=OC(n).next.queue;_d(n,t,{},oi())}function tw(){return hn(Kd)}function NC(){return be().memoizedState}function kC(){return be().memoizedState}function RN(n){for(var t=n.return;t!==null;){switch(t.tag){case 24:case 3:var e=oi();n=Yr(e);var i=$r(t,n,e);i!==null&&(li(i,t,e),Ed(i,t,e)),t={cache:zS()},n.payload=t;return}t=t.return}}function MN(n,t,e){var i=oi();e={lane:i,revertLane:0,action:e,hasEagerState:!1,eagerState:null,next:null},hv(n)?IC(t,e):(e=BS(n,t,e,i),e!==null&&(li(e,n,i),FC(e,t,i)))}function BC(n,t,e){var i=oi();_d(n,t,e,i)}function _d(n,t,e,i){var s={lane:i,revertLane:0,action:e,hasEagerState:!1,eagerState:null,next:null};if(hv(n))IC(t,s);else{var a=n.alternate;if(n.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var r=t.lastRenderedState,o=a(r,e);if(s.hasEagerState=!0,s.eagerState=o,ci(o,r))return ov(n,t,s,0),Bt===null&&rv(),!1}catch{}finally{}if(e=BS(n,t,s,i),e!==null)return li(e,n,i),FC(e,t,i),!0}return!1}function ew(n,t,e,i){if(i={lane:2,revertLane:uw(),action:i,hasEagerState:!1,eagerState:null,next:null},hv(n)){if(t)throw Error(k(479))}else t=BS(n,e,i,2),t!==null&&li(t,n,2)}function hv(n){var t=n.alternate;return n===at||t!==null&&t===at}function IC(n,t){Gu=ny=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function FC(n,t,e){if(e&4194048){var i=t.lanes;i&=n.pendingLanes,e|=i,t.lanes=e,R_(n,e)}}var sy={readContext:hn,use:uv,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},VC={readContext:hn,use:uv,useCallback:function(n,t){return Ln().memoizedState=[n,t===void 0?null:t],n},useContext:hn,useEffect:g1,useImperativeHandle:function(n,t,e){e=e!=null?e.concat([n]):null,im(4194308,4,_C.bind(null,t,n),e)},useLayoutEffect:function(n,t){return im(4194308,4,n,t)},useInsertionEffect:function(n,t){im(4,2,n,t)},useMemo:function(n,t){var e=Ln();t=t===void 0?null:t;var i=n();if(Gl){Ur(!0);try{n()}finally{Ur(!1)}}return e.memoizedState=[i,t],i},useReducer:function(n,t,e){var i=Ln();if(e!==void 0){var s=e(t);if(Gl){Ur(!0);try{e(t)}finally{Ur(!1)}}}else s=t;return i.memoizedState=i.baseState=s,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},i.queue=n,n=n.dispatch=MN.bind(null,at,n),[i.memoizedState,n]},useRef:function(n){var t=Ln();return n={current:n},t.memoizedState=n},useState:function(n){n=hb(n);var t=n.queue,e=BC.bind(null,at,t);return t.dispatch=e,[n.memoizedState,e]},useDebugValue:ZS,useDeferredValue:function(n,t){var e=Ln();return JS(e,n,t)},useTransition:function(){var n=hb(!1);return n=LC.bind(null,at,n.queue,!0,!1),Ln().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,t,e){var i=at,s=Ln();if(vt){if(e===void 0)throw Error(k(407));e=e()}else{if(e=t(),Bt===null)throw Error(k(349));dt&124||dC(i,t,e)}s.memoizedState=e;var a={value:e,getSnapshot:t};return s.queue=a,g1(pC.bind(null,i,a,n),[n]),i.flags|=2048,uh(9,cv(),fC.bind(null,i,a,e,t),null),e},useId:function(){var n=Ln(),t=Bt.identifierPrefix;if(vt){var e=_a,i=xa;e=(i&~(1<<32-ri(i)-1)).toString(32)+e,t=""+t+"R"+e,e=iy++,0<e&&(t+="H"+e.toString(32)),t+=""}else e=EN++,t=""+t+"r"+e.toString(32)+"";return n.memoizedState=t},useHostTransitionStatus:tw,useFormState:d1,useActionState:d1,useOptimistic:function(n){var t=Ln();t.memoizedState=t.baseState=n;var e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=e,t=ew.bind(null,at,!0,e),e.dispatch=t,[n,t]},useMemoCache:WS,useCacheRefresh:function(){return Ln().memoizedState=RN.bind(null,at)}},zC={readContext:hn,use:uv,useCallback:RC,useContext:hn,useEffect:EC,useImperativeHandle:CC,useInsertionEffect:TC,useLayoutEffect:xC,useMemo:MC,useReducer:nm,useRef:wC,useState:function(){return nm(ka)},useDebugValue:ZS,useDeferredValue:function(n,t){var e=be();return DC(e,_t.memoizedState,n,t)},useTransition:function(){var n=nm(ka)[0],t=be().memoizedState;return[typeof n=="boolean"?n:Jp(n),t]},useSyncExternalStore:hC,useId:NC,useHostTransitionStatus:tw,useFormState:f1,useActionState:f1,useOptimistic:function(n,t){var e=be();return yC(e,_t,n,t)},useMemoCache:WS,useCacheRefresh:kC},DN={readContext:hn,use:uv,useCallback:RC,useContext:hn,useEffect:EC,useImperativeHandle:CC,useInsertionEffect:TC,useLayoutEffect:xC,useMemo:MC,useReducer:Zv,useRef:wC,useState:function(){return Zv(ka)},useDebugValue:ZS,useDeferredValue:function(n,t){var e=be();return _t===null?JS(e,n,t):DC(e,_t.memoizedState,n,t)},useTransition:function(){var n=Zv(ka)[0],t=be().memoizedState;return[typeof n=="boolean"?n:Jp(n),t]},useSyncExternalStore:hC,useId:NC,useHostTransitionStatus:tw,useFormState:p1,useActionState:p1,useOptimistic:function(n,t){var e=be();return _t!==null?yC(e,_t,n,t):(e.baseState=n,[n,e.queue.dispatch])},useMemoCache:WS,useCacheRefresh:kC},Xu=null,qd=0;function Og(n){var t=qd;return qd+=1,Xu===null&&(Xu=[]),rC(Xu,n,t)}function Bh(n,t){t=t.props.ref,n.ref=t!==void 0?t:null}function Pg(n,t){throw t.$$typeof===rP?Error(k(525)):(n=Object.prototype.toString.call(t),Error(k(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n)))}function m1(n){var t=n._init;return t(n._payload)}function HC(n){function t(g,v){if(n){var A=g.deletions;A===null?(g.deletions=[v],g.flags|=16):A.push(v)}}function e(g,v){if(!n)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function i(g){for(var v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(g,v){return g=Ma(g,v),g.index=0,g.sibling=null,g}function a(g,v,A){return g.index=A,n?(A=g.alternate,A!==null?(A=A.index,A<v?(g.flags|=67108866,v):A):(g.flags|=67108866,v)):(g.flags|=1048576,v)}function r(g){return n&&g.alternate===null&&(g.flags|=67108866),g}function o(g,v,A,T){return v===null||v.tag!==6?(v=Kv(A,g.mode,T),v.return=g,v):(v=s(v,A),v.return=g,v)}function l(g,v,A,T){var x=A.type;return x===bu?h(g,v,A.props.children,T,A.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ja&&m1(x)===v.type)?(v=s(v,A.props),Bh(v,A),v.return=g,v):(v=tm(A.type,A.key,A.props,null,g.mode,T),Bh(v,A),v.return=g,v)}function c(g,v,A,T){return v===null||v.tag!==4||v.stateNode.containerInfo!==A.containerInfo||v.stateNode.implementation!==A.implementation?(v=Wv(A,g.mode,T),v.return=g,v):(v=s(v,A.children||[]),v.return=g,v)}function h(g,v,A,T,x){return v===null||v.tag!==7?(v=Nl(A,g.mode,T,x),v.return=g,v):(v=s(v,A),v.return=g,v)}function d(g,v,A){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Kv(""+v,g.mode,A),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case xg:return A=tm(v.type,v.key,v.props,null,g.mode,A),Bh(A,v),A.return=g,A;case Xh:return v=Wv(v,g.mode,A),v.return=g,v;case Ja:var T=v._init;return v=T(v._payload),d(g,v,A)}if(Yh(v)||Oh(v))return v=Nl(v,g.mode,A,null),v.return=g,v;if(typeof v.then=="function")return d(g,Og(v),A);if(v.$$typeof===Ta)return d(g,Dg(g,v),A);Pg(g,v)}return null}function f(g,v,A,T){var x=v!==null?v.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return x!==null?null:o(g,v,""+A,T);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case xg:return A.key===x?l(g,v,A,T):null;case Xh:return A.key===x?c(g,v,A,T):null;case Ja:return x=A._init,A=x(A._payload),f(g,v,A,T)}if(Yh(A)||Oh(A))return x!==null?null:h(g,v,A,T,null);if(typeof A.then=="function")return f(g,v,Og(A),T);if(A.$$typeof===Ta)return f(g,v,Dg(g,A),T);Pg(g,A)}return null}function p(g,v,A,T,x){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return g=g.get(A)||null,o(v,g,""+T,x);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case xg:return g=g.get(T.key===null?A:T.key)||null,l(v,g,T,x);case Xh:return g=g.get(T.key===null?A:T.key)||null,c(v,g,T,x);case Ja:var _=T._init;return T=_(T._payload),p(g,v,A,T,x)}if(Yh(T)||Oh(T))return g=g.get(A)||null,h(v,g,T,x,null);if(typeof T.then=="function")return p(g,v,A,Og(T),x);if(T.$$typeof===Ta)return p(g,v,A,Dg(v,T),x);Pg(v,T)}return null}function y(g,v,A,T){for(var x=null,_=null,C=v,M=v=0,D=null;C!==null&&M<A.length;M++){C.index>M?(D=C,C=null):D=C.sibling;var O=f(g,C,A[M],T);if(O===null){C===null&&(C=D);break}n&&C&&O.alternate===null&&t(g,C),v=a(O,v,M),_===null?x=O:_.sibling=O,_=O,C=D}if(M===A.length)return e(g,C),vt&&yo(g,M),x;if(C===null){for(;M<A.length;M++)C=d(g,A[M],T),C!==null&&(v=a(C,v,M),_===null?x=C:_.sibling=C,_=C);return vt&&yo(g,M),x}for(C=i(C);M<A.length;M++)D=p(C,g,M,A[M],T),D!==null&&(n&&D.alternate!==null&&C.delete(D.key===null?M:D.key),v=a(D,v,M),_===null?x=D:_.sibling=D,_=D);return n&&C.forEach(function(N){return t(g,N)}),vt&&yo(g,M),x}function m(g,v,A,T){if(A==null)throw Error(k(151));for(var x=null,_=null,C=v,M=v=0,D=null,O=A.next();C!==null&&!O.done;M++,O=A.next()){C.index>M?(D=C,C=null):D=C.sibling;var N=f(g,C,O.value,T);if(N===null){C===null&&(C=D);break}n&&C&&N.alternate===null&&t(g,C),v=a(N,v,M),_===null?x=N:_.sibling=N,_=N,C=D}if(O.done)return e(g,C),vt&&yo(g,M),x;if(C===null){for(;!O.done;M++,O=A.next())O=d(g,O.value,T),O!==null&&(v=a(O,v,M),_===null?x=O:_.sibling=O,_=O);return vt&&yo(g,M),x}for(C=i(C);!O.done;M++,O=A.next())O=p(C,g,M,O.value,T),O!==null&&(n&&O.alternate!==null&&C.delete(O.key===null?M:O.key),v=a(O,v,M),_===null?x=O:_.sibling=O,_=O);return n&&C.forEach(function(q){return t(g,q)}),vt&&yo(g,M),x}function S(g,v,A,T){if(typeof A=="object"&&A!==null&&A.type===bu&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case xg:t:{for(var x=A.key;v!==null;){if(v.key===x){if(x=A.type,x===bu){if(v.tag===7){e(g,v.sibling),T=s(v,A.props.children),T.return=g,g=T;break t}}else if(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ja&&m1(x)===v.type){e(g,v.sibling),T=s(v,A.props),Bh(T,A),T.return=g,g=T;break t}e(g,v);break}else t(g,v);v=v.sibling}A.type===bu?(T=Nl(A.props.children,g.mode,T,A.key),T.return=g,g=T):(T=tm(A.type,A.key,A.props,null,g.mode,T),Bh(T,A),T.return=g,g=T)}return r(g);case Xh:t:{for(x=A.key;v!==null;){if(v.key===x)if(v.tag===4&&v.stateNode.containerInfo===A.containerInfo&&v.stateNode.implementation===A.implementation){e(g,v.sibling),T=s(v,A.children||[]),T.return=g,g=T;break t}else{e(g,v);break}else t(g,v);v=v.sibling}T=Wv(A,g.mode,T),T.return=g,g=T}return r(g);case Ja:return x=A._init,A=x(A._payload),S(g,v,A,T)}if(Yh(A))return y(g,v,A,T);if(Oh(A)){if(x=Oh(A),typeof x!="function")throw Error(k(150));return A=x.call(A),m(g,v,A,T)}if(typeof A.then=="function")return S(g,v,Og(A),T);if(A.$$typeof===Ta)return S(g,v,Dg(g,A),T);Pg(g,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,v!==null&&v.tag===6?(e(g,v.sibling),T=s(v,A),T.return=g,g=T):(e(g,v),T=Kv(A,g.mode,T),T.return=g,g=T),r(g)):e(g,v)}return function(g,v,A,T){try{qd=0;var x=S(g,v,A,T);return Xu=null,x}catch(C){if(C===Zp||C===lv)throw C;var _=si(29,C,null,g.mode);return _.lanes=T,_.return=g,_}finally{}}}var ch=HC(!0),UC=HC(!1),Pi=ks(null),Ls=null;function nr(n){var t=n.alternate;$t(xe,xe.current&1),$t(Pi,n),Ls===null&&(t===null||lh.current!==null||t.memoizedState!==null)&&(Ls=n)}function jC(n){if(n.tag===22){if($t(xe,xe.current),$t(Pi,n),Ls===null){var t=n.alternate;t!==null&&t.memoizedState!==null&&(Ls=n)}}else ir()}function ir(){$t(xe,xe.current),$t(Pi,Pi.current)}function Ra(n){Ve(Pi),Ls===n&&(Ls=null),Ve(xe)}var xe=ks(0);function ay(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||Db(e)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Jv(n,t,e,i){t=n.memoizedState,e=e(i,t),e=e==null?t:Vt({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var pb={enqueueSetState:function(n,t,e){n=n._reactInternals;var i=oi(),s=Yr(i);s.payload=t,e!=null&&(s.callback=e),t=$r(n,s,i),t!==null&&(li(t,n,i),Ed(t,n,i))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var i=oi(),s=Yr(i);s.tag=1,s.payload=t,e!=null&&(s.callback=e),t=$r(n,s,i),t!==null&&(li(t,n,i),Ed(t,n,i))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=oi(),i=Yr(e);i.tag=2,t!=null&&(i.callback=t),t=$r(n,i,e),t!==null&&(li(t,n,e),Ed(t,n,e))}};function y1(n,t,e,i,s,a,r){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,a,r):t.prototype&&t.prototype.isPureReactComponent?!Ud(e,i)||!Ud(s,a):!0}function v1(n,t,e,i){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,i),t.state!==n&&pb.enqueueReplaceState(t,t.state,null)}function ql(n,t){var e=t;if("ref"in t){e={};for(var i in t)i!=="ref"&&(e[i]=t[i])}if(n=n.defaultProps){e===t&&(e=Vt({},e));for(var s in n)e[s]===void 0&&(e[s]=n[s])}return e}var ry=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function GC(n){ry(n)}function qC(n){console.error(n)}function XC(n){ry(n)}function oy(n,t){try{var e=n.onUncaughtError;e(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function b1(n,t,e){try{var i=n.onCaughtError;i(e.value,{componentStack:e.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function gb(n,t,e){return e=Yr(e),e.tag=3,e.payload={element:null},e.callback=function(){oy(n,t)},e}function YC(n){return n=Yr(n),n.tag=3,n}function $C(n,t,e,i){var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=i.value;n.payload=function(){return s(a)},n.callback=function(){b1(t,e,i)}}var r=e.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){b1(t,e,i),typeof s!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function LN(n,t,e,i,s){if(e.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=e.alternate,t!==null&&Wp(t,e,s,!0),e=Pi.current,e!==null){switch(e.tag){case 13:return Ls===null?Eb():e.alternate===null&&ae===0&&(ae=3),e.flags&=-257,e.flags|=65536,e.lanes=s,i===ob?e.flags|=16384:(t=e.updateQueue,t===null?e.updateQueue=new Set([i]):t.add(i),c0(n,i,s)),!1;case 22:return e.flags|=65536,i===ob?e.flags|=16384:(t=e.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},e.updateQueue=t):(e=t.retryQueue,e===null?t.retryQueue=new Set([i]):e.add(i)),c0(n,i,s)),!1}throw Error(k(435,e.tag))}return c0(n,i,s),Eb(),!1}if(vt)return t=Pi.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==nb&&(n=Error(k(422),{cause:i}),jd(Ci(n,e)))):(i!==nb&&(t=Error(k(423),{cause:i}),jd(Ci(t,e))),n=n.current.alternate,n.flags|=65536,s&=-s,n.lanes|=s,i=Ci(i,e),s=gb(n.stateNode,i,s),Qv(n,s),ae!==4&&(ae=2)),!1;var a=Error(k(520),{cause:i});if(a=Ci(a,e),Md===null?Md=[a]:Md.push(a),ae!==4&&(ae=2),t===null)return!0;i=Ci(i,e),e=t;do{switch(e.tag){case 3:return e.flags|=65536,n=s&-s,e.lanes|=n,n=gb(e.stateNode,i,n),Qv(e,n),!1;case 1:if(t=e.type,a=e.stateNode,(e.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Kr===null||!Kr.has(a))))return e.flags|=65536,s&=-s,e.lanes|=s,s=YC(s),$C(s,n,e,i),Qv(e,s),!1}e=e.return}while(e!==null);return!1}var KC=Error(k(461)),Ie=!1;function Ye(n,t,e,i){t.child=n===null?UC(t,null,e,i):ch(t,n.child,e,i)}function A1(n,t,e,i,s){e=e.render;var a=t.ref;if("ref"in i){var r={};for(var o in i)o!=="ref"&&(r[o]=i[o])}else r=i;return jl(t),i=qS(n,t,e,r,a,s),o=XS(),n!==null&&!Ie?(YS(n,t,s),Ba(n,t,s)):(vt&&o&&FS(t),t.flags|=1,Ye(n,t,i,s),t.child)}function S1(n,t,e,i,s){if(n===null){var a=e.type;return typeof a=="function"&&!IS(a)&&a.defaultProps===void 0&&e.compare===null?(t.tag=15,t.type=a,WC(n,t,a,i,s)):(n=tm(e.type,null,i,t,t.mode,s),n.ref=t.ref,n.return=t,t.child=n)}if(a=n.child,!nw(n,s)){var r=a.memoizedProps;if(e=e.compare,e=e!==null?e:Ud,e(r,i)&&n.ref===t.ref)return Ba(n,t,s)}return t.flags|=1,n=Ma(a,i),n.ref=t.ref,n.return=t,t.child=n}function WC(n,t,e,i,s){if(n!==null){var a=n.memoizedProps;if(Ud(a,i)&&n.ref===t.ref)if(Ie=!1,t.pendingProps=i=a,nw(n,s))n.flags&131072&&(Ie=!0);else return t.lanes=n.lanes,Ba(n,t,s)}return mb(n,t,e,i,s)}function QC(n,t,e){var i=t.pendingProps,s=i.children,a=n!==null?n.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=a!==null?a.baseLanes|e:e,n!==null){for(s=t.child=n.child,a=0;s!==null;)a=a|s.lanes|s.childLanes,s=s.sibling;t.childLanes=a&~i}else t.childLanes=0,t.child=null;return w1(n,t,i,e)}if(e&536870912)t.memoizedState={baseLanes:0,cachePool:null},n!==null&&em(t,a!==null?a.cachePool:null),a!==null?u1(t,a):cb(),jC(t);else return t.lanes=t.childLanes=536870912,w1(n,t,a!==null?a.baseLanes|e:e,e)}else a!==null?(em(t,a.cachePool),u1(t,a),ir(),t.memoizedState=null):(n!==null&&em(t,null),cb(),ir());return Ye(n,t,s,e),t.child}function w1(n,t,e,i){var s=HS();return s=s===null?null:{parent:Te._currentValue,pool:s},t.memoizedState={baseLanes:e,cachePool:s},n!==null&&em(t,null),cb(),jC(t),n!==null&&Wp(n,t,i,!0),null}function sm(n,t){var e=t.ref;if(e===null)n!==null&&n.ref!==null&&(t.flags|=4194816);else{if(typeof e!="function"&&typeof e!="object")throw Error(k(284));(n===null||n.ref!==e)&&(t.flags|=4194816)}}function mb(n,t,e,i,s){return jl(t),e=qS(n,t,e,i,void 0,s),i=XS(),n!==null&&!Ie?(YS(n,t,s),Ba(n,t,s)):(vt&&i&&FS(t),t.flags|=1,Ye(n,t,e,s),t.child)}function E1(n,t,e,i,s,a){return jl(t),t.updateQueue=null,e=cC(t,i,e,s),uC(n),i=XS(),n!==null&&!Ie?(YS(n,t,a),Ba(n,t,a)):(vt&&i&&FS(t),t.flags|=1,Ye(n,t,e,a),t.child)}function T1(n,t,e,i,s){if(jl(t),t.stateNode===null){var a=Cu,r=e.contextType;typeof r=="object"&&r!==null&&(a=hn(r)),a=new e(i,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=pb,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=i,a.state=t.memoizedState,a.refs={},US(t),r=e.contextType,a.context=typeof r=="object"&&r!==null?hn(r):Cu,a.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Jv(t,e,r,i),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&pb.enqueueReplaceState(a,a.state,null),xd(t,i,a,s),Td(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(n===null){a=t.stateNode;var o=t.memoizedProps,l=ql(e,o);a.props=l;var c=a.context,h=e.contextType;r=Cu,typeof h=="object"&&h!==null&&(r=hn(h));var d=e.getDerivedStateFromProps;h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==r)&&v1(t,a,i,r),tr=!1;var f=t.memoizedState;a.state=f,xd(t,i,a,s),Td(),c=t.memoizedState,o||f!==c||tr?(typeof d=="function"&&(Jv(t,e,d,i),c=t.memoizedState),(l=tr||y1(t,e,l,i,f,c,r))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=r,i=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,lb(n,t),r=t.memoizedProps,h=ql(e,r),a.props=h,d=t.pendingProps,f=a.context,c=e.contextType,l=Cu,typeof c=="object"&&c!==null&&(l=hn(c)),o=e.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(r!==d||f!==l)&&v1(t,a,i,l),tr=!1,f=t.memoizedState,a.state=f,xd(t,i,a,s),Td();var p=t.memoizedState;r!==d||f!==p||tr||n!==null&&n.dependencies!==null&&ty(n.dependencies)?(typeof o=="function"&&(Jv(t,e,o,i),p=t.memoizedState),(h=tr||y1(t,e,h,i,f,p,l)||n!==null&&n.dependencies!==null&&ty(n.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,p,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||r===n.memoizedProps&&f===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===n.memoizedProps&&f===n.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),a.props=i,a.state=p,a.context=l,i=h):(typeof a.componentDidUpdate!="function"||r===n.memoizedProps&&f===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===n.memoizedProps&&f===n.memoizedState||(t.flags|=1024),i=!1)}return a=i,sm(n,t),i=(t.flags&128)!==0,a||i?(a=t.stateNode,e=i&&typeof e.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,n!==null&&i?(t.child=ch(t,n.child,null,s),t.child=ch(t,null,e,s)):Ye(n,t,e,s),t.memoizedState=a.state,n=t.child):n=Ba(n,t,s),n}function x1(n,t,e,i){return Kp(),t.flags|=256,Ye(n,t,e,i),t.child}var t0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function e0(n){return{baseLanes:n,cachePool:sC()}}function n0(n,t,e){return n=n!==null?n.childLanes&~e:0,t&&(n|=Di),n}function ZC(n,t,e){var i=t.pendingProps,s=!1,a=(t.flags&128)!==0,r;if((r=a)||(r=n!==null&&n.memoizedState===null?!1:(xe.current&2)!==0),r&&(s=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,n===null){if(vt){if(s?nr(t):ir(),vt){var o=se,l;if(l=o){t:{for(l=o,o=xs;l.nodeType!==8;){if(!o){o=null;break t}if(l=Ji(l.nextSibling),l===null){o=null;break t}}o=l}o!==null?(t.memoizedState={dehydrated:o,treeContext:kl!==null?{id:xa,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},l=si(18,null,null,0),l.stateNode=o,l.return=t,t.child=l,An=t,se=null,l=!0):l=!1}l||Ul(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Db(o)?t.lanes=32:t.lanes=536870912,null;Ra(t)}return o=i.children,i=i.fallback,s?(ir(),s=t.mode,o=ly({mode:"hidden",children:o},s),i=Nl(i,s,e,null),o.return=t,i.return=t,o.sibling=i,t.child=o,s=t.child,s.memoizedState=e0(e),s.childLanes=n0(n,r,e),t.memoizedState=t0,i):(nr(t),yb(t,o))}if(l=n.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(a)t.flags&256?(nr(t),t.flags&=-257,t=i0(n,t,e)):t.memoizedState!==null?(ir(),t.child=n.child,t.flags|=128,t=null):(ir(),s=i.fallback,o=t.mode,i=ly({mode:"visible",children:i.children},o),s=Nl(s,o,e,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,ch(t,n.child,null,e),i=t.child,i.memoizedState=e0(e),i.childLanes=n0(n,r,e),t.memoizedState=t0,t=s);else if(nr(t),Db(o)){if(r=o.nextSibling&&o.nextSibling.dataset,r)var c=r.dgst;r=c,i=Error(k(419)),i.stack="",i.digest=r,jd({value:i,source:null,stack:null}),t=i0(n,t,e)}else if(Ie||Wp(n,t,e,!1),r=(e&n.childLanes)!==0,Ie||r){if(r=Bt,r!==null&&(i=e&-e,i=i&42?1:_S(i),i=i&(r.suspendedLanes|e)?0:i,i!==0&&i!==l.retryLane))throw l.retryLane=i,wh(n,i),li(r,n,i),KC;o.data==="$?"||Eb(),t=i0(n,t,e)}else o.data==="$?"?(t.flags|=192,t.child=n.child,t=null):(n=l.treeContext,se=Ji(o.nextSibling),An=t,vt=!0,Bl=null,xs=!1,n!==null&&(Ti[xi++]=xa,Ti[xi++]=_a,Ti[xi++]=kl,xa=n.id,_a=n.overflow,kl=t),t=yb(t,i.children),t.flags|=4096);return t}return s?(ir(),s=i.fallback,o=t.mode,l=n.child,c=l.sibling,i=Ma(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&65011712,c!==null?s=Ma(c,s):(s=Nl(s,o,e,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=n.child.memoizedState,o===null?o=e0(e):(l=o.cachePool,l!==null?(c=Te._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=sC(),o={baseLanes:o.baseLanes|e,cachePool:l}),s.memoizedState=o,s.childLanes=n0(n,r,e),t.memoizedState=t0,i):(nr(t),e=n.child,n=e.sibling,e=Ma(e,{mode:"visible",children:i.children}),e.return=t,e.sibling=null,n!==null&&(r=t.deletions,r===null?(t.deletions=[n],t.flags|=16):r.push(n)),t.child=e,t.memoizedState=null,e)}function yb(n,t){return t=ly({mode:"visible",children:t},n.mode),t.return=n,n.child=t}function ly(n,t){return n=si(22,n,null,t),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function i0(n,t,e){return ch(t,n.child,null,e),n=yb(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function _1(n,t,e){n.lanes|=t;var i=n.alternate;i!==null&&(i.lanes|=t),sb(n.return,t,e)}function s0(n,t,e,i,s){var a=n.memoizedState;a===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:e,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=e,a.tailMode=s)}function JC(n,t,e){var i=t.pendingProps,s=i.revealOrder,a=i.tail;if(Ye(n,t,i.children,e),i=xe.current,i&2)i=i&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)t:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&_1(n,e,t);else if(n.tag===19)_1(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}switch($t(xe,i),s){case"forwards":for(e=t.child,s=null;e!==null;)n=e.alternate,n!==null&&ay(n)===null&&(s=e),e=e.sibling;e=s,e===null?(s=t.child,t.child=null):(s=e.sibling,e.sibling=null),s0(t,!1,s,e,a);break;case"backwards":for(e=null,s=t.child,t.child=null;s!==null;){if(n=s.alternate,n!==null&&ay(n)===null){t.child=s;break}n=s.sibling,s.sibling=e,e=s,s=n}s0(t,!0,e,null,a);break;case"together":s0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ba(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),no|=t.lanes,!(e&t.childLanes))if(n!==null){if(Wp(n,t,e,!1),(e&t.childLanes)===0)return null}else return null;if(n!==null&&t.child!==n.child)throw Error(k(153));if(t.child!==null){for(n=t.child,e=Ma(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=Ma(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function nw(n,t){return n.lanes&t?!0:(n=n.dependencies,!!(n!==null&&ty(n)))}function ON(n,t,e){switch(t.tag){case 3:Xm(t,t.stateNode.containerInfo),er(t,Te,n.memoizedState.cache),Kp();break;case 27:case 5:X0(t);break;case 4:Xm(t,t.stateNode.containerInfo);break;case 10:er(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(nr(t),t.flags|=128,null):e&t.child.childLanes?ZC(n,t,e):(nr(t),n=Ba(n,t,e),n!==null?n.sibling:null);nr(t);break;case 19:var s=(n.flags&128)!==0;if(i=(e&t.childLanes)!==0,i||(Wp(n,t,e,!1),i=(e&t.childLanes)!==0),s){if(i)return JC(n,t,e);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$t(xe,xe.current),i)break;return null;case 22:case 23:return t.lanes=0,QC(n,t,e);case 24:er(t,Te,n.memoizedState.cache)}return Ba(n,t,e)}function tR(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps)Ie=!0;else{if(!nw(n,e)&&!(t.flags&128))return Ie=!1,ON(n,t,e);Ie=!!(n.flags&131072)}else Ie=!1,vt&&t.flags&1048576&&nC(t,Jm,t.index);switch(t.lanes=0,t.tag){case 16:t:{n=t.pendingProps;var i=t.elementType,s=i._init;if(i=s(i._payload),t.type=i,typeof i=="function")IS(i)?(n=ql(i,n),t.tag=1,t=T1(null,t,i,n,e)):(t.tag=0,t=mb(null,t,i,n,e));else{if(i!=null){if(s=i.$$typeof,s===ES){t.tag=11,t=A1(null,t,i,n,e);break t}else if(s===TS){t.tag=14,t=S1(null,t,i,n,e);break t}}throw t=G0(i)||i,Error(k(306,t,""))}}return t;case 0:return mb(n,t,t.type,t.pendingProps,e);case 1:return i=t.type,s=ql(i,t.pendingProps),T1(n,t,i,s,e);case 3:t:{if(Xm(t,t.stateNode.containerInfo),n===null)throw Error(k(387));i=t.pendingProps;var a=t.memoizedState;s=a.element,lb(n,t),xd(t,i,null,e);var r=t.memoizedState;if(i=r.cache,er(t,Te,i),i!==a.cache&&ab(t,[Te],e,!0),Td(),i=r.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=x1(n,t,i,e);break t}else if(i!==s){s=Ci(Error(k(424)),t),jd(s),t=x1(n,t,i,e);break t}else{switch(n=t.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(se=Ji(n.firstChild),An=t,vt=!0,Bl=null,xs=!0,e=UC(t,null,i,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling}else{if(Kp(),i===s){t=Ba(n,t,e);break t}Ye(n,t,i,e)}t=t.child}return t;case 26:return sm(n,t),n===null?(e=j1(t.type,null,t.pendingProps,null))?t.memoizedState=e:vt||(e=t.type,n=t.pendingProps,i=gy(Xr.current).createElement(e),i[cn]=t,i[Bn]=n,Ze(i,e,n),Be(i),t.stateNode=i):t.memoizedState=j1(t.type,n.memoizedProps,t.pendingProps,n.memoizedState),null;case 27:return X0(t),n===null&&vt&&(i=t.stateNode=zR(t.type,t.pendingProps,Xr.current),An=t,xs=!0,s=se,co(t.type)?(Lb=s,se=Ji(i.firstChild)):se=s),Ye(n,t,t.pendingProps.children,e),sm(n,t),n===null&&(t.flags|=4194304),t.child;case 5:return n===null&&vt&&((s=i=se)&&(i=rk(i,t.type,t.pendingProps,xs),i!==null?(t.stateNode=i,An=t,se=Ji(i.firstChild),xs=!1,s=!0):s=!1),s||Ul(t)),X0(t),s=t.type,a=t.pendingProps,r=n!==null?n.memoizedProps:null,i=a.children,Rb(s,a)?i=null:r!==null&&Rb(s,r)&&(t.flags|=32),t.memoizedState!==null&&(s=qS(n,t,TN,null,null,e),Kd._currentValue=s),sm(n,t),Ye(n,t,i,e),t.child;case 6:return n===null&&vt&&((n=e=se)&&(e=ok(e,t.pendingProps,xs),e!==null?(t.stateNode=e,An=t,se=null,n=!0):n=!1),n||Ul(t)),null;case 13:return ZC(n,t,e);case 4:return Xm(t,t.stateNode.containerInfo),i=t.pendingProps,n===null?t.child=ch(t,null,i,e):Ye(n,t,i,e),t.child;case 11:return A1(n,t,t.type,t.pendingProps,e);case 7:return Ye(n,t,t.pendingProps,e),t.child;case 8:return Ye(n,t,t.pendingProps.children,e),t.child;case 12:return Ye(n,t,t.pendingProps.children,e),t.child;case 10:return i=t.pendingProps,er(t,t.type,i.value),Ye(n,t,i.children,e),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,jl(t),s=hn(s),i=i(s),t.flags|=1,Ye(n,t,i,e),t.child;case 14:return S1(n,t,t.type,t.pendingProps,e);case 15:return WC(n,t,t.type,t.pendingProps,e);case 19:return JC(n,t,e);case 31:return i=t.pendingProps,e=t.mode,i={mode:i.mode,children:i.children},n===null?(e=ly(i,e),e.ref=t.ref,t.child=e,e.return=t,t=e):(e=Ma(n.child,i),e.ref=t.ref,t.child=e,e.return=t,t=e),t;case 22:return QC(n,t,e);case 24:return jl(t),i=hn(Te),n===null?(s=HS(),s===null&&(s=Bt,a=zS(),s.pooledCache=a,a.refCount++,a!==null&&(s.pooledCacheLanes|=e),s=a),t.memoizedState={parent:i,cache:s},US(t),er(t,Te,s)):(n.lanes&e&&(lb(n,t),xd(t,null,null,e),Td()),s=n.memoizedState,a=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),er(t,Te,i)):(i=a.cache,er(t,Te,i),i!==s.cache&&ab(t,[Te],e,!0))),Ye(n,t,t.pendingProps.children,e),t.child;case 29:throw t.pendingProps}throw Error(k(156,t.tag))}function Hs(n){n.flags|=4}function C1(n,t){if(t.type!=="stylesheet"||t.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!jR(t)){if(t=Pi.current,t!==null&&((dt&4194048)===dt?Ls!==null:(dt&62914560)!==dt&&!(dt&536870912)||t!==Ls))throw wd=ob,aC;n.flags|=8192}}function Ng(n,t){t!==null&&(n.flags|=4),n.flags&16384&&(t=n.tag!==22?__():536870912,n.lanes|=t,hh|=t)}function Ih(n,t){if(!vt)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Kt(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,i=0;if(t)for(var s=n.child;s!==null;)e|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)e|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=i,n.childLanes=e,t}function PN(n,t,e){var i=t.pendingProps;switch(VS(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(t),null;case 1:return Kt(t),null;case 3:return e=t.stateNode,i=null,n!==null&&(i=n.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Da(Te),sh(),e.pendingContext&&(e.context=e.pendingContext,e.pendingContext=null),(n===null||n.child===null)&&(kh(t)?Hs(t):n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,i1())),Kt(t),null;case 26:return e=t.memoizedState,n===null?(Hs(t),e!==null?(Kt(t),C1(t,e)):(Kt(t),t.flags&=-16777217)):e?e!==n.memoizedState?(Hs(t),Kt(t),C1(t,e)):(Kt(t),t.flags&=-16777217):(n.memoizedProps!==i&&Hs(t),Kt(t),t.flags&=-16777217),null;case 27:Ym(t),e=Xr.current;var s=t.type;if(n!==null&&t.stateNode!=null)n.memoizedProps!==i&&Hs(t);else{if(!i){if(t.stateNode===null)throw Error(k(166));return Kt(t),null}n=Ms.current,kh(t)?e1(t):(n=zR(s,i,e),t.stateNode=n,Hs(t))}return Kt(t),null;case 5:if(Ym(t),e=t.type,n!==null&&t.stateNode!=null)n.memoizedProps!==i&&Hs(t);else{if(!i){if(t.stateNode===null)throw Error(k(166));return Kt(t),null}if(n=Ms.current,kh(t))e1(t);else{switch(s=gy(Xr.current),n){case 1:n=s.createElementNS("http://www.w3.org/2000/svg",e);break;case 2:n=s.createElementNS("http://www.w3.org/1998/Math/MathML",e);break;default:switch(e){case"svg":n=s.createElementNS("http://www.w3.org/2000/svg",e);break;case"math":n=s.createElementNS("http://www.w3.org/1998/Math/MathML",e);break;case"script":n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?n.multiple=!0:i.size&&(n.size=i.size);break;default:n=typeof i.is=="string"?s.createElement(e,{is:i.is}):s.createElement(e)}}n[cn]=t,n[Bn]=i;t:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)n.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break t;for(;s.sibling===null;){if(s.return===null||s.return===t)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=n;t:switch(Ze(n,e,i),e){case"button":case"input":case"select":case"textarea":n=!!i.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Hs(t)}}return Kt(t),t.flags&=-16777217,null;case 6:if(n&&t.stateNode!=null)n.memoizedProps!==i&&Hs(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(k(166));if(n=Xr.current,kh(t)){if(n=t.stateNode,e=t.memoizedProps,i=null,s=An,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}n[cn]=t,n=!!(n.nodeValue===e||i!==null&&i.suppressHydrationWarning===!0||IR(n.nodeValue,e)),n||Ul(t)}else n=gy(n).createTextNode(i),n[cn]=t,t.stateNode=n}return Kt(t),null;case 13:if(i=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(s=kh(t),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(k(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(k(317));s[cn]=t}else Kp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Kt(t),s=!1}else s=i1(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Ra(t),t):(Ra(t),null)}if(Ra(t),t.flags&128)return t.lanes=e,t;if(e=i!==null,n=n!==null&&n.memoizedState!==null,e){i=t.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool);var a=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==s&&(i.flags|=2048)}return e!==n&&e&&(t.child.flags|=8192),Ng(t,t.updateQueue),Kt(t),null;case 4:return sh(),n===null&&cw(t.stateNode.containerInfo),Kt(t),null;case 10:return Da(t.type),Kt(t),null;case 19:if(Ve(xe),s=t.memoizedState,s===null)return Kt(t),null;if(i=(t.flags&128)!==0,a=s.rendering,a===null)if(i)Ih(s,!1);else{if(ae!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(a=ay(n),a!==null){for(t.flags|=128,Ih(s,!1),n=a.updateQueue,t.updateQueue=n,Ng(t,n),t.subtreeFlags=0,n=e,e=t.child;e!==null;)eC(e,n),e=e.sibling;return $t(xe,xe.current&1|2),t.child}n=n.sibling}s.tail!==null&&Ds()>cy&&(t.flags|=128,i=!0,Ih(s,!1),t.lanes=4194304)}else{if(!i)if(n=ay(a),n!==null){if(t.flags|=128,i=!0,n=n.updateQueue,t.updateQueue=n,Ng(t,n),Ih(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!vt)return Kt(t),null}else 2*Ds()-s.renderingStartTime>cy&&e!==536870912&&(t.flags|=128,i=!0,Ih(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ds(),t.sibling=null,n=xe.current,$t(xe,i?n&1|2:n&1),t):(Kt(t),null);case 22:case 23:return Ra(t),jS(),i=t.memoizedState!==null,n!==null?n.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?e&536870912&&!(t.flags&128)&&(Kt(t),t.subtreeFlags&6&&(t.flags|=8192)):Kt(t),e=t.updateQueue,e!==null&&Ng(t,e.retryQueue),e=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==e&&(t.flags|=2048),n!==null&&Ve(Il),null;case 24:return e=null,n!==null&&(e=n.memoizedState.cache),t.memoizedState.cache!==e&&(t.flags|=2048),Da(Te),Kt(t),null;case 25:return null;case 30:return null}throw Error(k(156,t.tag))}function NN(n,t){switch(VS(t),t.tag){case 1:return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return Da(Te),sh(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 26:case 27:case 5:return Ym(t),null;case 13:if(Ra(t),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(k(340));Kp()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return Ve(xe),null;case 4:return sh(),null;case 10:return Da(t.type),null;case 22:case 23:return Ra(t),jS(),n!==null&&Ve(Il),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 24:return Da(Te),null;case 25:return null;default:return null}}function eR(n,t){switch(VS(t),t.tag){case 3:Da(Te),sh();break;case 26:case 27:case 5:Ym(t);break;case 4:sh();break;case 13:Ra(t);break;case 19:Ve(xe);break;case 10:Da(t.type);break;case 22:case 23:Ra(t),jS(),n!==null&&Ve(Il);break;case 24:Da(Te)}}function eg(n,t){try{var e=t.updateQueue,i=e!==null?e.lastEffect:null;if(i!==null){var s=i.next;e=s;do{if((e.tag&n)===n){i=void 0;var a=e.create,r=e.inst;i=a(),r.destroy=i}e=e.next}while(e!==s)}}catch(o){Lt(t,t.return,o)}}function eo(n,t,e){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var a=s.next;i=a;do{if((i.tag&n)===n){var r=i.inst,o=r.destroy;if(o!==void 0){r.destroy=void 0,s=t;var l=e,c=o;try{c()}catch(h){Lt(s,l,h)}}}i=i.next}while(i!==a)}}catch(h){Lt(t,t.return,h)}}function nR(n){var t=n.updateQueue;if(t!==null){var e=n.stateNode;try{lC(t,e)}catch(i){Lt(n,n.return,i)}}}function iR(n,t,e){e.props=ql(n.type,n.memoizedProps),e.state=n.memoizedState;try{e.componentWillUnmount()}catch(i){Lt(n,t,i)}}function Cd(n,t){try{var e=n.ref;if(e!==null){switch(n.tag){case 26:case 27:case 5:var i=n.stateNode;break;case 30:i=n.stateNode;break;default:i=n.stateNode}typeof e=="function"?n.refCleanup=e(i):e.current=i}}catch(s){Lt(n,t,s)}}function Rs(n,t){var e=n.ref,i=n.refCleanup;if(e!==null)if(typeof i=="function")try{i()}catch(s){Lt(n,t,s)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof e=="function")try{e(null)}catch(s){Lt(n,t,s)}else e.current=null}function sR(n){var t=n.type,e=n.memoizedProps,i=n.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":e.autoFocus&&i.focus();break t;case"img":e.src?i.src=e.src:e.srcSet&&(i.srcset=e.srcSet)}}catch(s){Lt(n,n.return,s)}}function a0(n,t,e){try{var i=n.stateNode;ek(i,n.type,e,t),i[Bn]=t}catch(s){Lt(n,n.return,s)}}function aR(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&co(n.type)||n.tag===4}function r0(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||aR(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&co(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function vb(n,t,e){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e).insertBefore(n,t):(t=e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,t.appendChild(n),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=gv));else if(i!==4&&(i===27&&co(n.type)&&(e=n.stateNode,t=null),n=n.child,n!==null))for(vb(n,t,e),n=n.sibling;n!==null;)vb(n,t,e),n=n.sibling}function uy(n,t,e){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(i!==4&&(i===27&&co(n.type)&&(e=n.stateNode),n=n.child,n!==null))for(uy(n,t,e),n=n.sibling;n!==null;)uy(n,t,e),n=n.sibling}function rR(n){var t=n.stateNode,e=n.memoizedProps;try{for(var i=n.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ze(t,i,e),t[cn]=n,t[Bn]=e}catch(a){Lt(n,n.return,a)}}var Ea=!1,he=!1,o0=!1,R1=typeof WeakSet=="function"?WeakSet:Set,ke=null;function kN(n,t){if(n=n.containerInfo,_b=by,n=Y_(n),NS(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else t:{e=(e=n.ownerDocument)&&e.defaultView||window;var i=e.getSelection&&e.getSelection();if(i&&i.rangeCount!==0){e=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{e.nodeType,a.nodeType}catch{e=null;break t}var r=0,o=-1,l=-1,c=0,h=0,d=n,f=null;e:for(;;){for(var p;d!==e||s!==0&&d.nodeType!==3||(o=r+s),d!==a||i!==0&&d.nodeType!==3||(l=r+i),d.nodeType===3&&(r+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===n)break e;if(f===e&&++c===s&&(o=r),f===a&&++h===i&&(l=r),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}e=o===-1||l===-1?null:{start:o,end:l}}else e=null}e=e||{start:0,end:0}}else e=null;for(Cb={focusedElem:n,selectionRange:e},by=!1,ke=t;ke!==null;)if(t=ke,n=t.child,(t.subtreeFlags&1024)!==0&&n!==null)n.return=t,ke=n;else for(;ke!==null;){switch(t=ke,a=t.alternate,n=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&a!==null){n=void 0,e=t,s=a.memoizedProps,a=a.memoizedState,i=e.stateNode;try{var y=ql(e.type,s,e.elementType===e.type);n=i.getSnapshotBeforeUpdate(y,a),i.__reactInternalSnapshotBeforeUpdate=n}catch(m){Lt(e,e.return,m)}}break;case 3:if(n&1024){if(n=t.stateNode.containerInfo,e=n.nodeType,e===9)Mb(n);else if(e===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Mb(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(k(163))}if(n=t.sibling,n!==null){n.return=t.return,ke=n;break}ke=t.return}}function oR(n,t,e){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Ka(n,e),i&4&&eg(5,e);break;case 1:if(Ka(n,e),i&4)if(n=e.stateNode,t===null)try{n.componentDidMount()}catch(r){Lt(e,e.return,r)}else{var s=ql(e.type,t.memoizedProps);t=t.memoizedState;try{n.componentDidUpdate(s,t,n.__reactInternalSnapshotBeforeUpdate)}catch(r){Lt(e,e.return,r)}}i&64&&nR(e),i&512&&Cd(e,e.return);break;case 3:if(Ka(n,e),i&64&&(n=e.updateQueue,n!==null)){if(t=null,e.child!==null)switch(e.child.tag){case 27:case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}try{lC(n,t)}catch(r){Lt(e,e.return,r)}}break;case 27:t===null&&i&4&&rR(e);case 26:case 5:Ka(n,e),t===null&&i&4&&sR(e),i&512&&Cd(e,e.return);break;case 12:Ka(n,e);break;case 13:Ka(n,e),i&4&&cR(n,e),i&64&&(n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(e=GN.bind(null,e),lk(n,e))));break;case 22:if(i=e.memoizedState!==null||Ea,!i){t=t!==null&&t.memoizedState!==null||he,s=Ea;var a=he;Ea=i,(he=t)&&!a?Wa(n,e,(e.subtreeFlags&8772)!==0):Ka(n,e),Ea=s,he=a}break;case 30:break;default:Ka(n,e)}}function lR(n){var t=n.alternate;t!==null&&(n.alternate=null,lR(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&RS(t)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Gt=null,On=!1;function Us(n,t,e){for(e=e.child;e!==null;)uR(n,t,e),e=e.sibling}function uR(n,t,e){if(ai&&typeof ai.onCommitFiberUnmount=="function")try{ai.onCommitFiberUnmount(Gp,e)}catch{}switch(e.tag){case 26:he||Rs(e,t),Us(n,t,e),e.memoizedState?e.memoizedState.count--:e.stateNode&&(e=e.stateNode,e.parentNode.removeChild(e));break;case 27:he||Rs(e,t);var i=Gt,s=On;co(e.type)&&(Gt=e.stateNode,On=!1),Us(n,t,e),Ld(e.stateNode),Gt=i,On=s;break;case 5:he||Rs(e,t);case 6:if(i=Gt,s=On,Gt=null,Us(n,t,e),Gt=i,On=s,Gt!==null)if(On)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(e.stateNode)}catch(a){Lt(e,t,a)}else try{Gt.removeChild(e.stateNode)}catch(a){Lt(e,t,a)}break;case 18:Gt!==null&&(On?(n=Gt,z1(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.stateNode),Zd(n)):z1(Gt,e.stateNode));break;case 4:i=Gt,s=On,Gt=e.stateNode.containerInfo,On=!0,Us(n,t,e),Gt=i,On=s;break;case 0:case 11:case 14:case 15:he||eo(2,e,t),he||eo(4,e,t),Us(n,t,e);break;case 1:he||(Rs(e,t),i=e.stateNode,typeof i.componentWillUnmount=="function"&&iR(e,t,i)),Us(n,t,e);break;case 21:Us(n,t,e);break;case 22:he=(i=he)||e.memoizedState!==null,Us(n,t,e),he=i;break;default:Us(n,t,e)}}function cR(n,t){if(t.memoizedState===null&&(n=t.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Zd(n)}catch(e){Lt(t,t.return,e)}}function BN(n){switch(n.tag){case 13:case 19:var t=n.stateNode;return t===null&&(t=n.stateNode=new R1),t;case 22:return n=n.stateNode,t=n._retryCache,t===null&&(t=n._retryCache=new R1),t;default:throw Error(k(435,n.tag))}}function l0(n,t){var e=BN(n);t.forEach(function(i){var s=qN.bind(null,n,i);e.has(i)||(e.add(i),i.then(s,s))})}function Fn(n,t){var e=t.deletions;if(e!==null)for(var i=0;i<e.length;i++){var s=e[i],a=n,r=t,o=r;t:for(;o!==null;){switch(o.tag){case 27:if(co(o.type)){Gt=o.stateNode,On=!1;break t}break;case 5:Gt=o.stateNode,On=!1;break t;case 3:case 4:Gt=o.stateNode.containerInfo,On=!0;break t}o=o.return}if(Gt===null)throw Error(k(160));uR(a,r,s),Gt=null,On=!1,a=s.alternate,a!==null&&(a.return=null),s.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)hR(t,n),t=t.sibling}var Qi=null;function hR(n,t){var e=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Fn(t,n),Vn(n),i&4&&(eo(3,n,n.return),eg(3,n),eo(5,n,n.return));break;case 1:Fn(t,n),Vn(n),i&512&&(he||e===null||Rs(e,e.return)),i&64&&Ea&&(n=n.updateQueue,n!==null&&(i=n.callbacks,i!==null&&(e=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=e===null?i:e.concat(i))));break;case 26:var s=Qi;if(Fn(t,n),Vn(n),i&512&&(he||e===null||Rs(e,e.return)),i&4){var a=e!==null?e.memoizedState:null;if(i=n.memoizedState,e===null)if(i===null)if(n.stateNode===null){t:{i=n.type,e=n.memoizedProps,s=s.ownerDocument||s;e:switch(i){case"title":a=s.getElementsByTagName("title")[0],(!a||a[Yp]||a[cn]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=s.createElement(i),s.head.insertBefore(a,s.querySelector("head > title"))),Ze(a,i,e),a[cn]=n,Be(a),i=a;break t;case"link":var r=q1("link","href",s).get(i+(e.href||""));if(r){for(var o=0;o<r.length;o++)if(a=r[o],a.getAttribute("href")===(e.href==null||e.href===""?null:e.href)&&a.getAttribute("rel")===(e.rel==null?null:e.rel)&&a.getAttribute("title")===(e.title==null?null:e.title)&&a.getAttribute("crossorigin")===(e.crossOrigin==null?null:e.crossOrigin)){r.splice(o,1);break e}}a=s.createElement(i),Ze(a,i,e),s.head.appendChild(a);break;case"meta":if(r=q1("meta","content",s).get(i+(e.content||""))){for(o=0;o<r.length;o++)if(a=r[o],a.getAttribute("content")===(e.content==null?null:""+e.content)&&a.getAttribute("name")===(e.name==null?null:e.name)&&a.getAttribute("property")===(e.property==null?null:e.property)&&a.getAttribute("http-equiv")===(e.httpEquiv==null?null:e.httpEquiv)&&a.getAttribute("charset")===(e.charSet==null?null:e.charSet)){r.splice(o,1);break e}}a=s.createElement(i),Ze(a,i,e),s.head.appendChild(a);break;default:throw Error(k(468,i))}a[cn]=n,Be(a),i=a}n.stateNode=i}else X1(s,n.type,n.stateNode);else n.stateNode=G1(s,i,n.memoizedProps);else a!==i?(a===null?e.stateNode!==null&&(e=e.stateNode,e.parentNode.removeChild(e)):a.count--,i===null?X1(s,n.type,n.stateNode):G1(s,i,n.memoizedProps)):i===null&&n.stateNode!==null&&a0(n,n.memoizedProps,e.memoizedProps)}break;case 27:Fn(t,n),Vn(n),i&512&&(he||e===null||Rs(e,e.return)),e!==null&&i&4&&a0(n,n.memoizedProps,e.memoizedProps);break;case 5:if(Fn(t,n),Vn(n),i&512&&(he||e===null||Rs(e,e.return)),n.flags&32){s=n.stateNode;try{rh(s,"")}catch(p){Lt(n,n.return,p)}}i&4&&n.stateNode!=null&&(s=n.memoizedProps,a0(n,s,e!==null?e.memoizedProps:s)),i&1024&&(o0=!0);break;case 6:if(Fn(t,n),Vn(n),i&4){if(n.stateNode===null)throw Error(k(162));i=n.memoizedProps,e=n.stateNode;try{e.nodeValue=i}catch(p){Lt(n,n.return,p)}}break;case 3:if(om=null,s=Qi,Qi=my(t.containerInfo),Fn(t,n),Qi=s,Vn(n),i&4&&e!==null&&e.memoizedState.isDehydrated)try{Zd(t.containerInfo)}catch(p){Lt(n,n.return,p)}o0&&(o0=!1,dR(n));break;case 4:i=Qi,Qi=my(n.stateNode.containerInfo),Fn(t,n),Vn(n),Qi=i;break;case 12:Fn(t,n),Vn(n);break;case 13:Fn(t,n),Vn(n),n.child.flags&8192&&n.memoizedState!==null!=(e!==null&&e.memoizedState!==null)&&(ow=Ds()),i&4&&(i=n.updateQueue,i!==null&&(n.updateQueue=null,l0(n,i)));break;case 22:s=n.memoizedState!==null;var l=e!==null&&e.memoizedState!==null,c=Ea,h=he;if(Ea=c||s,he=h||l,Fn(t,n),he=h,Ea=c,Vn(n),i&8192)t:for(t=n.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(e===null||l||Ea||he||vo(n)),e=null,t=n;;){if(t.tag===5||t.tag===26){if(e===null){l=e=t;try{if(a=l.stateNode,s)r=a.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{o=l.stateNode;var d=l.memoizedProps.style,f=d!=null&&d.hasOwnProperty("display")?d.display:null;o.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(p){Lt(l,l.return,p)}}}else if(t.tag===6){if(e===null){l=t;try{l.stateNode.nodeValue=s?"":l.memoizedProps}catch(p){Lt(l,l.return,p)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===n)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;e===t&&(e=null),t=t.return}e===t&&(e=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=n.updateQueue,i!==null&&(e=i.retryQueue,e!==null&&(i.retryQueue=null,l0(n,e))));break;case 19:Fn(t,n),Vn(n),i&4&&(i=n.updateQueue,i!==null&&(n.updateQueue=null,l0(n,i)));break;case 30:break;case 21:break;default:Fn(t,n),Vn(n)}}function Vn(n){var t=n.flags;if(t&2){try{for(var e,i=n.return;i!==null;){if(aR(i)){e=i;break}i=i.return}if(e==null)throw Error(k(160));switch(e.tag){case 27:var s=e.stateNode,a=r0(n);uy(n,a,s);break;case 5:var r=e.stateNode;e.flags&32&&(rh(r,""),e.flags&=-33);var o=r0(n);uy(n,o,r);break;case 3:case 4:var l=e.stateNode.containerInfo,c=r0(n);vb(n,c,l);break;default:throw Error(k(161))}}catch(h){Lt(n,n.return,h)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function dR(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var t=n;dR(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),n=n.sibling}}function Ka(n,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)oR(n,t.alternate,t),t=t.sibling}function vo(n){for(n=n.child;n!==null;){var t=n;switch(t.tag){case 0:case 11:case 14:case 15:eo(4,t,t.return),vo(t);break;case 1:Rs(t,t.return);var e=t.stateNode;typeof e.componentWillUnmount=="function"&&iR(t,t.return,e),vo(t);break;case 27:Ld(t.stateNode);case 26:case 5:Rs(t,t.return),vo(t);break;case 22:t.memoizedState===null&&vo(t);break;case 30:vo(t);break;default:vo(t)}n=n.sibling}}function Wa(n,t,e){for(e=e&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,s=n,a=t,r=a.flags;switch(a.tag){case 0:case 11:case 15:Wa(s,a,e),eg(4,a);break;case 1:if(Wa(s,a,e),i=a,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){Lt(i,i.return,c)}if(i=a,s=i.updateQueue,s!==null){var o=i.stateNode;try{var l=s.shared.hiddenCallbacks;if(l!==null)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)oC(l[s],o)}catch(c){Lt(i,i.return,c)}}e&&r&64&&nR(a),Cd(a,a.return);break;case 27:rR(a);case 26:case 5:Wa(s,a,e),e&&i===null&&r&4&&sR(a),Cd(a,a.return);break;case 12:Wa(s,a,e);break;case 13:Wa(s,a,e),e&&r&4&&cR(s,a);break;case 22:a.memoizedState===null&&Wa(s,a,e),Cd(a,a.return);break;case 30:break;default:Wa(s,a,e)}t=t.sibling}}function iw(n,t){var e=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==e&&(n!=null&&n.refCount++,e!=null&&Qp(e))}function sw(n,t){n=null,t.alternate!==null&&(n=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==n&&(t.refCount++,n!=null&&Qp(n))}function as(n,t,e,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fR(n,t,e,i),t=t.sibling}function fR(n,t,e,i){var s=t.flags;switch(t.tag){case 0:case 11:case 15:as(n,t,e,i),s&2048&&eg(9,t);break;case 1:as(n,t,e,i);break;case 3:as(n,t,e,i),s&2048&&(n=null,t.alternate!==null&&(n=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==n&&(t.refCount++,n!=null&&Qp(n)));break;case 12:if(s&2048){as(n,t,e,i),n=t.stateNode;try{var a=t.memoizedProps,r=a.id,o=a.onPostCommit;typeof o=="function"&&o(r,t.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(l){Lt(t,t.return,l)}}else as(n,t,e,i);break;case 13:as(n,t,e,i);break;case 23:break;case 22:a=t.stateNode,r=t.alternate,t.memoizedState!==null?a._visibility&2?as(n,t,e,i):Rd(n,t):a._visibility&2?as(n,t,e,i):(a._visibility|=2,cu(n,t,e,i,(t.subtreeFlags&10256)!==0)),s&2048&&iw(r,t);break;case 24:as(n,t,e,i),s&2048&&sw(t.alternate,t);break;default:as(n,t,e,i)}}function cu(n,t,e,i,s){for(s=s&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var a=n,r=t,o=e,l=i,c=r.flags;switch(r.tag){case 0:case 11:case 15:cu(a,r,o,l,s),eg(8,r);break;case 23:break;case 22:var h=r.stateNode;r.memoizedState!==null?h._visibility&2?cu(a,r,o,l,s):Rd(a,r):(h._visibility|=2,cu(a,r,o,l,s)),s&&c&2048&&iw(r.alternate,r);break;case 24:cu(a,r,o,l,s),s&&c&2048&&sw(r.alternate,r);break;default:cu(a,r,o,l,s)}t=t.sibling}}function Rd(n,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var e=n,i=t,s=i.flags;switch(i.tag){case 22:Rd(e,i),s&2048&&iw(i.alternate,i);break;case 24:Rd(e,i),s&2048&&sw(i.alternate,i);break;default:Rd(e,i)}t=t.sibling}}var Kh=8192;function ru(n){if(n.subtreeFlags&Kh)for(n=n.child;n!==null;)pR(n),n=n.sibling}function pR(n){switch(n.tag){case 26:ru(n),n.flags&Kh&&n.memoizedState!==null&&Sk(Qi,n.memoizedState,n.memoizedProps);break;case 5:ru(n);break;case 3:case 4:var t=Qi;Qi=my(n.stateNode.containerInfo),ru(n),Qi=t;break;case 22:n.memoizedState===null&&(t=n.alternate,t!==null&&t.memoizedState!==null?(t=Kh,Kh=16777216,ru(n),Kh=t):ru(n));break;default:ru(n)}}function gR(n){var t=n.alternate;if(t!==null&&(n=t.child,n!==null)){t.child=null;do t=n.sibling,n.sibling=null,n=t;while(n!==null)}}function Fh(n){var t=n.deletions;if(n.flags&16){if(t!==null)for(var e=0;e<t.length;e++){var i=t[e];ke=i,yR(i,n)}gR(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)mR(n),n=n.sibling}function mR(n){switch(n.tag){case 0:case 11:case 15:Fh(n),n.flags&2048&&eo(9,n,n.return);break;case 3:Fh(n);break;case 12:Fh(n);break;case 22:var t=n.stateNode;n.memoizedState!==null&&t._visibility&2&&(n.return===null||n.return.tag!==13)?(t._visibility&=-3,am(n)):Fh(n);break;default:Fh(n)}}function am(n){var t=n.deletions;if(n.flags&16){if(t!==null)for(var e=0;e<t.length;e++){var i=t[e];ke=i,yR(i,n)}gR(n)}for(n=n.child;n!==null;){switch(t=n,t.tag){case 0:case 11:case 15:eo(8,t,t.return),am(t);break;case 22:e=t.stateNode,e._visibility&2&&(e._visibility&=-3,am(t));break;default:am(t)}n=n.sibling}}function yR(n,t){for(;ke!==null;){var e=ke;switch(e.tag){case 0:case 11:case 15:eo(8,e,t);break;case 23:case 22:if(e.memoizedState!==null&&e.memoizedState.cachePool!==null){var i=e.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Qp(e.memoizedState.cache)}if(i=e.child,i!==null)i.return=e,ke=i;else t:for(e=n;ke!==null;){i=ke;var s=i.sibling,a=i.return;if(lR(i),i===e){ke=null;break t}if(s!==null){s.return=a,ke=s;break t}ke=a}}}var IN={getCacheForType:function(n){var t=hn(Te),e=t.data.get(n);return e===void 0&&(e=n(),t.data.set(n,e)),e}},FN=typeof WeakMap=="function"?WeakMap:Map,Et=0,Bt=null,lt=null,dt=0,wt=0,ei=null,Gr=!1,Eh=!1,aw=!1,Ia=0,ae=0,no=0,Fl=0,rw=0,Di=0,hh=0,Md=null,Pn=null,bb=!1,ow=0,cy=1/0,hy=null,Kr=null,We=0,Wr=null,dh=null,Yu=0,Ab=0,Sb=null,vR=null,Dd=0,wb=null;function oi(){if(Et&2&&dt!==0)return dt&-dt;if(W.T!==null){var n=oh;return n!==0?n:uw()}return M_()}function bR(){Di===0&&(Di=!(dt&536870912)||vt?x_():536870912);var n=Pi.current;return n!==null&&(n.flags|=32),Di}function li(n,t,e){(n===Bt&&(wt===2||wt===9)||n.cancelPendingCommit!==null)&&(fh(n,0),qr(n,dt,Di,!1)),Xp(n,e),(!(Et&2)||n!==Bt)&&(n===Bt&&(!(Et&2)&&(Fl|=e),ae===4&&qr(n,dt,Di,!1)),Bs(n))}function AR(n,t,e){if(Et&6)throw Error(k(327));var i=!e&&(t&124)===0&&(t&n.expiredLanes)===0||qp(n,t),s=i?HN(n,t):u0(n,t,!0),a=i;do{if(s===0){Eh&&!i&&qr(n,t,0,!1);break}else{if(e=n.current.alternate,a&&!VN(e)){s=u0(n,t,!1),a=!1;continue}if(s===2){if(a=t,n.errorRecoveryDisabledLanes&a)var r=0;else r=n.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;t:{var o=n;s=Md;var l=o.current.memoizedState.isDehydrated;if(l&&(fh(o,r).flags|=256),r=u0(o,r,!1),r!==2){if(aw&&!l){o.errorRecoveryDisabledLanes|=a,Fl|=a,s=4;break t}a=Pn,Pn=s,a!==null&&(Pn===null?Pn=a:Pn.push.apply(Pn,a))}s=r}if(a=!1,s!==2)continue}}if(s===1){fh(n,0),qr(n,t,0,!0);break}t:{switch(i=n,a=s,a){case 0:case 1:throw Error(k(345));case 4:if((t&4194048)!==t)break;case 6:qr(i,t,Di,!Gr);break t;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(k(329))}if((t&62914560)===t&&(s=ow+300-Ds(),10<s)){if(qr(i,t,Di,!Gr),nv(i,0,!0)!==0)break t;i.timeoutHandle=VR(M1.bind(null,i,e,Pn,hy,bb,t,Di,Fl,hh,Gr,a,2,-0,0),s);break t}M1(i,e,Pn,hy,bb,t,Di,Fl,hh,Gr,a,0,-0,0)}}break}while(!0);Bs(n)}function M1(n,t,e,i,s,a,r,o,l,c,h,d,f,p){if(n.timeoutHandle=-1,d=t.subtreeFlags,(d&8192||(d&16785408)===16785408)&&($d={stylesheets:null,count:0,unsuspend:Ak},pR(t),d=wk(),d!==null)){n.cancelPendingCommit=d(L1.bind(null,n,t,a,e,i,s,r,o,l,h,1,f,p)),qr(n,a,r,!c);return}L1(n,t,a,e,i,s,r,o,l)}function VN(n){for(var t=n;;){var e=t.tag;if((e===0||e===11||e===15)&&t.flags&16384&&(e=t.updateQueue,e!==null&&(e=e.stores,e!==null)))for(var i=0;i<e.length;i++){var s=e[i],a=s.getSnapshot;s=s.value;try{if(!ci(a(),s))return!1}catch{return!1}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qr(n,t,e,i){t&=~rw,t&=~Fl,n.suspendedLanes|=t,n.pingedLanes&=~t,i&&(n.warmLanes|=t),i=n.expirationTimes;for(var s=t;0<s;){var a=31-ri(s),r=1<<a;i[a]=-1,s&=~r}e!==0&&C_(n,e,t)}function dv(){return Et&6?!0:(ng(0),!1)}function lw(){if(lt!==null){if(wt===0)var n=lt.return;else n=lt,Ca=Jl=null,$S(n),Xu=null,qd=0,n=lt;for(;n!==null;)eR(n.alternate,n),n=n.return;lt=null}}function fh(n,t){var e=n.timeoutHandle;e!==-1&&(n.timeoutHandle=-1,ik(e)),e=n.cancelPendingCommit,e!==null&&(n.cancelPendingCommit=null,e()),lw(),Bt=n,lt=e=Ma(n.current,null),dt=t,wt=0,ei=null,Gr=!1,Eh=qp(n,t),aw=!1,hh=Di=rw=Fl=no=ae=0,Pn=Md=null,bb=!1,t&8&&(t|=t&32);var i=n.entangledLanes;if(i!==0)for(n=n.entanglements,i&=t;0<i;){var s=31-ri(i),a=1<<s;t|=n[s],i&=~a}return Ia=t,rv(),e}function SR(n,t){at=null,W.H=sy,t===Zp||t===lv?(t=o1(),wt=3):t===aC?(t=o1(),wt=4):wt=t===KC?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ei=t,lt===null&&(ae=1,oy(n,Ci(t,n.current)))}function wR(){var n=W.H;return W.H=sy,n===null?sy:n}function ER(){var n=W.A;return W.A=IN,n}function Eb(){ae=4,Gr||(dt&4194048)!==dt&&Pi.current!==null||(Eh=!0),!(no&134217727)&&!(Fl&134217727)||Bt===null||qr(Bt,dt,Di,!1)}function u0(n,t,e){var i=Et;Et|=2;var s=wR(),a=ER();(Bt!==n||dt!==t)&&(hy=null,fh(n,t)),t=!1;var r=ae;t:do try{if(wt!==0&&lt!==null){var o=lt,l=ei;switch(wt){case 8:lw(),r=6;break t;case 3:case 2:case 9:case 6:Pi.current===null&&(t=!0);var c=wt;if(wt=0,ei=null,Du(n,o,l,c),e&&Eh){r=0;break t}break;default:c=wt,wt=0,ei=null,Du(n,o,l,c)}}zN(),r=ae;break}catch(h){SR(n,h)}while(!0);return t&&n.shellSuspendCounter++,Ca=Jl=null,Et=i,W.H=s,W.A=a,lt===null&&(Bt=null,dt=0,rv()),r}function zN(){for(;lt!==null;)TR(lt)}function HN(n,t){var e=Et;Et|=2;var i=wR(),s=ER();Bt!==n||dt!==t?(hy=null,cy=Ds()+500,fh(n,t)):Eh=qp(n,t);t:do try{if(wt!==0&&lt!==null){t=lt;var a=ei;e:switch(wt){case 1:wt=0,ei=null,Du(n,t,a,1);break;case 2:case 9:if(r1(a)){wt=0,ei=null,D1(t);break}t=function(){wt!==2&&wt!==9||Bt!==n||(wt=7),Bs(n)},a.then(t,t);break t;case 3:wt=7;break t;case 4:wt=5;break t;case 7:r1(a)?(wt=0,ei=null,D1(t)):(wt=0,ei=null,Du(n,t,a,7));break;case 5:var r=null;switch(lt.tag){case 26:r=lt.memoizedState;case 5:case 27:var o=lt;if(!r||jR(r)){wt=0,ei=null;var l=o.sibling;if(l!==null)lt=l;else{var c=o.return;c!==null?(lt=c,fv(c)):lt=null}break e}}wt=0,ei=null,Du(n,t,a,5);break;case 6:wt=0,ei=null,Du(n,t,a,6);break;case 8:lw(),ae=6;break t;default:throw Error(k(462))}}UN();break}catch(h){SR(n,h)}while(!0);return Ca=Jl=null,W.H=i,W.A=s,Et=e,lt!==null?0:(Bt=null,dt=0,rv(),ae)}function UN(){for(;lt!==null&&!cP();)TR(lt)}function TR(n){var t=tR(n.alternate,n,Ia);n.memoizedProps=n.pendingProps,t===null?fv(n):lt=t}function D1(n){var t=n,e=t.alternate;switch(t.tag){case 15:case 0:t=E1(e,t,t.pendingProps,t.type,void 0,dt);break;case 11:t=E1(e,t,t.pendingProps,t.type.render,t.ref,dt);break;case 5:$S(t);default:eR(e,t),t=lt=eC(t,Ia),t=tR(e,t,Ia)}n.memoizedProps=n.pendingProps,t===null?fv(n):lt=t}function Du(n,t,e,i){Ca=Jl=null,$S(t),Xu=null,qd=0;var s=t.return;try{if(LN(n,s,t,e,dt)){ae=1,oy(n,Ci(e,n.current)),lt=null;return}}catch(a){if(s!==null)throw lt=s,a;ae=1,oy(n,Ci(e,n.current)),lt=null;return}t.flags&32768?(vt||i===1?n=!0:Eh||dt&536870912?n=!1:(Gr=n=!0,(i===2||i===9||i===3||i===6)&&(i=Pi.current,i!==null&&i.tag===13&&(i.flags|=16384))),xR(t,n)):fv(t)}function fv(n){var t=n;do{if(t.flags&32768){xR(t,Gr);return}n=t.return;var e=PN(t.alternate,t,Ia);if(e!==null){lt=e;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=n}while(t!==null);ae===0&&(ae=5)}function xR(n,t){do{var e=NN(n.alternate,n);if(e!==null){e.flags&=32767,lt=e;return}if(e=n.return,e!==null&&(e.flags|=32768,e.subtreeFlags=0,e.deletions=null),!t&&(n=n.sibling,n!==null)){lt=n;return}lt=n=e}while(n!==null);ae=6,lt=null}function L1(n,t,e,i,s,a,r,o,l){n.cancelPendingCommit=null;do pv();while(We!==0);if(Et&6)throw Error(k(327));if(t!==null){if(t===n.current)throw Error(k(177));if(a=t.lanes|t.childLanes,a|=kS,AP(n,e,a,r,o,l),n===Bt&&(lt=Bt=null,dt=0),dh=t,Wr=n,Yu=e,Ab=a,Sb=s,vR=i,t.subtreeFlags&10256||t.flags&10256?(n.callbackNode=null,n.callbackPriority=0,XN($m,function(){return DR(),null})):(n.callbackNode=null,n.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=W.T,W.T=null,s=bt.p,bt.p=2,r=Et,Et|=4;try{kN(n,t,e)}finally{Et=r,bt.p=s,W.T=i}}We=1,_R(),CR(),RR()}}function _R(){if(We===1){We=0;var n=Wr,t=dh,e=(t.flags&13878)!==0;if(t.subtreeFlags&13878||e){e=W.T,W.T=null;var i=bt.p;bt.p=2;var s=Et;Et|=4;try{hR(t,n);var a=Cb,r=Y_(n.containerInfo),o=a.focusedElem,l=a.selectionRange;if(r!==o&&o&&o.ownerDocument&&X_(o.ownerDocument.documentElement,o)){if(l!==null&&NS(o)){var c=l.start,h=l.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var d=o.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),y=o.textContent.length,m=Math.min(l.start,y),S=l.end===void 0?m:Math.min(l.end,y);!p.extend&&m>S&&(r=S,S=m,m=r);var g=ZE(o,m),v=ZE(o,S);if(g&&v&&(p.rangeCount!==1||p.anchorNode!==g.node||p.anchorOffset!==g.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var A=d.createRange();A.setStart(g.node,g.offset),p.removeAllRanges(),m>S?(p.addRange(A),p.extend(v.node,v.offset)):(A.setEnd(v.node,v.offset),p.addRange(A))}}}}for(d=[],p=o;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<d.length;o++){var T=d[o];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}by=!!_b,Cb=_b=null}finally{Et=s,bt.p=i,W.T=e}}n.current=t,We=2}}function CR(){if(We===2){We=0;var n=Wr,t=dh,e=(t.flags&8772)!==0;if(t.subtreeFlags&8772||e){e=W.T,W.T=null;var i=bt.p;bt.p=2;var s=Et;Et|=4;try{oR(n,t.alternate,t)}finally{Et=s,bt.p=i,W.T=e}}We=3}}function RR(){if(We===4||We===3){We=0,hP();var n=Wr,t=dh,e=Yu,i=vR;t.subtreeFlags&10256||t.flags&10256?We=5:(We=0,dh=Wr=null,MR(n,n.pendingLanes));var s=n.pendingLanes;if(s===0&&(Kr=null),CS(e),t=t.stateNode,ai&&typeof ai.onCommitFiberRoot=="function")try{ai.onCommitFiberRoot(Gp,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=W.T,s=bt.p,bt.p=2,W.T=null;try{for(var a=n.onRecoverableError,r=0;r<i.length;r++){var o=i[r];a(o.value,{componentStack:o.stack})}}finally{W.T=t,bt.p=s}}Yu&3&&pv(),Bs(n),s=n.pendingLanes,e&4194090&&s&42?n===wb?Dd++:(Dd=0,wb=n):Dd=0,ng(0)}}function MR(n,t){(n.pooledCacheLanes&=t)===0&&(t=n.pooledCache,t!=null&&(n.pooledCache=null,Qp(t)))}function pv(n){return _R(),CR(),RR(),DR()}function DR(){if(We!==5)return!1;var n=Wr,t=Ab;Ab=0;var e=CS(Yu),i=W.T,s=bt.p;try{bt.p=32>e?32:e,W.T=null,e=Sb,Sb=null;var a=Wr,r=Yu;if(We=0,dh=Wr=null,Yu=0,Et&6)throw Error(k(331));var o=Et;if(Et|=4,mR(a.current),fR(a,a.current,r,e),Et=o,ng(0,!1),ai&&typeof ai.onPostCommitFiberRoot=="function")try{ai.onPostCommitFiberRoot(Gp,a)}catch{}return!0}finally{bt.p=s,W.T=i,MR(n,t)}}function O1(n,t,e){t=Ci(e,t),t=gb(n.stateNode,t,2),n=$r(n,t,2),n!==null&&(Xp(n,2),Bs(n))}function Lt(n,t,e){if(n.tag===3)O1(n,n,e);else for(;t!==null;){if(t.tag===3){O1(t,n,e);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Kr===null||!Kr.has(i))){n=Ci(e,n),e=YC(2),i=$r(t,e,2),i!==null&&($C(e,i,t,n),Xp(i,2),Bs(i));break}}t=t.return}}function c0(n,t,e){var i=n.pingCache;if(i===null){i=n.pingCache=new FN;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(e)||(aw=!0,s.add(e),n=jN.bind(null,n,t,e),t.then(n,n))}function jN(n,t,e){var i=n.pingCache;i!==null&&i.delete(t),n.pingedLanes|=n.suspendedLanes&e,n.warmLanes&=~e,Bt===n&&(dt&e)===e&&(ae===4||ae===3&&(dt&62914560)===dt&&300>Ds()-ow?!(Et&2)&&fh(n,0):rw|=e,hh===dt&&(hh=0)),Bs(n)}function LR(n,t){t===0&&(t=__()),n=wh(n,t),n!==null&&(Xp(n,t),Bs(n))}function GN(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),LR(n,e)}function qN(n,t){var e=0;switch(n.tag){case 13:var i=n.stateNode,s=n.memoizedState;s!==null&&(e=s.retryLane);break;case 19:i=n.stateNode;break;case 22:i=n.stateNode._retryCache;break;default:throw Error(k(314))}i!==null&&i.delete(t),LR(n,e)}function XN(n,t){return xS(n,t)}var dy=null,hu=null,Tb=!1,fy=!1,h0=!1,Vl=0;function Bs(n){n!==hu&&n.next===null&&(hu===null?dy=hu=n:hu=hu.next=n),fy=!0,Tb||(Tb=!0,$N())}function ng(n,t){if(!h0&&fy){h0=!0;do for(var e=!1,i=dy;i!==null;){if(n!==0){var s=i.pendingLanes;if(s===0)var a=0;else{var r=i.suspendedLanes,o=i.pingedLanes;a=(1<<31-ri(42|n)+1)-1,a&=s&~(r&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(e=!0,P1(i,a))}else a=dt,a=nv(i,i===Bt?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||qp(i,a)||(e=!0,P1(i,a));i=i.next}while(e);h0=!1}}function YN(){OR()}function OR(){fy=Tb=!1;var n=0;Vl!==0&&(nk()&&(n=Vl),Vl=0);for(var t=Ds(),e=null,i=dy;i!==null;){var s=i.next,a=PR(i,t);a===0?(i.next=null,e===null?dy=s:e.next=s,s===null&&(hu=e)):(e=i,(n!==0||a&3)&&(fy=!0)),i=s}ng(n)}function PR(n,t){for(var e=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,a=n.pendingLanes&-62914561;0<a;){var r=31-ri(a),o=1<<r,l=s[r];l===-1?(!(o&e)||o&i)&&(s[r]=bP(o,t)):l<=t&&(n.expiredLanes|=o),a&=~o}if(t=Bt,e=dt,e=nv(n,n===t?e:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),i=n.callbackNode,e===0||n===t&&(wt===2||wt===9)||n.cancelPendingCommit!==null)return i!==null&&i!==null&&Iv(i),n.callbackNode=null,n.callbackPriority=0;if(!(e&3)||qp(n,e)){if(t=e&-e,t===n.callbackPriority)return t;switch(i!==null&&Iv(i),CS(e)){case 2:case 8:e=E_;break;case 32:e=$m;break;case 268435456:e=T_;break;default:e=$m}return i=NR.bind(null,n),e=xS(e,i),n.callbackPriority=t,n.callbackNode=e,t}return i!==null&&i!==null&&Iv(i),n.callbackPriority=2,n.callbackNode=null,2}function NR(n,t){if(We!==0&&We!==5)return n.callbackNode=null,n.callbackPriority=0,null;var e=n.callbackNode;if(pv()&&n.callbackNode!==e)return null;var i=dt;return i=nv(n,n===Bt?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),i===0?null:(AR(n,i,t),PR(n,Ds()),n.callbackNode!=null&&n.callbackNode===e?NR.bind(null,n):null)}function P1(n,t){if(pv())return null;AR(n,t,!0)}function $N(){sk(function(){Et&6?xS(w_,YN):OR()})}function uw(){return Vl===0&&(Vl=x_()),Vl}function N1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Qg(""+n)}function k1(n,t){var e=t.ownerDocument.createElement("input");return e.name=t.name,e.value=t.value,n.id&&e.setAttribute("form",n.id),t.parentNode.insertBefore(e,t),n=new FormData(n),e.parentNode.removeChild(e),n}function KN(n,t,e,i,s){if(t==="submit"&&e&&e.stateNode===s){var a=N1((s[Bn]||null).action),r=i.submitter;r&&(t=(t=r[Bn]||null)?N1(t.formAction):r.getAttribute("formAction"),t!==null&&(a=t,r=null));var o=new iv("action","action",null,i,s);n.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Vl!==0){var l=r?k1(s,r):new FormData(s);fb(e,{pending:!0,data:l,method:s.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=r?k1(s,r):new FormData(s),fb(e,{pending:!0,data:l,method:s.method,action:a},a,l))},currentTarget:s}]})}}for(var d0=0;d0<eb.length;d0++){var f0=eb[d0],WN=f0.toLowerCase(),QN=f0[0].toUpperCase()+f0.slice(1);ss(WN,"on"+QN)}ss(K_,"onAnimationEnd");ss(W_,"onAnimationIteration");ss(Q_,"onAnimationStart");ss("dblclick","onDoubleClick");ss("focusin","onFocus");ss("focusout","onBlur");ss(pN,"onTransitionRun");ss(gN,"onTransitionStart");ss(mN,"onTransitionCancel");ss(Z_,"onTransitionEnd");ah("onMouseEnter",["mouseout","mouseover"]);ah("onMouseLeave",["mouseout","mouseover"]);ah("onPointerEnter",["pointerout","pointerover"]);ah("onPointerLeave",["pointerout","pointerover"]);Wl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xd));function kR(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var i=n[e],s=i.event;i=i.listeners;t:{var a=void 0;if(t)for(var r=i.length-1;0<=r;r--){var o=i[r],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break t;a=o,s.currentTarget=c;try{a(s)}catch(h){ry(h)}s.currentTarget=null,a=l}else for(r=0;r<i.length;r++){if(o=i[r],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break t;a=o,s.currentTarget=c;try{a(s)}catch(h){ry(h)}s.currentTarget=null,a=l}}}}function ot(n,t){var e=t[$0];e===void 0&&(e=t[$0]=new Set);var i=n+"__bubble";e.has(i)||(BR(t,n,2,!1),e.add(i))}function p0(n,t,e){var i=0;t&&(i|=4),BR(e,n,i,t)}var kg="_reactListening"+Math.random().toString(36).slice(2);function cw(n){if(!n[kg]){n[kg]=!0,D_.forEach(function(e){e!=="selectionchange"&&(ZN.has(e)||p0(e,!1,n),p0(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[kg]||(t[kg]=!0,p0("selectionchange",!1,t))}}function BR(n,t,e,i){switch($R(t)){case 2:var s=xk;break;case 8:s=_k;break;default:s=pw}e=s.bind(null,t,e,n),s=void 0,!Z0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?n.addEventListener(t,e,{capture:!0,passive:s}):n.addEventListener(t,e,!0):s!==void 0?n.addEventListener(t,e,{passive:s}):n.addEventListener(t,e,!1)}function g0(n,t,e,i,s){var a=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var o=i.stateNode.containerInfo;if(o===s)break;if(r===4)for(r=i.return;r!==null;){var l=r.tag;if((l===3||l===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;o!==null;){if(r=Su(o),r===null)return;if(l=r.tag,l===5||l===6||l===26||l===27){i=a=r;continue t}o=o.parentNode}}i=i.return}F_(function(){var c=a,h=DS(e),d=[];t:{var f=J_.get(n);if(f!==void 0){var p=iv,y=n;switch(n){case"keypress":if(Jg(e)===0)break t;case"keydown":case"keyup":p=XP;break;case"focusin":y="focus",p=qv;break;case"focusout":y="blur",p=qv;break;case"beforeblur":case"afterblur":p=qv;break;case"click":if(e.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=UE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=NP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=KP;break;case K_:case W_:case Q_:p=IP;break;case Z_:p=QP;break;case"scroll":case"scrollend":p=OP;break;case"wheel":p=JP;break;case"copy":case"cut":case"paste":p=VP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=GE;break;case"toggle":case"beforetoggle":p=eN}var m=(t&4)!==0,S=!m&&(n==="scroll"||n==="scrollend"),g=m?f!==null?f+"Capture":null:f;m=[];for(var v=c,A;v!==null;){var T=v;if(A=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||A===null||g===null||(T=zd(v,g),T!=null&&m.push(Yd(v,T,A))),S)break;v=v.return}0<m.length&&(f=new p(f,y,null,e,h),d.push({event:f,listeners:m}))}}if(!(t&7)){t:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&e!==Q0&&(y=e.relatedTarget||e.fromElement)&&(Su(y)||y[Ah]))break t;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=e.relatedTarget||e.toElement,p=c,y=y?Su(y):null,y!==null&&(S=jp(y),m=y.tag,y!==S||m!==5&&m!==27&&m!==6)&&(y=null)):(p=null,y=c),p!==y)){if(m=UE,T="onMouseLeave",g="onMouseEnter",v="mouse",(n==="pointerout"||n==="pointerover")&&(m=GE,T="onPointerLeave",g="onPointerEnter",v="pointer"),S=p==null?f:$h(p),A=y==null?f:$h(y),f=new m(T,v+"leave",p,e,h),f.target=S,f.relatedTarget=A,T=null,Su(h)===c&&(m=new m(g,v+"enter",y,e,h),m.target=A,m.relatedTarget=S,T=m),S=T,p&&y)e:{for(m=p,g=y,v=0,A=m;A;A=ou(A))v++;for(A=0,T=g;T;T=ou(T))A++;for(;0<v-A;)m=ou(m),v--;for(;0<A-v;)g=ou(g),A--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break e;m=ou(m),g=ou(g)}m=null}else m=null;p!==null&&B1(d,f,p,m,!1),y!==null&&S!==null&&B1(d,S,y,m,!0)}}t:{if(f=c?$h(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var x=$E;else if(YE(f))if(G_)x=hN;else{x=uN;var _=lN}else p=f.nodeName,!p||p.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?c&&MS(c.elementType)&&(x=$E):x=cN;if(x&&(x=x(n,c))){j_(d,x,e,h);break t}_&&_(n,f,c),n==="focusout"&&c&&f.type==="number"&&c.memoizedProps.value!=null&&W0(f,"number",f.value)}switch(_=c?$h(c):window,n){case"focusin":(YE(_)||_.contentEditable==="true")&&(Tu=_,J0=c,Ad=null);break;case"focusout":Ad=J0=Tu=null;break;case"mousedown":tb=!0;break;case"contextmenu":case"mouseup":case"dragend":tb=!1,JE(d,e,h);break;case"selectionchange":if(fN)break;case"keydown":case"keyup":JE(d,e,h)}var C;if(PS)t:{switch(n){case"compositionstart":var M="onCompositionStart";break t;case"compositionend":M="onCompositionEnd";break t;case"compositionupdate":M="onCompositionUpdate";break t}M=void 0}else Eu?H_(n,e)&&(M="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(M="onCompositionStart");M&&(z_&&e.locale!=="ko"&&(Eu||M!=="onCompositionStart"?M==="onCompositionEnd"&&Eu&&(C=V_()):(jr=h,LS="value"in jr?jr.value:jr.textContent,Eu=!0)),_=py(c,M),0<_.length&&(M=new jE(M,n,null,e,h),d.push({event:M,listeners:_}),C?M.data=C:(C=U_(e),C!==null&&(M.data=C)))),(C=iN?sN(n,e):aN(n,e))&&(M=py(c,"onBeforeInput"),0<M.length&&(_=new jE("onBeforeInput","beforeinput",null,e,h),d.push({event:_,listeners:M}),_.data=C)),KN(d,n,c,e,h)}kR(d,t)})}function Yd(n,t,e){return{instance:n,listener:t,currentTarget:e}}function py(n,t){for(var e=t+"Capture",i=[];n!==null;){var s=n,a=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||a===null||(s=zd(n,e),s!=null&&i.unshift(Yd(n,s,a)),s=zd(n,t),s!=null&&i.push(Yd(n,s,a))),n.tag===3)return i;n=n.return}return[]}function ou(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function B1(n,t,e,i,s){for(var a=t._reactName,r=[];e!==null&&e!==i;){var o=e,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===i)break;o!==5&&o!==26&&o!==27||c===null||(l=c,s?(c=zd(e,a),c!=null&&r.unshift(Yd(e,c,l))):s||(c=zd(e,a),c!=null&&r.push(Yd(e,c,l)))),e=e.return}r.length!==0&&n.push({event:t,listeners:r})}var JN=/\r\n?/g,tk=/\u0000|\uFFFD/g;function I1(n){return(typeof n=="string"?n:""+n).replace(JN,`
`).replace(tk,"")}function IR(n,t){return t=I1(t),I1(n)===t}function gv(){}function xt(n,t,e,i,s,a){switch(e){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||rh(n,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&rh(n,""+i);break;case"className":Rg(n,"class",i);break;case"tabIndex":Rg(n,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Rg(n,e,i);break;case"style":I_(n,i,a);break;case"data":if(t!=="object"){Rg(n,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||e!=="href")){n.removeAttribute(e);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){n.removeAttribute(e);break}i=Qg(""+i),n.setAttribute(e,i);break;case"action":case"formAction":if(typeof i=="function"){n.setAttribute(e,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(e==="formAction"?(t!=="input"&&xt(n,t,"name",s.name,s,null),xt(n,t,"formEncType",s.formEncType,s,null),xt(n,t,"formMethod",s.formMethod,s,null),xt(n,t,"formTarget",s.formTarget,s,null)):(xt(n,t,"encType",s.encType,s,null),xt(n,t,"method",s.method,s,null),xt(n,t,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){n.removeAttribute(e);break}i=Qg(""+i),n.setAttribute(e,i);break;case"onClick":i!=null&&(n.onclick=gv);break;case"onScroll":i!=null&&ot("scroll",n);break;case"onScrollEnd":i!=null&&ot("scrollend",n);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(k(61));if(e=i.__html,e!=null){if(s.children!=null)throw Error(k(60));n.innerHTML=e}}break;case"multiple":n.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":n.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){n.removeAttribute("xlink:href");break}e=Qg(""+i),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(e,""+i):n.removeAttribute(e);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(e,""):n.removeAttribute(e);break;case"capture":case"download":i===!0?n.setAttribute(e,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(e,i):n.removeAttribute(e);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?n.setAttribute(e,i):n.removeAttribute(e);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?n.removeAttribute(e):n.setAttribute(e,i);break;case"popover":ot("beforetoggle",n),ot("toggle",n),Wg(n,"popover",i);break;case"xlinkActuate":zs(n,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":zs(n,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":zs(n,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":zs(n,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":zs(n,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":zs(n,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":zs(n,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":zs(n,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":zs(n,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Wg(n,"is",i);break;case"innerText":case"textContent":break;default:(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(e=DP.get(e)||e,Wg(n,e,i))}}function xb(n,t,e,i,s,a){switch(e){case"style":I_(n,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(k(61));if(e=i.__html,e!=null){if(s.children!=null)throw Error(k(60));n.innerHTML=e}}break;case"children":typeof i=="string"?rh(n,i):(typeof i=="number"||typeof i=="bigint")&&rh(n,""+i);break;case"onScroll":i!=null&&ot("scroll",n);break;case"onScrollEnd":i!=null&&ot("scrollend",n);break;case"onClick":i!=null&&(n.onclick=gv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!L_.hasOwnProperty(e))t:{if(e[0]==="o"&&e[1]==="n"&&(s=e.endsWith("Capture"),t=e.slice(2,s?e.length-7:void 0),a=n[Bn]||null,a=a!=null?a[e]:null,typeof a=="function"&&n.removeEventListener(t,a,s),typeof i=="function")){typeof a!="function"&&a!==null&&(e in n?n[e]=null:n.hasAttribute(e)&&n.removeAttribute(e)),n.addEventListener(t,i,s);break t}e in n?n[e]=i:i===!0?n.setAttribute(e,""):Wg(n,e,i)}}}function Ze(n,t,e){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",n),ot("load",n);var i=!1,s=!1,a;for(a in e)if(e.hasOwnProperty(a)){var r=e[a];if(r!=null)switch(a){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(k(137,t));default:xt(n,t,a,r,e,null)}}s&&xt(n,t,"srcSet",e.srcSet,e,null),i&&xt(n,t,"src",e.src,e,null);return;case"input":ot("invalid",n);var o=a=r=s=null,l=null,c=null;for(i in e)if(e.hasOwnProperty(i)){var h=e[i];if(h!=null)switch(i){case"name":s=h;break;case"type":r=h;break;case"checked":l=h;break;case"defaultChecked":c=h;break;case"value":a=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(k(137,t));break;default:xt(n,t,i,h,e,null)}}N_(n,a,o,l,c,r,s,!1),Km(n);return;case"select":ot("invalid",n),i=r=a=null;for(s in e)if(e.hasOwnProperty(s)&&(o=e[s],o!=null))switch(s){case"value":a=o;break;case"defaultValue":r=o;break;case"multiple":i=o;default:xt(n,t,s,o,e,null)}t=a,e=r,n.multiple=!!i,t!=null?Hu(n,!!i,t,!1):e!=null&&Hu(n,!!i,e,!0);return;case"textarea":ot("invalid",n),a=s=i=null;for(r in e)if(e.hasOwnProperty(r)&&(o=e[r],o!=null))switch(r){case"value":i=o;break;case"defaultValue":s=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(k(91));break;default:xt(n,t,r,o,e,null)}B_(n,i,s,a),Km(n);return;case"option":for(l in e)if(e.hasOwnProperty(l)&&(i=e[l],i!=null))switch(l){case"selected":n.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:xt(n,t,l,i,e,null)}return;case"dialog":ot("beforetoggle",n),ot("toggle",n),ot("cancel",n),ot("close",n);break;case"iframe":case"object":ot("load",n);break;case"video":case"audio":for(i=0;i<Xd.length;i++)ot(Xd[i],n);break;case"image":ot("error",n),ot("load",n);break;case"details":ot("toggle",n);break;case"embed":case"source":case"link":ot("error",n),ot("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in e)if(e.hasOwnProperty(c)&&(i=e[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(k(137,t));default:xt(n,t,c,i,e,null)}return;default:if(MS(t)){for(h in e)e.hasOwnProperty(h)&&(i=e[h],i!==void 0&&xb(n,t,h,i,e,void 0));return}}for(o in e)e.hasOwnProperty(o)&&(i=e[o],i!=null&&xt(n,t,o,i,e,null))}function ek(n,t,e,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,r=null,o=null,l=null,c=null,h=null;for(p in e){var d=e[p];if(e.hasOwnProperty(p)&&d!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=d;default:i.hasOwnProperty(p)||xt(n,t,p,null,i,d)}}for(var f in i){var p=i[f];if(d=e[f],i.hasOwnProperty(f)&&(p!=null||d!=null))switch(f){case"type":a=p;break;case"name":s=p;break;case"checked":c=p;break;case"defaultChecked":h=p;break;case"value":r=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(k(137,t));break;default:p!==d&&xt(n,t,f,p,i,d)}}K0(n,r,o,l,c,h,a,s);return;case"select":p=r=o=f=null;for(a in e)if(l=e[a],e.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":p=l;default:i.hasOwnProperty(a)||xt(n,t,a,null,i,l)}for(s in i)if(a=i[s],l=e[s],i.hasOwnProperty(s)&&(a!=null||l!=null))switch(s){case"value":f=a;break;case"defaultValue":o=a;break;case"multiple":r=a;default:a!==l&&xt(n,t,s,a,i,l)}t=o,e=r,i=p,f!=null?Hu(n,!!e,f,!1):!!i!=!!e&&(t!=null?Hu(n,!!e,t,!0):Hu(n,!!e,e?[]:"",!1));return;case"textarea":p=f=null;for(o in e)if(s=e[o],e.hasOwnProperty(o)&&s!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:xt(n,t,o,null,i,s)}for(r in i)if(s=i[r],a=e[r],i.hasOwnProperty(r)&&(s!=null||a!=null))switch(r){case"value":f=s;break;case"defaultValue":p=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(k(91));break;default:s!==a&&xt(n,t,r,s,i,a)}k_(n,f,p);return;case"option":for(var y in e)if(f=e[y],e.hasOwnProperty(y)&&f!=null&&!i.hasOwnProperty(y))switch(y){case"selected":n.selected=!1;break;default:xt(n,t,y,null,i,f)}for(l in i)if(f=i[l],p=e[l],i.hasOwnProperty(l)&&f!==p&&(f!=null||p!=null))switch(l){case"selected":n.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:xt(n,t,l,f,i,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in e)f=e[m],e.hasOwnProperty(m)&&f!=null&&!i.hasOwnProperty(m)&&xt(n,t,m,null,i,f);for(c in i)if(f=i[c],p=e[c],i.hasOwnProperty(c)&&f!==p&&(f!=null||p!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(k(137,t));break;default:xt(n,t,c,f,i,p)}return;default:if(MS(t)){for(var S in e)f=e[S],e.hasOwnProperty(S)&&f!==void 0&&!i.hasOwnProperty(S)&&xb(n,t,S,void 0,i,f);for(h in i)f=i[h],p=e[h],!i.hasOwnProperty(h)||f===p||f===void 0&&p===void 0||xb(n,t,h,f,i,p);return}}for(var g in e)f=e[g],e.hasOwnProperty(g)&&f!=null&&!i.hasOwnProperty(g)&&xt(n,t,g,null,i,f);for(d in i)f=i[d],p=e[d],!i.hasOwnProperty(d)||f===p||f==null&&p==null||xt(n,t,d,f,i,p)}var _b=null,Cb=null;function gy(n){return n.nodeType===9?n:n.ownerDocument}function F1(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function FR(n,t){if(n===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&t==="foreignObject"?0:n}function Rb(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var m0=null;function nk(){var n=window.event;return n&&n.type==="popstate"?n===m0?!1:(m0=n,!0):(m0=null,!1)}var VR=typeof setTimeout=="function"?setTimeout:void 0,ik=typeof clearTimeout=="function"?clearTimeout:void 0,V1=typeof Promise=="function"?Promise:void 0,sk=typeof queueMicrotask=="function"?queueMicrotask:typeof V1<"u"?function(n){return V1.resolve(null).then(n).catch(ak)}:VR;function ak(n){setTimeout(function(){throw n})}function co(n){return n==="head"}function z1(n,t){var e=t,i=0,s=0;do{var a=e.nextSibling;if(n.removeChild(e),a&&a.nodeType===8)if(e=a.data,e==="/$"){if(0<i&&8>i){e=i;var r=n.ownerDocument;if(e&1&&Ld(r.documentElement),e&2&&Ld(r.body),e&4)for(e=r.head,Ld(e),r=e.firstChild;r;){var o=r.nextSibling,l=r.nodeName;r[Yp]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&r.rel.toLowerCase()==="stylesheet"||e.removeChild(r),r=o}}if(s===0){n.removeChild(a),Zd(t);return}s--}else e==="$"||e==="$?"||e==="$!"?s++:i=e.charCodeAt(0)-48;else i=0;e=a}while(e);Zd(t)}function Mb(n){var t=n.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var e=t;switch(t=t.nextSibling,e.nodeName){case"HTML":case"HEAD":case"BODY":Mb(e),RS(e);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(e.rel.toLowerCase()==="stylesheet")continue}n.removeChild(e)}}function rk(n,t,e,i){for(;n.nodeType===1;){var s=e;if(n.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(i){if(!n[Yp])switch(t){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(a=n.getAttribute("rel"),a==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(a!==s.rel||n.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||n.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||n.getAttribute("title")!==(s.title==null?null:s.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(a=n.getAttribute("src"),(a!==(s.src==null?null:s.src)||n.getAttribute("type")!==(s.type==null?null:s.type)||n.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&a&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(t==="input"&&n.type==="hidden"){var a=s.name==null?null:""+s.name;if(s.type==="hidden"&&n.getAttribute("name")===a)return n}else return n;if(n=Ji(n.nextSibling),n===null)break}return null}function ok(n,t,e){if(t==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!e||(n=Ji(n.nextSibling),n===null))return null;return n}function Db(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function lk(n,t){var e=n.ownerDocument;if(n.data!=="$?"||e.readyState==="complete")t();else{var i=function(){t(),e.removeEventListener("DOMContentLoaded",i)};e.addEventListener("DOMContentLoaded",i),n._reactRetry=i}}function Ji(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return n}var Lb=null;function H1(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}function zR(n,t,e){switch(t=gy(e),n){case"html":if(n=t.documentElement,!n)throw Error(k(452));return n;case"head":if(n=t.head,!n)throw Error(k(453));return n;case"body":if(n=t.body,!n)throw Error(k(454));return n;default:throw Error(k(451))}}function Ld(n){for(var t=n.attributes;t.length;)n.removeAttributeNode(t[0]);RS(n)}var Ni=new Map,U1=new Set;function my(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var qa=bt.d;bt.d={f:uk,r:ck,D:hk,C:dk,L:fk,m:pk,X:mk,S:gk,M:yk};function uk(){var n=qa.f(),t=dv();return n||t}function ck(n){var t=Sh(n);t!==null&&t.tag===5&&t.type==="form"?PC(t):qa.r(n)}var Th=typeof document>"u"?null:document;function HR(n,t,e){var i=Th;if(i&&typeof t=="string"&&t){var s=_i(t);s='link[rel="'+n+'"][href="'+s+'"]',typeof e=="string"&&(s+='[crossorigin="'+e+'"]'),U1.has(s)||(U1.add(s),n={rel:n,crossOrigin:e,href:t},i.querySelector(s)===null&&(t=i.createElement("link"),Ze(t,"link",n),Be(t),i.head.appendChild(t)))}}function hk(n){qa.D(n),HR("dns-prefetch",n,null)}function dk(n,t){qa.C(n,t),HR("preconnect",n,t)}function fk(n,t,e){qa.L(n,t,e);var i=Th;if(i&&n&&t){var s='link[rel="preload"][as="'+_i(t)+'"]';t==="image"&&e&&e.imageSrcSet?(s+='[imagesrcset="'+_i(e.imageSrcSet)+'"]',typeof e.imageSizes=="string"&&(s+='[imagesizes="'+_i(e.imageSizes)+'"]')):s+='[href="'+_i(n)+'"]';var a=s;switch(t){case"style":a=ph(n);break;case"script":a=xh(n)}Ni.has(a)||(n=Vt({rel:"preload",href:t==="image"&&e&&e.imageSrcSet?void 0:n,as:t},e),Ni.set(a,n),i.querySelector(s)!==null||t==="style"&&i.querySelector(ig(a))||t==="script"&&i.querySelector(sg(a))||(t=i.createElement("link"),Ze(t,"link",n),Be(t),i.head.appendChild(t)))}}function pk(n,t){qa.m(n,t);var e=Th;if(e&&n){var i=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+_i(i)+'"][href="'+_i(n)+'"]',a=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=xh(n)}if(!Ni.has(a)&&(n=Vt({rel:"modulepreload",href:n},t),Ni.set(a,n),e.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(e.querySelector(sg(a)))return}i=e.createElement("link"),Ze(i,"link",n),Be(i),e.head.appendChild(i)}}}function gk(n,t,e){qa.S(n,t,e);var i=Th;if(i&&n){var s=zu(i).hoistableStyles,a=ph(n);t=t||"default";var r=s.get(a);if(!r){var o={loading:0,preload:null};if(r=i.querySelector(ig(a)))o.loading=5;else{n=Vt({rel:"stylesheet",href:n,"data-precedence":t},e),(e=Ni.get(a))&&hw(n,e);var l=r=i.createElement("link");Be(l),Ze(l,"link",n),l._p=new Promise(function(c,h){l.onload=c,l.onerror=h}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,rm(r,t,i)}r={type:"stylesheet",instance:r,count:1,state:o},s.set(a,r)}}}function mk(n,t){qa.X(n,t);var e=Th;if(e&&n){var i=zu(e).hoistableScripts,s=xh(n),a=i.get(s);a||(a=e.querySelector(sg(s)),a||(n=Vt({src:n,async:!0},t),(t=Ni.get(s))&&dw(n,t),a=e.createElement("script"),Be(a),Ze(a,"link",n),e.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function yk(n,t){qa.M(n,t);var e=Th;if(e&&n){var i=zu(e).hoistableScripts,s=xh(n),a=i.get(s);a||(a=e.querySelector(sg(s)),a||(n=Vt({src:n,async:!0,type:"module"},t),(t=Ni.get(s))&&dw(n,t),a=e.createElement("script"),Be(a),Ze(a,"link",n),e.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function j1(n,t,e,i){var s=(s=Xr.current)?my(s):null;if(!s)throw Error(k(446));switch(n){case"meta":case"title":return null;case"style":return typeof e.precedence=="string"&&typeof e.href=="string"?(t=ph(e.href),e=zu(s).hoistableStyles,i=e.get(t),i||(i={type:"style",instance:null,count:0,state:null},e.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(e.rel==="stylesheet"&&typeof e.href=="string"&&typeof e.precedence=="string"){n=ph(e.href);var a=zu(s).hoistableStyles,r=a.get(n);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(n,r),(a=s.querySelector(ig(n)))&&!a._p&&(r.instance=a,r.state.loading=5),Ni.has(n)||(e={rel:"preload",as:"style",href:e.href,crossOrigin:e.crossOrigin,integrity:e.integrity,media:e.media,hrefLang:e.hrefLang,referrerPolicy:e.referrerPolicy},Ni.set(n,e),a||vk(s,n,e,r.state))),t&&i===null)throw Error(k(528,""));return r}if(t&&i!==null)throw Error(k(529,""));return null;case"script":return t=e.async,e=e.src,typeof e=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=xh(e),e=zu(s).hoistableScripts,i=e.get(t),i||(i={type:"script",instance:null,count:0,state:null},e.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(k(444,n))}}function ph(n){return'href="'+_i(n)+'"'}function ig(n){return'link[rel="stylesheet"]['+n+"]"}function UR(n){return Vt({},n,{"data-precedence":n.precedence,precedence:null})}function vk(n,t,e,i){n.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=n.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Ze(t,"link",e),Be(t),n.head.appendChild(t))}function xh(n){return'[src="'+_i(n)+'"]'}function sg(n){return"script[async]"+n}function G1(n,t,e){if(t.count++,t.instance===null)switch(t.type){case"style":var i=n.querySelector('style[data-href~="'+_i(e.href)+'"]');if(i)return t.instance=i,Be(i),i;var s=Vt({},e,{"data-href":e.href,"data-precedence":e.precedence,href:null,precedence:null});return i=(n.ownerDocument||n).createElement("style"),Be(i),Ze(i,"style",s),rm(i,e.precedence,n),t.instance=i;case"stylesheet":s=ph(e.href);var a=n.querySelector(ig(s));if(a)return t.state.loading|=4,t.instance=a,Be(a),a;i=UR(e),(s=Ni.get(s))&&hw(i,s),a=(n.ownerDocument||n).createElement("link"),Be(a);var r=a;return r._p=new Promise(function(o,l){r.onload=o,r.onerror=l}),Ze(a,"link",i),t.state.loading|=4,rm(a,e.precedence,n),t.instance=a;case"script":return a=xh(e.src),(s=n.querySelector(sg(a)))?(t.instance=s,Be(s),s):(i=e,(s=Ni.get(a))&&(i=Vt({},e),dw(i,s)),n=n.ownerDocument||n,s=n.createElement("script"),Be(s),Ze(s,"link",i),n.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(k(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,rm(i,e.precedence,n));return t.instance}function rm(n,t,e){for(var i=e.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,a=s,r=0;r<i.length;r++){var o=i[r];if(o.dataset.precedence===t)a=o;else if(a!==s)break}a?a.parentNode.insertBefore(n,a.nextSibling):(t=e.nodeType===9?e.head:e,t.insertBefore(n,t.firstChild))}function hw(n,t){n.crossOrigin==null&&(n.crossOrigin=t.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=t.referrerPolicy),n.title==null&&(n.title=t.title)}function dw(n,t){n.crossOrigin==null&&(n.crossOrigin=t.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=t.referrerPolicy),n.integrity==null&&(n.integrity=t.integrity)}var om=null;function q1(n,t,e){if(om===null){var i=new Map,s=om=new Map;s.set(e,i)}else s=om,i=s.get(e),i||(i=new Map,s.set(e,i));if(i.has(n))return i;for(i.set(n,null),e=e.getElementsByTagName(n),s=0;s<e.length;s++){var a=e[s];if(!(a[Yp]||a[cn]||n==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var r=a.getAttribute(t)||"";r=n+r;var o=i.get(r);o?o.push(a):i.set(r,[a])}}return i}function X1(n,t,e){n=n.ownerDocument||n,n.head.insertBefore(e,t==="title"?n.querySelector("head > title"):null)}function bk(n,t,e){if(e===1||t.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return n=t.disabled,typeof t.precedence=="string"&&n==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function jR(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var $d=null;function Ak(){}function Sk(n,t,e){if($d===null)throw Error(k(475));var i=$d;if(t.type==="stylesheet"&&(typeof e.media!="string"||matchMedia(e.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var s=ph(e.href),a=n.querySelector(ig(s));if(a){n=a._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(i.count++,i=yy.bind(i),n.then(i,i)),t.state.loading|=4,t.instance=a,Be(a);return}a=n.ownerDocument||n,e=UR(e),(s=Ni.get(s))&&hw(e,s),a=a.createElement("link"),Be(a);var r=a;r._p=new Promise(function(o,l){r.onload=o,r.onerror=l}),Ze(a,"link",e),t.instance=a}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,n),(n=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=yy.bind(i),n.addEventListener("load",t),n.addEventListener("error",t))}}function wk(){if($d===null)throw Error(k(475));var n=$d;return n.stylesheets&&n.count===0&&Ob(n,n.stylesheets),0<n.count?function(t){var e=setTimeout(function(){if(n.stylesheets&&Ob(n,n.stylesheets),n.unsuspend){var i=n.unsuspend;n.unsuspend=null,i()}},6e4);return n.unsuspend=t,function(){n.unsuspend=null,clearTimeout(e)}}:null}function yy(){if(this.count--,this.count===0){if(this.stylesheets)Ob(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var vy=null;function Ob(n,t){n.stylesheets=null,n.unsuspend!==null&&(n.count++,vy=new Map,t.forEach(Ek,n),vy=null,yy.call(n))}function Ek(n,t){if(!(t.state.loading&4)){var e=vy.get(n);if(e)var i=e.get(null);else{e=new Map,vy.set(n,e);for(var s=n.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var r=s[a];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(e.set(r.dataset.precedence,r),i=r)}i&&e.set(null,i)}s=t.instance,r=s.getAttribute("data-precedence"),a=e.get(r)||i,a===i&&e.set(null,s),e.set(r,s),this.count++,i=yy.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),a?a.parentNode.insertBefore(s,a.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(s,n.firstChild)),t.state.loading|=4}}var Kd={$$typeof:Ta,Provider:null,Consumer:null,_currentValue:Pl,_currentValue2:Pl,_threadCount:0};function Tk(n,t,e,i,s,a,r,o){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fv(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fv(0),this.hiddenUpdates=Fv(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function GR(n,t,e,i,s,a,r,o,l,c,h,d){return n=new Tk(n,t,e,r,o,l,c,d),t=1,a===!0&&(t|=24),a=si(3,null,null,t),n.current=a,a.stateNode=n,t=zS(),t.refCount++,n.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:e,cache:t},US(a),n}function qR(n){return n?(n=Cu,n):Cu}function XR(n,t,e,i,s,a){s=qR(s),i.context===null?i.context=s:i.pendingContext=s,i=Yr(t),i.payload={element:e},a=a===void 0?null:a,a!==null&&(i.callback=a),e=$r(n,i,t),e!==null&&(li(e,n,t),Ed(e,n,t))}function Y1(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function fw(n,t){Y1(n,t),(n=n.alternate)&&Y1(n,t)}function YR(n){if(n.tag===13){var t=wh(n,67108864);t!==null&&li(t,n,67108864),fw(n,67108864)}}var by=!0;function xk(n,t,e,i){var s=W.T;W.T=null;var a=bt.p;try{bt.p=2,pw(n,t,e,i)}finally{bt.p=a,W.T=s}}function _k(n,t,e,i){var s=W.T;W.T=null;var a=bt.p;try{bt.p=8,pw(n,t,e,i)}finally{bt.p=a,W.T=s}}function pw(n,t,e,i){if(by){var s=Pb(i);if(s===null)g0(n,t,i,Ay,e),$1(n,i);else if(Rk(s,n,t,e,i))i.stopPropagation();else if($1(n,i),t&4&&-1<Ck.indexOf(n)){for(;s!==null;){var a=Sh(s);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var r=mo(a.pendingLanes);if(r!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;r;){var l=1<<31-ri(r);o.entanglements[1]|=l,r&=~l}Bs(a),!(Et&6)&&(cy=Ds()+500,ng(0))}}break;case 13:o=wh(a,2),o!==null&&li(o,a,2),dv(),fw(a,2)}if(a=Pb(i),a===null&&g0(n,t,i,Ay,e),a===s)break;s=a}s!==null&&i.stopPropagation()}else g0(n,t,i,null,e)}}function Pb(n){return n=DS(n),gw(n)}var Ay=null;function gw(n){if(Ay=null,n=Su(n),n!==null){var t=jp(n);if(t===null)n=null;else{var e=t.tag;if(e===13){if(n=v_(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null)}}return Ay=n,null}function $R(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dP()){case w_:return 2;case E_:return 8;case $m:case fP:return 32;case T_:return 268435456;default:return 32}default:return 32}}var Nb=!1,Qr=null,Zr=null,Jr=null,Wd=new Map,Qd=new Map,sr=[],Ck="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $1(n,t){switch(n){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Wd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qd.delete(t.pointerId)}}function Vh(n,t,e,i,s,a){return n===null||n.nativeEvent!==a?(n={blockedOn:t,domEventName:e,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Sh(t),t!==null&&YR(t)),n):(n.eventSystemFlags|=i,t=n.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),n)}function Rk(n,t,e,i,s){switch(t){case"focusin":return Qr=Vh(Qr,n,t,e,i,s),!0;case"dragenter":return Zr=Vh(Zr,n,t,e,i,s),!0;case"mouseover":return Jr=Vh(Jr,n,t,e,i,s),!0;case"pointerover":var a=s.pointerId;return Wd.set(a,Vh(Wd.get(a)||null,n,t,e,i,s)),!0;case"gotpointercapture":return a=s.pointerId,Qd.set(a,Vh(Qd.get(a)||null,n,t,e,i,s)),!0}return!1}function KR(n){var t=Su(n.target);if(t!==null){var e=jp(t);if(e!==null){if(t=e.tag,t===13){if(t=v_(e),t!==null){n.blockedOn=t,SP(n.priority,function(){if(e.tag===13){var i=oi();i=_S(i);var s=wh(e,i);s!==null&&li(s,e,i),fw(e,i)}});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function lm(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=Pb(n.nativeEvent);if(e===null){e=n.nativeEvent;var i=new e.constructor(e.type,e);Q0=i,e.target.dispatchEvent(i),Q0=null}else return t=Sh(e),t!==null&&YR(t),n.blockedOn=e,!1;t.shift()}return!0}function K1(n,t,e){lm(n)&&e.delete(t)}function Mk(){Nb=!1,Qr!==null&&lm(Qr)&&(Qr=null),Zr!==null&&lm(Zr)&&(Zr=null),Jr!==null&&lm(Jr)&&(Jr=null),Wd.forEach(K1),Qd.forEach(K1)}function Bg(n,t){n.blockedOn===t&&(n.blockedOn=null,Nb||(Nb=!0,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,Mk)))}var Ig=null;function W1(n){Ig!==n&&(Ig=n,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,function(){Ig===n&&(Ig=null);for(var t=0;t<n.length;t+=3){var e=n[t],i=n[t+1],s=n[t+2];if(typeof i!="function"){if(gw(i||e)===null)continue;break}var a=Sh(e);a!==null&&(n.splice(t,3),t-=3,fb(a,{pending:!0,data:s,method:e.method,action:i},i,s))}}))}function Zd(n){function t(l){return Bg(l,n)}Qr!==null&&Bg(Qr,n),Zr!==null&&Bg(Zr,n),Jr!==null&&Bg(Jr,n),Wd.forEach(t),Qd.forEach(t);for(var e=0;e<sr.length;e++){var i=sr[e];i.blockedOn===n&&(i.blockedOn=null)}for(;0<sr.length&&(e=sr[0],e.blockedOn===null);)KR(e),e.blockedOn===null&&sr.shift();if(e=(n.ownerDocument||n).$$reactFormReplay,e!=null)for(i=0;i<e.length;i+=3){var s=e[i],a=e[i+1],r=s[Bn]||null;if(typeof a=="function")r||W1(e);else if(r){var o=null;if(a&&a.hasAttribute("formAction")){if(s=a,r=a[Bn]||null)o=r.formAction;else if(gw(s)!==null)continue}else o=r.action;typeof o=="function"?e[i+1]=o:(e.splice(i,3),i-=3),W1(e)}}}function mw(n){this._internalRoot=n}mv.prototype.render=mw.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(k(409));var e=t.current,i=oi();XR(e,i,n,t,null,null)};mv.prototype.unmount=mw.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;XR(n.current,2,null,n,null,null),dv(),t[Ah]=null}};function mv(n){this._internalRoot=n}mv.prototype.unstable_scheduleHydration=function(n){if(n){var t=M_();n={blockedOn:null,target:n,priority:t};for(var e=0;e<sr.length&&t!==0&&t<sr[e].priority;e++);sr.splice(e,0,n),e===0&&KR(n)}};var Q1=m_.version;if(Q1!=="19.1.0")throw Error(k(527,Q1,"19.1.0"));bt.findDOMNode=function(n){var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(k(188)):(n=Object.keys(n).join(","),Error(k(268,n)));return n=aP(t),n=n!==null?b_(n):null,n=n===null?null:n.stateNode,n};var Dk={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fg.isDisabled&&Fg.supportsFiber)try{Gp=Fg.inject(Dk),ai=Fg}catch{}}tv.createRoot=function(n,t){if(!y_(n))throw Error(k(299));var e=!1,i="",s=GC,a=qC,r=XC,o=null;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=GR(n,1,!1,null,null,e,i,s,a,r,o,null),n[Ah]=t.current,cw(n),new mw(t)};tv.hydrateRoot=function(n,t,e){if(!y_(n))throw Error(k(299));var i=!1,s="",a=GC,r=qC,o=XC,l=null,c=null;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(a=e.onUncaughtError),e.onCaughtError!==void 0&&(r=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(l=e.unstable_transitionCallbacks),e.formState!==void 0&&(c=e.formState)),t=GR(n,1,!0,t,e??null,i,s,a,r,o,l,c),t.context=qR(null),e=t.current,i=oi(),i=_S(i),s=Yr(i),s.callback=null,$r(e,s,i),e=i,t.current.lanes=e,Xp(t,e),Bs(t),n[Ah]=t.current,cw(n),new mv(t)};tv.version="19.1.0";function WR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WR)}catch(n){console.error(n)}}WR(),c_.exports=tv;var Lk=c_.exports,yw={};Object.defineProperty(yw,"__esModule",{value:!0});yw.parse=Fk;yw.serialize=Vk;const Ok=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Pk=/^[\u0021-\u003A\u003C-\u007E]*$/,Nk=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,kk=/^[\u0020-\u003A\u003D-\u007E]*$/,Bk=Object.prototype.toString,Ik=(()=>{const n=function(){};return n.prototype=Object.create(null),n})();function Fk(n,t){const e=new Ik,i=n.length;if(i<2)return e;const s=(t==null?void 0:t.decode)||zk;let a=0;do{const r=n.indexOf("=",a);if(r===-1)break;const o=n.indexOf(";",a),l=o===-1?i:o;if(r>l){a=n.lastIndexOf(";",r-1)+1;continue}const c=Z1(n,a,r),h=J1(n,r,c),d=n.slice(c,h);if(e[d]===void 0){let f=Z1(n,r+1,l),p=J1(n,l,f);const y=s(n.slice(f,p));e[d]=y}a=l+1}while(a<i);return e}function Z1(n,t,e){do{const i=n.charCodeAt(t);if(i!==32&&i!==9)return t}while(++t<e);return e}function J1(n,t,e){for(;t>e;){const i=n.charCodeAt(--t);if(i!==32&&i!==9)return t+1}return e}function Vk(n,t,e){const i=(e==null?void 0:e.encode)||encodeURIComponent;if(!Ok.test(n))throw new TypeError(`argument name is invalid: ${n}`);const s=i(t);if(!Pk.test(s))throw new TypeError(`argument val is invalid: ${t}`);let a=n+"="+s;if(!e)return a;if(e.maxAge!==void 0){if(!Number.isInteger(e.maxAge))throw new TypeError(`option maxAge is invalid: ${e.maxAge}`);a+="; Max-Age="+e.maxAge}if(e.domain){if(!Nk.test(e.domain))throw new TypeError(`option domain is invalid: ${e.domain}`);a+="; Domain="+e.domain}if(e.path){if(!kk.test(e.path))throw new TypeError(`option path is invalid: ${e.path}`);a+="; Path="+e.path}if(e.expires){if(!Hk(e.expires)||!Number.isFinite(e.expires.valueOf()))throw new TypeError(`option expires is invalid: ${e.expires}`);a+="; Expires="+e.expires.toUTCString()}if(e.httpOnly&&(a+="; HttpOnly"),e.secure&&(a+="; Secure"),e.partitioned&&(a+="; Partitioned"),e.priority)switch(typeof e.priority=="string"?e.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${e.priority}`)}if(e.sameSite)switch(typeof e.sameSite=="string"?e.sameSite.toLowerCase():e.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${e.sameSite}`)}return a}function zk(n){if(n.indexOf("%")===-1)return n;try{return decodeURIComponent(n)}catch{return n}}function Hk(n){return Bk.call(n)==="[object Date]"}var tT="popstate";function Uk(n={}){function t(s,a){let{pathname:r="/",search:o="",hash:l=""}=tu(s.location.hash.substring(1));return!r.startsWith("/")&&!r.startsWith(".")&&(r="/"+r),kb("",{pathname:r,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(s,a){let r=s.document.querySelector("base"),o="";if(r&&r.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof a=="string"?a:Jd(a))}function i(s,a){es(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return Gk(t,e,i,n)}function Zt(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function es(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jk(){return Math.random().toString(36).substring(2,10)}function eT(n,t){return{usr:n.state,key:n.key,idx:t}}function kb(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?tu(t):t,state:e,key:t&&t.key||i||jk()}}function Jd({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function tu(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function Gk(n,t,e,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,r=s.history,o="POP",l=null,c=h();c==null&&(c=0,r.replaceState({...r.state,idx:c},""));function h(){return(r.state||{idx:null}).idx}function d(){o="POP";let S=h(),g=S==null?null:S-c;c=S,l&&l({action:o,location:m.location,delta:g})}function f(S,g){o="PUSH";let v=kb(m.location,S,g);e&&e(v,S),c=h()+1;let A=eT(v,c),T=m.createHref(v);try{r.pushState(A,"",T)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;s.location.assign(T)}a&&l&&l({action:o,location:m.location,delta:1})}function p(S,g){o="REPLACE";let v=kb(m.location,S,g);e&&e(v,S),c=h();let A=eT(v,c),T=m.createHref(v);r.replaceState(A,"",T),a&&l&&l({action:o,location:m.location,delta:0})}function y(S){return qk(S)}let m={get action(){return o},get location(){return n(s,r)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(tT,d),l=S,()=>{s.removeEventListener(tT,d),l=null}},createHref(S){return t(s,S)},createURL:y,encodeLocation(S){let g=y(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(S){return r.go(S)}};return m}function qk(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Jd(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function QR(n,t,e="/"){return Xk(n,t,e,!1)}function Xk(n,t,e,i){let s=typeof t=="string"?tu(t):t,a=Fa(s.pathname||"/",e);if(a==null)return null;let r=ZR(n);Yk(r);let o=null;for(let l=0;o==null&&l<r.length;++l){let c=sB(a);o=nB(r[l],c,i)}return o}function ZR(n,t=[],e=[],i=""){let s=(a,r,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:r,route:a};l.relativePath.startsWith("/")&&(Zt(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let c=La([i,l.relativePath]),h=e.concat(l);a.children&&a.children.length>0&&(Zt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),ZR(a.children,t,h,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:tB(c,a.index),routesMeta:h})};return n.forEach((a,r)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))s(a,r);else for(let l of JR(a.path))s(a,r,l)}),t}function JR(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),a=e.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let r=JR(i.join("/")),o=[];return o.push(...r.map(l=>l===""?a:[a,l].join("/"))),s&&o.push(...r),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function Yk(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:eB(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var $k=/^:[\w-]+$/,Kk=3,Wk=2,Qk=1,Zk=10,Jk=-2,nT=n=>n==="*";function tB(n,t){let e=n.split("/"),i=e.length;return e.some(nT)&&(i+=Jk),t&&(i+=Wk),e.filter(s=>!nT(s)).reduce((s,a)=>s+($k.test(a)?Kk:a===""?Qk:Zk),i)}function eB(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function nB(n,t,e=!1){let{routesMeta:i}=n,s={},a="/",r=[];for(let o=0;o<i.length;++o){let l=i[o],c=o===i.length-1,h=a==="/"?t:t.slice(a.length)||"/",d=Sy({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),f=l.route;if(!d&&c&&e&&!i[i.length-1].route.index&&(d=Sy({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(s,d.params),r.push({params:s,pathname:La([a,d.pathname]),pathnameBase:lB(La([a,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(a=La([a,d.pathnameBase]))}return r}function Sy(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=iB(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let a=s[0],r=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:i.reduce((c,{paramName:h,isOptional:d},f)=>{if(h==="*"){let y=o[f]||"";r=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const p=o[f];return d&&!p?c[h]=void 0:c[h]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:r,pattern:n}}function iB(n,t=!1,e=!0){es(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function sB(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return es(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Fa(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function aB(n,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof n=="string"?tu(n):n;return{pathname:e?e.startsWith("/")?e:rB(e,t):t,search:uB(i),hash:cB(s)}}function rB(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function y0(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oB(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function tM(n){let t=oB(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function eM(n,t,e,i=!1){let s;typeof n=="string"?s=tu(n):(s={...n},Zt(!s.pathname||!s.pathname.includes("?"),y0("?","pathname","search",s)),Zt(!s.pathname||!s.pathname.includes("#"),y0("#","pathname","hash",s)),Zt(!s.search||!s.search.includes("#"),y0("#","search","hash",s)));let a=n===""||s.pathname==="",r=a?"/":s.pathname,o;if(r==null)o=e;else{let d=t.length-1;if(!i&&r.startsWith("..")){let f=r.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}o=d>=0?t[d]:"/"}let l=aB(s,o),c=r&&r!=="/"&&r.endsWith("/"),h=(a||r===".")&&e.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}var La=n=>n.join("/").replace(/\/\/+/g,"/"),lB=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),uB=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,cB=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function hB(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var nM=["POST","PUT","PATCH","DELETE"];new Set(nM);var dB=["GET",...nM];new Set(dB);var _h=R.createContext(null);_h.displayName="DataRouter";var yv=R.createContext(null);yv.displayName="DataRouterState";var iM=R.createContext({isTransitioning:!1});iM.displayName="ViewTransition";var fB=R.createContext(new Map);fB.displayName="Fetchers";var pB=R.createContext(null);pB.displayName="Await";var Is=R.createContext(null);Is.displayName="Navigation";var ag=R.createContext(null);ag.displayName="Location";var Xa=R.createContext({outlet:null,matches:[],isDataRoute:!1});Xa.displayName="Route";var vw=R.createContext(null);vw.displayName="RouteError";function gB(n,{relative:t}={}){Zt(rg(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=R.useContext(Is),{hash:s,pathname:a,search:r}=og(n,{relative:t}),o=a;return e!=="/"&&(o=a==="/"?e:La([e,a])),i.createHref({pathname:o,search:r,hash:s})}function rg(){return R.useContext(ag)!=null}function eu(){return Zt(rg(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(ag).location}var sM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aM(n){R.useContext(Is).static||R.useLayoutEffect(n)}function mB(){let{isDataRoute:n}=R.useContext(Xa);return n?MB():yB()}function yB(){Zt(rg(),"useNavigate() may be used only in the context of a <Router> component.");let n=R.useContext(_h),{basename:t,navigator:e}=R.useContext(Is),{matches:i}=R.useContext(Xa),{pathname:s}=eu(),a=JSON.stringify(tM(i)),r=R.useRef(!1);return aM(()=>{r.current=!0}),R.useCallback((l,c={})=>{if(es(r.current,sM),!r.current)return;if(typeof l=="number"){e.go(l);return}let h=eM(l,JSON.parse(a),s,c.relative==="path");n==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:La([t,h.pathname])),(c.replace?e.replace:e.push)(h,c.state,c)},[t,e,a,s,n])}R.createContext(null);function og(n,{relative:t}={}){let{matches:e}=R.useContext(Xa),{pathname:i}=eu(),s=JSON.stringify(tM(e));return R.useMemo(()=>eM(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function vB(n,t){return rM(n,t)}function rM(n,t,e,i){var g;Zt(rg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=R.useContext(Is),{matches:a}=R.useContext(Xa),r=a[a.length-1],o=r?r.params:{},l=r?r.pathname:"/",c=r?r.pathnameBase:"/",h=r&&r.route;{let v=h&&h.path||"";oM(l,!h||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let d=eu(),f;if(t){let v=typeof t=="string"?tu(t):t;Zt(c==="/"||((g=v.pathname)==null?void 0:g.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${v.pathname}" was given in the \`location\` prop.`),f=v}else f=d;let p=f.pathname||"/",y=p;if(c!=="/"){let v=c.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=QR(n,{pathname:y});es(h||m!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),es(m==null||m[m.length-1].route.element!==void 0||m[m.length-1].route.Component!==void 0||m[m.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=EB(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:La([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:La([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,e,i);return t&&S?R.createElement(ag.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},S):S}function bB(){let n=RB(),t=hB(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},r=null;return console.error("Error handled by React Router default ErrorBoundary:",n),r=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:a},"ErrorBoundary")," or"," ",R.createElement("code",{style:a},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),e?R.createElement("pre",{style:s},e):null,r)}var AB=R.createElement(bB,null),SB=class extends R.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?R.createElement(Xa.Provider,{value:this.props.routeContext},R.createElement(vw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wB({routeContext:n,match:t,children:e}){let i=R.useContext(_h);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),R.createElement(Xa.Provider,{value:n},e)}function EB(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let s=n,a=e==null?void 0:e.errors;if(a!=null){let l=s.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id])!==void 0);Zt(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let r=!1,o=-1;if(e)for(let l=0;l<s.length;l++){let c=s[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(o=l),c.route.id){let{loaderData:h,errors:d}=e,f=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||f){r=!0,o>=0?s=s.slice(0,o+1):s=[s[0]];break}}}return s.reduceRight((l,c,h)=>{let d,f=!1,p=null,y=null;e&&(d=a&&c.route.id?a[c.route.id]:void 0,p=c.route.errorElement||AB,r&&(o<0&&h===0?(oM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,y=null):o===h&&(f=!0,y=c.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,h+1)),S=()=>{let g;return d?g=p:f?g=y:c.route.Component?g=R.createElement(c.route.Component,null):c.route.element?g=c.route.element:g=l,R.createElement(wB,{match:c,routeContext:{outlet:l,matches:m,isDataRoute:e!=null},children:g})};return e&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?R.createElement(SB,{location:e.location,revalidation:e.revalidation,component:p,error:d,children:S(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):S()},null)}function bw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TB(n){let t=R.useContext(_h);return Zt(t,bw(n)),t}function xB(n){let t=R.useContext(yv);return Zt(t,bw(n)),t}function _B(n){let t=R.useContext(Xa);return Zt(t,bw(n)),t}function Aw(n){let t=_B(n),e=t.matches[t.matches.length-1];return Zt(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function CB(){return Aw("useRouteId")}function RB(){var i;let n=R.useContext(vw),t=xB("useRouteError"),e=Aw("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[e]}function MB(){let{router:n}=TB("useNavigate"),t=Aw("useNavigate"),e=R.useRef(!1);return aM(()=>{e.current=!0}),R.useCallback(async(s,a={})=>{es(e.current,sM),e.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:t,...a}))},[n,t])}var iT={};function oM(n,t,e){!t&&!iT[n]&&(iT[n]=!0,es(!1,e))}R.memo(DB);function DB({routes:n,future:t,state:e}){return rM(n,void 0,e,t)}function Wh(n){Zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LB({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:a=!1}){Zt(!rg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let r=n.replace(/^\/*/,"/"),o=R.useMemo(()=>({basename:r,navigator:s,static:a,future:{}}),[r,s,a]);typeof e=="string"&&(e=tu(e));let{pathname:l="/",search:c="",hash:h="",state:d=null,key:f="default"}=e,p=R.useMemo(()=>{let y=Fa(l,r);return y==null?null:{location:{pathname:y,search:c,hash:h,state:d,key:f},navigationType:i}},[r,l,c,h,d,f,i]);return es(p!=null,`<Router basename="${r}"> is not able to match the URL "${l}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:R.createElement(Is.Provider,{value:o},R.createElement(ag.Provider,{children:t,value:p}))}function OB({children:n,location:t}){return vB(Bb(n),t)}function Bb(n,t=[]){let e=[];return R.Children.forEach(n,(i,s)=>{if(!R.isValidElement(i))return;let a=[...t,s];if(i.type===R.Fragment){e.push.apply(e,Bb(i.props.children,a));return}Zt(i.type===Wh,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let r={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(r.children=Bb(i.props.children,a)),e.push(r)}),e}var um="get",cm="application/x-www-form-urlencoded";function vv(n){return n!=null&&typeof n.tagName=="string"}function PB(n){return vv(n)&&n.tagName.toLowerCase()==="button"}function NB(n){return vv(n)&&n.tagName.toLowerCase()==="form"}function kB(n){return vv(n)&&n.tagName.toLowerCase()==="input"}function BB(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function IB(n,t){return n.button===0&&(!t||t==="_self")&&!BB(n)}var Vg=null;function FB(){if(Vg===null)try{new FormData(document.createElement("form"),0),Vg=!1}catch{Vg=!0}return Vg}var VB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function v0(n){return n!=null&&!VB.has(n)?(es(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cm}"`),null):n}function zB(n,t){let e,i,s,a,r;if(NB(n)){let o=n.getAttribute("action");i=o?Fa(o,t):null,e=n.getAttribute("method")||um,s=v0(n.getAttribute("enctype"))||cm,a=new FormData(n)}else if(PB(n)||kB(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(i=l?Fa(l,t):null,e=n.getAttribute("formmethod")||o.getAttribute("method")||um,s=v0(n.getAttribute("formenctype"))||v0(o.getAttribute("enctype"))||cm,a=new FormData(o,n),!FB()){let{name:c,type:h,value:d}=n;if(h==="image"){let f=c?`${c}.`:"";a.append(`${f}x`,"0"),a.append(`${f}y`,"0")}else c&&a.append(c,d)}}else{if(vv(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=um,i=null,s=cm,r=n}return a&&s==="text/plain"&&(r=a,a=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:a,body:r}}function Sw(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function HB(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UB(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function jB(n,t,e){let i=await Promise.all(n.map(async s=>{let a=t.routes[s.route.id];if(a){let r=await HB(a,e);return r.links?r.links():[]}return[]}));return YB(i.flat(1).filter(UB).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function sT(n,t,e,i,s,a){let r=(l,c)=>e[c]?l.route.id!==e[c].route.id:!0,o=(l,c)=>{var h;return e[c].pathname!==l.pathname||((h=e[c].route.path)==null?void 0:h.endsWith("*"))&&e[c].params["*"]!==l.params["*"]};return a==="assets"?t.filter((l,c)=>r(l,c)||o(l,c)):a==="data"?t.filter((l,c)=>{var d;let h=i.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(r(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((d=e[0])==null?void 0:d.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function GB(n,t,{includeHydrateFallback:e}={}){return qB(n.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function qB(n){return[...new Set(n)]}function XB(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function YB(n,t){let e=new Set;return new Set(t),n.reduce((i,s)=>{let a=JSON.stringify(XB(s));return e.has(a)||(e.add(a),i.push({key:a,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $B=new Set([100,101,204,205]);function KB(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&Fa(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function lM(){let n=R.useContext(_h);return Sw(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function WB(){let n=R.useContext(yv);return Sw(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ww=R.createContext(void 0);ww.displayName="FrameworkContext";function uM(){let n=R.useContext(ww);return Sw(n,"You must render this element inside a <HydratedRouter> element"),n}function QB(n,t){let e=R.useContext(ww),[i,s]=R.useState(!1),[a,r]=R.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:h,onTouchStart:d}=t,f=R.useRef(null);R.useEffect(()=>{if(n==="render"&&r(!0),n==="viewport"){let m=g=>{g.forEach(v=>{r(v.isIntersecting)})},S=new IntersectionObserver(m,{threshold:.5});return f.current&&S.observe(f.current),()=>{S.disconnect()}}},[n]),R.useEffect(()=>{if(i){let m=setTimeout(()=>{r(!0)},100);return()=>{clearTimeout(m)}}},[i]);let p=()=>{s(!0)},y=()=>{s(!1),r(!1)};return e?n!=="intent"?[a,f,{}]:[a,f,{onFocus:zh(o,p),onBlur:zh(l,y),onMouseEnter:zh(c,p),onMouseLeave:zh(h,y),onTouchStart:zh(d,p)}]:[!1,f,{}]}function zh(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function ZB({page:n,...t}){let{router:e}=lM(),i=R.useMemo(()=>QR(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?R.createElement(tI,{page:n,matches:i,...t}):null}function JB(n){let{manifest:t,routeModules:e}=uM(),[i,s]=R.useState([]);return R.useEffect(()=>{let a=!1;return jB(n,t,e).then(r=>{a||s(r)}),()=>{a=!0}},[n,t,e]),i}function tI({page:n,matches:t,...e}){let i=eu(),{manifest:s,routeModules:a}=uM(),{basename:r}=lM(),{loaderData:o,matches:l}=WB(),c=R.useMemo(()=>sT(n,t,l,s,i,"data"),[n,t,l,s,i]),h=R.useMemo(()=>sT(n,t,l,s,i,"assets"),[n,t,l,s,i]),d=R.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let y=new Set,m=!1;if(t.forEach(g=>{var A;let v=s.routes[g.route.id];!v||!v.hasLoader||(!c.some(T=>T.route.id===g.route.id)&&g.route.id in o&&((A=a[g.route.id])!=null&&A.shouldRevalidate)||v.hasClientLoader?m=!0:y.add(g.route.id))}),y.size===0)return[];let S=KB(n,r);return m&&y.size>0&&S.searchParams.set("_routes",t.filter(g=>y.has(g.route.id)).map(g=>g.route.id).join(",")),[S.pathname+S.search]},[r,o,i,s,c,t,n,a]),f=R.useMemo(()=>GB(h,s),[h,s]),p=JB(h);return R.createElement(R.Fragment,null,d.map(y=>R.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...e})),f.map(y=>R.createElement("link",{key:y,rel:"modulepreload",href:y,...e})),p.map(({key:y,link:m})=>R.createElement("link",{key:y,...m})))}function eI(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var cM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cM&&(window.__reactRouterVersion="7.6.3")}catch{}function nI({basename:n,children:t,window:e}){let i=R.useRef();i.current==null&&(i.current=Uk({window:e,v5Compat:!0}));let s=i.current,[a,r]=R.useState({action:s.action,location:s.location}),o=R.useCallback(l=>{R.startTransition(()=>r(l))},[r]);return R.useLayoutEffect(()=>s.listen(o),[s,o]),R.createElement(LB,{basename:n,children:t,location:a.location,navigationType:a.action,navigator:s})}var hM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lu=R.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:s,reloadDocument:a,replace:r,state:o,target:l,to:c,preventScrollReset:h,viewTransition:d,...f},p){let{basename:y}=R.useContext(Is),m=typeof c=="string"&&hM.test(c),S,g=!1;if(typeof c=="string"&&m&&(S=c,cM))try{let D=new URL(window.location.href),O=c.startsWith("//")?new URL(D.protocol+c):new URL(c),N=Fa(O.pathname,y);O.origin===D.origin&&N!=null?c=N+O.search+O.hash:g=!0}catch{es(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=gB(c,{relative:s}),[A,T,x]=QB(i,f),_=rI(c,{replace:r,state:o,target:l,preventScrollReset:h,relative:s,viewTransition:d});function C(D){t&&t(D),D.defaultPrevented||_(D)}let M=R.createElement("a",{...f,...x,href:S||v,onClick:g||a?t:C,ref:eI(p,T),target:l,"data-discover":!m&&e==="render"?"true":void 0});return A&&!m?R.createElement(R.Fragment,null,M,R.createElement(ZB,{page:v})):M});Lu.displayName="Link";var iI=R.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:s=!1,style:a,to:r,viewTransition:o,children:l,...c},h){let d=og(r,{relative:c.relative}),f=eu(),p=R.useContext(yv),{navigator:y,basename:m}=R.useContext(Is),S=p!=null&&hI(d)&&o===!0,g=y.encodeLocation?y.encodeLocation(d).pathname:d.pathname,v=f.pathname,A=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;e||(v=v.toLowerCase(),A=A?A.toLowerCase():null,g=g.toLowerCase()),A&&m&&(A=Fa(A,m)||A);const T=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let x=v===g||!s&&v.startsWith(g)&&v.charAt(T)==="/",_=A!=null&&(A===g||!s&&A.startsWith(g)&&A.charAt(g.length)==="/"),C={isActive:x,isPending:_,isTransitioning:S},M=x?t:void 0,D;typeof i=="function"?D=i(C):D=[i,x?"active":null,_?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(C):a;return R.createElement(Lu,{...c,"aria-current":M,className:D,ref:h,style:O,to:r,viewTransition:o},typeof l=="function"?l(C):l)});iI.displayName="NavLink";var sI=R.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:a,method:r=um,action:o,onSubmit:l,relative:c,preventScrollReset:h,viewTransition:d,...f},p)=>{let y=uI(),m=cI(o,{relative:c}),S=r.toLowerCase()==="get"?"get":"post",g=typeof o=="string"&&hM.test(o),v=A=>{if(l&&l(A),A.defaultPrevented)return;A.preventDefault();let T=A.nativeEvent.submitter,x=(T==null?void 0:T.getAttribute("formmethod"))||r;y(T||A.currentTarget,{fetcherKey:t,method:x,navigate:e,replace:s,state:a,relative:c,preventScrollReset:h,viewTransition:d})};return R.createElement("form",{ref:p,method:S,action:m,onSubmit:i?l:v,...f,"data-discover":!g&&n==="render"?"true":void 0})});sI.displayName="Form";function aI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dM(n){let t=R.useContext(_h);return Zt(t,aI(n)),t}function rI(n,{target:t,replace:e,state:i,preventScrollReset:s,relative:a,viewTransition:r}={}){let o=mB(),l=eu(),c=og(n,{relative:a});return R.useCallback(h=>{if(IB(h,t)){h.preventDefault();let d=e!==void 0?e:Jd(l)===Jd(c);o(n,{replace:d,state:i,preventScrollReset:s,relative:a,viewTransition:r})}},[l,o,c,e,i,t,n,s,a,r])}var oI=0,lI=()=>`__${String(++oI)}__`;function uI(){let{router:n}=dM("useSubmit"),{basename:t}=R.useContext(Is),e=CB();return R.useCallback(async(i,s={})=>{let{action:a,method:r,encType:o,formData:l,body:c}=zB(i,t);if(s.navigate===!1){let h=s.fetcherKey||lI();await n.fetch(h,e,s.action||a,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||r,formEncType:s.encType||o,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||r,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,t,e])}function cI(n,{relative:t}={}){let{basename:e}=R.useContext(Is),i=R.useContext(Xa);Zt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...og(n||".",{relative:t})},r=eu();if(n==null){a.search=r.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(h=>h==="")){o.delete("index"),l.filter(d=>d).forEach(d=>o.append("index",d));let h=o.toString();a.search=h?`?${h}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(a.pathname=a.pathname==="/"?e:La([e,a.pathname])),Jd(a)}function hI(n,t={}){let e=R.useContext(iM);Zt(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=dM("useViewTransitionState"),s=og(n,{relative:t.relative});if(!e.isTransitioning)return!1;let a=Fa(e.currentLocation.pathname,i)||e.currentLocation.pathname,r=Fa(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Sy(s.pathname,r)!=null||Sy(s.pathname,a)!=null}[...$B];const fM=R.createContext({});function Ew(n){const t=R.useRef(null);return t.current===null&&(t.current=n()),t.current}const Tw=typeof window<"u",pM=Tw?R.useLayoutEffect:R.useEffect,xw=R.createContext(null);function _w(n,t){n.indexOf(t)===-1&&n.push(t)}function bv(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Va=(n,t,e)=>e>t?t:e<n?n:e;let Cw=()=>{};const za={},gM=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function mM(n){return typeof n=="object"&&n!==null}const yM=n=>/^0[^.\s]+$/u.test(n);function Rw(n){let t;return()=>(t===void 0&&(t=n()),t)}const Li=n=>n,dI=(n,t)=>e=>t(n(e)),lg=(...n)=>n.reduce(dI),gh=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};class Mw{constructor(){this.subscriptions=[]}add(t){return _w(this.subscriptions,t),()=>bv(this.subscriptions,t)}notify(t,e,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,i);else for(let a=0;a<s;a++){const r=this.subscriptions[a];r&&r(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ts=n=>n*1e3,Os=n=>n/1e3;function vM(n,t){return t?n*(1e3/t):0}const fI=(n,t,e)=>{const i=t-n;return((e-n)%i+i)%i+n},bM=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,pI=1e-7,gI=12;function mI(n,t,e,i,s){let a,r,o=0;do r=t+(e-t)/2,a=bM(r,i,s)-n,a>0?e=r:t=r;while(Math.abs(a)>pI&&++o<gI);return r}function ug(n,t,e,i){if(n===t&&e===i)return Li;const s=a=>mI(a,0,1,n,e);return a=>a===0||a===1?a:bM(s(a),t,i)}const AM=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,SM=n=>t=>1-n(1-t),wM=ug(.33,1.53,.69,.99),Dw=SM(wM),EM=AM(Dw),TM=n=>(n*=2)<1?.5*Dw(n):.5*(2-Math.pow(2,-10*(n-1))),Lw=n=>1-Math.sin(Math.acos(n)),xM=SM(Lw),_M=AM(Lw),yI=ug(.42,0,1,1),vI=ug(0,0,.58,1),CM=ug(.42,0,.58,1),RM=n=>Array.isArray(n)&&typeof n[0]!="number";function MM(n,t){return RM(n)?n[fI(0,n.length,t)]:n}const DM=n=>Array.isArray(n)&&typeof n[0]=="number",bI={linear:Li,easeIn:yI,easeInOut:CM,easeOut:vI,circIn:Lw,circInOut:_M,circOut:xM,backIn:Dw,backInOut:EM,backOut:wM,anticipate:TM},AI=n=>typeof n=="string",aT=n=>{if(DM(n)){Cw(n.length===4);const[t,e,i,s]=n;return ug(t,e,i,s)}else if(AI(n))return bI[n];return n},zg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function SI(n,t){let e=new Set,i=new Set,s=!1,a=!1;const r=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(h){r.has(h)&&(c.schedule(h),n()),h(o)}const c={schedule:(h,d=!1,f=!1)=>{const y=f&&s?e:i;return d&&r.add(h),y.has(h)||y.add(h),h},cancel:h=>{i.delete(h),r.delete(h)},process:h=>{if(o=h,s){a=!0;return}s=!0,[e,i]=[i,e],e.forEach(l),e.clear(),s=!1,a&&(a=!1,c.process(h))}};return c}const wI=40;function LM(n,t){let e=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>e=!0,r=zg.reduce((A,T)=>(A[T]=SI(a),A),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:h,update:d,preRender:f,render:p,postRender:y}=r,m=()=>{const A=za.useManualTiming?s.timestamp:performance.now();e=!1,za.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(A-s.timestamp,wI),1)),s.timestamp=A,s.isProcessing=!0,o.process(s),l.process(s),c.process(s),h.process(s),d.process(s),f.process(s),p.process(s),y.process(s),s.isProcessing=!1,e&&t&&(i=!1,n(m))},S=()=>{e=!0,i=!0,s.isProcessing||n(m)};return{schedule:zg.reduce((A,T)=>{const x=r[T];return A[T]=(_,C=!1,M=!1)=>(e||S(),x.schedule(_,C,M)),A},{}),cancel:A=>{for(let T=0;T<zg.length;T++)r[zg[T]].cancel(A)},state:s,steps:r}}const{schedule:Ft,cancel:Ha,state:Xe,steps:b0}=LM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Li,!0);let hm;function EI(){hm=void 0}const kn={now:()=>(hm===void 0&&kn.set(Xe.isProcessing||za.useManualTiming?Xe.timestamp:performance.now()),hm),set:n=>{hm=n,queueMicrotask(EI)}},OM=n=>t=>typeof t=="string"&&t.startsWith(n),Ow=OM("--"),TI=OM("var(--"),Pw=n=>TI(n)?xI.test(n.split("/*")[0].trim()):!1,xI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ch={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},tf={...Ch,transform:n=>Va(0,1,n)},Hg={...Ch,default:1},Od=n=>Math.round(n*1e5)/1e5,Nw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _I(n){return n==null}const CI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kw=(n,t)=>e=>!!(typeof e=="string"&&CI.test(e)&&e.startsWith(n)||t&&!_I(e)&&Object.prototype.hasOwnProperty.call(e,t)),PM=(n,t,e)=>i=>{if(typeof i!="string")return i;const[s,a,r,o]=i.match(Nw);return{[n]:parseFloat(s),[t]:parseFloat(a),[e]:parseFloat(r),alpha:o!==void 0?parseFloat(o):1}},RI=n=>Va(0,255,n),A0={...Ch,transform:n=>Math.round(RI(n))},xo={test:kw("rgb","red"),parse:PM("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+A0.transform(n)+", "+A0.transform(t)+", "+A0.transform(e)+", "+Od(tf.transform(i))+")"};function MI(n){let t="",e="",i="",s="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),t+=t,e+=e,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Ib={test:kw("#"),parse:MI,transform:xo.transform},cg=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Qa=cg("deg"),Ps=cg("%"),K=cg("px"),DI=cg("vh"),LI=cg("vw"),rT={...Ps,parse:n=>Ps.parse(n)/100,transform:n=>Ps.transform(n*100)},Ou={test:kw("hsl","hue"),parse:PM("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+Ps.transform(Od(t))+", "+Ps.transform(Od(e))+", "+Od(tf.transform(i))+")"},me={test:n=>xo.test(n)||Ib.test(n)||Ou.test(n),parse:n=>xo.test(n)?xo.parse(n):Ou.test(n)?Ou.parse(n):Ib.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?xo.transform(n):Ou.transform(n),getAnimatableNone:n=>{const t=me.parse(n);return t.alpha=0,me.transform(t)}},OI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function PI(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(Nw))==null?void 0:t.length)||0)+(((e=n.match(OI))==null?void 0:e.length)||0)>0}const NM="number",kM="color",NI="var",kI="var(",oT="${}",BI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ef(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},s=[];let a=0;const o=t.replace(BI,l=>(me.test(l)?(i.color.push(a),s.push(kM),e.push(me.parse(l))):l.startsWith(kI)?(i.var.push(a),s.push(NI),e.push(l)):(i.number.push(a),s.push(NM),e.push(parseFloat(l))),++a,oT)).split(oT);return{values:e,split:o,indexes:i,types:s}}function BM(n){return ef(n).values}function IM(n){const{split:t,types:e}=ef(n),i=t.length;return s=>{let a="";for(let r=0;r<i;r++)if(a+=t[r],s[r]!==void 0){const o=e[r];o===NM?a+=Od(s[r]):o===kM?a+=me.transform(s[r]):a+=s[r]}return a}}const II=n=>typeof n=="number"?0:me.test(n)?me.getAnimatableNone(n):n;function FI(n){const t=BM(n);return IM(n)(t.map(II))}const io={test:PI,parse:BM,createTransformer:IM,getAnimatableNone:FI};function S0(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function VI({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let s=0,a=0,r=0;if(!t)s=a=r=e;else{const o=e<.5?e*(1+t):e+t-e*t,l=2*e-o;s=S0(l,o,n+1/3),a=S0(l,o,n),r=S0(l,o,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(r*255),alpha:i}}function wy(n,t){return e=>e>0?t:n}const Xt=(n,t,e)=>n+(t-n)*e,w0=(n,t,e)=>{const i=n*n,s=e*(t*t-i)+i;return s<0?0:Math.sqrt(s)},zI=[Ib,xo,Ou],HI=n=>zI.find(t=>t.test(n));function lT(n){const t=HI(n);if(!t)return!1;let e=t.parse(n);return t===Ou&&(e=VI(e)),e}const uT=(n,t)=>{const e=lT(n),i=lT(t);if(!e||!i)return wy(n,t);const s={...e};return a=>(s.red=w0(e.red,i.red,a),s.green=w0(e.green,i.green,a),s.blue=w0(e.blue,i.blue,a),s.alpha=Xt(e.alpha,i.alpha,a),xo.transform(s))},Fb=new Set(["none","hidden"]);function UI(n,t){return Fb.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function jI(n,t){return e=>Xt(n,t,e)}function Bw(n){return typeof n=="number"?jI:typeof n=="string"?Pw(n)?wy:me.test(n)?uT:XI:Array.isArray(n)?FM:typeof n=="object"?me.test(n)?uT:GI:wy}function FM(n,t){const e=[...n],i=e.length,s=n.map((a,r)=>Bw(a)(a,t[r]));return a=>{for(let r=0;r<i;r++)e[r]=s[r](a);return e}}function GI(n,t){const e={...n,...t},i={};for(const s in e)n[s]!==void 0&&t[s]!==void 0&&(i[s]=Bw(n[s])(n[s],t[s]));return s=>{for(const a in i)e[a]=i[a](s);return e}}function qI(n,t){const e=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],r=n.indexes[a][i[a]],o=n.values[r]??0;e[s]=o,i[a]++}return e}const XI=(n,t)=>{const e=io.createTransformer(t),i=ef(n),s=ef(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Fb.has(n)&&!s.values.length||Fb.has(t)&&!i.values.length?UI(n,t):lg(FM(qI(i,s),s.values),e):wy(n,t)};function VM(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?Xt(n,t,e):Bw(n)(n,t)}const YI=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>Ft.update(t,e),stop:()=>Ha(t),now:()=>Xe.isProcessing?Xe.timestamp:kn.now()}},zM=(n,t,e=10)=>{let i="";const s=Math.max(Math.round(t/e),2);for(let a=0;a<s;a++)i+=Math.round(n(a/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Ey=2e4;function Iw(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<Ey;)t+=e,i=n.next(t);return t>=Ey?1/0:t}function HM(n,t=100,e){const i=e({...n,keyframes:[0,t]}),s=Math.min(Iw(i),Ey);return{type:"keyframes",ease:a=>i.next(s*a).value/t,duration:Os(s)}}const $I=5;function UM(n,t,e){const i=Math.max(t-$I,0);return vM(e-n(i),t-i)}const ie={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},E0=.001;function KI({duration:n=ie.duration,bounce:t=ie.bounce,velocity:e=ie.velocity,mass:i=ie.mass}){let s,a,r=1-t;r=Va(ie.minDamping,ie.maxDamping,r),n=Va(ie.minDuration,ie.maxDuration,Os(n)),r<1?(s=c=>{const h=c*r,d=h*n,f=h-e,p=Vb(c,r),y=Math.exp(-d);return E0-f/p*y},a=c=>{const d=c*r*n,f=d*e+e,p=Math.pow(r,2)*Math.pow(c,2)*n,y=Math.exp(-d),m=Vb(Math.pow(c,2),r);return(-s(c)+E0>0?-1:1)*((f-p)*y)/m}):(s=c=>{const h=Math.exp(-c*n),d=(c-e)*n+1;return-E0+h*d},a=c=>{const h=Math.exp(-c*n),d=(e-c)*(n*n);return h*d});const o=5/n,l=QI(s,a,o);if(n=ts(n),isNaN(l))return{stiffness:ie.stiffness,damping:ie.damping,duration:n};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:r*2*Math.sqrt(i*c),duration:n}}}const WI=12;function QI(n,t,e){let i=e;for(let s=1;s<WI;s++)i=i-n(i)/t(i);return i}function Vb(n,t){return n*Math.sqrt(1-t*t)}const ZI=["duration","bounce"],JI=["stiffness","damping","mass"];function cT(n,t){return t.some(e=>n[e]!==void 0)}function t3(n){let t={velocity:ie.velocity,stiffness:ie.stiffness,damping:ie.damping,mass:ie.mass,isResolvedFromDuration:!1,...n};if(!cT(n,JI)&&cT(n,ZI))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),s=i*i,a=2*Va(.05,1,1-(n.bounce||0))*Math.sqrt(s);t={...t,mass:ie.mass,stiffness:s,damping:a}}else{const e=KI(n);t={...t,...e,mass:ie.mass},t.isResolvedFromDuration=!0}return t}function nf(n=ie.visualDuration,t=ie.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:s}=e;const a=e.keyframes[0],r=e.keyframes[e.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:h,duration:d,velocity:f,isResolvedFromDuration:p}=t3({...e,velocity:-Os(e.velocity||0)}),y=f||0,m=c/(2*Math.sqrt(l*h)),S=r-a,g=Os(Math.sqrt(l/h)),v=Math.abs(S)<5;i||(i=v?ie.restSpeed.granular:ie.restSpeed.default),s||(s=v?ie.restDelta.granular:ie.restDelta.default);let A;if(m<1){const x=Vb(g,m);A=_=>{const C=Math.exp(-m*g*_);return r-C*((y+m*g*S)/x*Math.sin(x*_)+S*Math.cos(x*_))}}else if(m===1)A=x=>r-Math.exp(-g*x)*(S+(y+g*S)*x);else{const x=g*Math.sqrt(m*m-1);A=_=>{const C=Math.exp(-m*g*_),M=Math.min(x*_,300);return r-C*((y+m*g*S)*Math.sinh(M)+x*S*Math.cosh(M))/x}}const T={calculatedDuration:p&&d||null,next:x=>{const _=A(x);if(p)o.done=x>=d;else{let C=x===0?y:0;m<1&&(C=x===0?ts(y):UM(A,x,_));const M=Math.abs(C)<=i,D=Math.abs(r-_)<=s;o.done=M&&D}return o.value=o.done?r:_,o},toString:()=>{const x=Math.min(Iw(T),Ey),_=zM(C=>T.next(x*C).value,x,30);return x+"ms "+_},toTransition:()=>{}};return T}nf.applyToOptions=n=>{const t=HM(n,100,nf);return n.ease=t.ease,n.duration=ts(t.duration),n.type="keyframes",n};function zb({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:r,min:o,max:l,restDelta:c=.5,restSpeed:h}){const d=n[0],f={done:!1,value:d},p=M=>o!==void 0&&M<o||l!==void 0&&M>l,y=M=>o===void 0?l:l===void 0||Math.abs(o-M)<Math.abs(l-M)?o:l;let m=e*t;const S=d+m,g=r===void 0?S:r(S);g!==S&&(m=g-d);const v=M=>-m*Math.exp(-M/i),A=M=>g+v(M),T=M=>{const D=v(M),O=A(M);f.done=Math.abs(D)<=c,f.value=f.done?g:O};let x,_;const C=M=>{p(f.value)&&(x=M,_=nf({keyframes:[f.value,y(f.value)],velocity:UM(A,M,f.value),damping:s,stiffness:a,restDelta:c,restSpeed:h}))};return C(0),{calculatedDuration:null,next:M=>{let D=!1;return!_&&x===void 0&&(D=!0,T(M),C(M)),x!==void 0&&M>=x?_.next(M-x):(!D&&T(M),f)}}}function e3(n,t,e){const i=[],s=e||za.mix||VM,a=n.length-1;for(let r=0;r<a;r++){let o=s(n[r],n[r+1]);if(t){const l=Array.isArray(t)?t[r]||Li:t;o=lg(l,o)}i.push(o)}return i}function jM(n,t,{clamp:e=!0,ease:i,mixer:s}={}){const a=n.length;if(Cw(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const r=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),t=[...t].reverse());const o=e3(t,i,s),l=o.length,c=h=>{if(r&&h<n[0])return t[0];let d=0;if(l>1)for(;d<n.length-2&&!(h<n[d+1]);d++);const f=gh(n[d],n[d+1],h);return o[d](f)};return e?h=>c(Va(n[0],n[a-1],h)):c}function GM(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const s=gh(0,t,i);n.push(Xt(e,1,s))}}function qM(n){const t=[0];return GM(t,n.length-1),t}function n3(n,t){return n.map(e=>e*t)}function i3(n,t){return n.map(()=>t||CM).splice(0,n.length-1)}function Pd({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const s=RM(i)?i.map(aT):aT(i),a={done:!1,value:t[0]},r=n3(e&&e.length===t.length?e:qM(t),n),o=jM(r,t,{ease:Array.isArray(s)?s:i3(t,s)});return{calculatedDuration:n,next:l=>(a.value=o(l),a.done=l>=n,a)}}const s3=n=>n!==null;function Fw(n,{repeat:t,repeatType:e="loop"},i,s=1){const a=n.filter(s3),o=s<0||t&&e!=="loop"&&t%2===1?0:a.length-1;return!o||i===void 0?a[o]:i}const a3={decay:zb,inertia:zb,tween:Pd,keyframes:Pd,spring:nf};function XM(n){typeof n.type=="string"&&(n.type=a3[n.type])}class Vw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const r3=n=>n/100;class zw extends Vw{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:e}=this.options;e&&e.updatedAt!==kn.now()&&this.tick(kn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;XM(t);const{type:e=Pd,repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:r=0}=t;let{keyframes:o}=t;const l=e||Pd;l!==Pd&&typeof o[0]!="number"&&(this.mixKeyframes=lg(r3,VM(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});a==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-r})),c.calculatedDuration===null&&(c.calculatedDuration=Iw(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=c}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:s,mixKeyframes:a,mirroredGenerator:r,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return i.next(0);const{delay:c=0,keyframes:h,repeat:d,repeatType:f,repeatDelay:p,type:y,onUpdate:m,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let A=this.currentTime,T=i;if(d){const M=Math.min(this.currentTime,s)/o;let D=Math.floor(M),O=M%1;!O&&M>=1&&(O=1),O===1&&D--,D=Math.min(D,d+1),!!(D%2)&&(f==="reverse"?(O=1-O,p&&(O-=p/o)):f==="mirror"&&(T=r)),A=Va(0,1,O)*o}const x=v?{done:!1,value:h[0]}:T.next(A);a&&(x.value=a(x.value));let{done:_}=x;!v&&l!==null&&(_=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return C&&y!==zb&&(x.value=Fw(h,this.options,S,this.speed)),m&&m(x.value),C&&this.finish(),x}then(t,e){return this.finished.then(t,e)}get duration(){return Os(this.calculatedDuration)}get time(){return Os(this.currentTime)}set time(t){var e;t=ts(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(e=this.driver)==null||e.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(kn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Os(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:t=YI,startTime:e}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),(a=(s=this.options).onPlay)==null||a.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(kn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,e;this.notifyFinished(),this.teardown(),this.state="finished",(e=(t=this.options).onComplete)==null||e.call(t)}cancel(){var t,e;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(e=(t=this.options).onCancel)==null||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var e;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(e=this.driver)==null||e.stop(),t.observe(this)}}function o3(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const _o=n=>n*180/Math.PI,Hb=n=>{const t=_o(Math.atan2(n[1],n[0]));return Ub(t)},l3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Hb,rotateZ:Hb,skewX:n=>_o(Math.atan(n[1])),skewY:n=>_o(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Ub=n=>(n=n%360,n<0&&(n+=360),n),hT=Hb,dT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),fT=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),u3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:dT,scaleY:fT,scale:n=>(dT(n)+fT(n))/2,rotateX:n=>Ub(_o(Math.atan2(n[6],n[5]))),rotateY:n=>Ub(_o(Math.atan2(-n[2],n[0]))),rotateZ:hT,rotate:hT,skewX:n=>_o(Math.atan(n[4])),skewY:n=>_o(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function jb(n){return n.includes("scale")?1:0}function Gb(n,t){if(!n||n==="none")return jb(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(e)i=u3,s=e;else{const o=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=l3,s=o}if(!s)return jb(t);const a=i[t],r=s[1].split(",").map(h3);return typeof a=="function"?a(r):r[a]}const c3=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return Gb(e,t)};function h3(n){return parseFloat(n.trim())}const Rh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mh=new Set(Rh),pT=n=>n===Ch||n===K,d3=new Set(["x","y","z"]),f3=Rh.filter(n=>!d3.has(n));function p3(n){const t=[];return f3.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const zl={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Gb(t,"x"),y:(n,{transform:t})=>Gb(t,"y")};zl.translateX=zl.x;zl.translateY=zl.y;const Hl=new Set;let qb=!1,Xb=!1,Yb=!1;function YM(){if(Xb){const n=Array.from(Hl).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const s=p3(i);s.length&&(e.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=e.get(i);s&&s.forEach(([a,r])=>{var o;(o=i.getValue(a))==null||o.set(r)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Xb=!1,qb=!1,Hl.forEach(n=>n.complete(Yb)),Hl.clear()}function $M(){Hl.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Xb=!0)})}function g3(){Yb=!0,$M(),YM(),Yb=!1}class Hw{constructor(t,e,i,s,a,r=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=a,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(Hl.add(this),qb||(qb=!0,Ft.read($M),Ft.resolveKeyframes(YM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;if(t[0]===null){const a=s==null?void 0:s.get(),r=t[t.length-1];if(a!==void 0)t[0]=a;else if(i&&e){const o=i.readValue(e,r);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=r),s&&a===void 0&&s.set(t[0])}o3(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Hl.delete(this)}cancel(){this.state==="scheduled"&&(Hl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const m3=n=>n.startsWith("--");function y3(n,t,e){m3(t)?n.style.setProperty(t,e):n.style[t]=e}const v3=Rw(()=>window.ScrollTimeline!==void 0),b3={};function A3(n,t){const e=Rw(n);return()=>b3[t]??e()}const KM=A3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qh=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,gT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qh([0,.65,.55,1]),circOut:Qh([.55,0,1,.45]),backIn:Qh([.31,.01,.66,-.59]),backOut:Qh([.33,1.53,.69,.99])};function WM(n,t){if(n)return typeof n=="function"?KM()?zM(n,t):"ease-out":DM(n)?Qh(n):Array.isArray(n)?n.map(e=>WM(e,t)||gT.easeOut):gT[n]}function S3(n,t,e,{delay:i=0,duration:s=300,repeat:a=0,repeatType:r="loop",ease:o="easeOut",times:l}={},c=void 0){const h={[t]:e};l&&(h.offset=l);const d=WM(o,s);Array.isArray(d)&&(h.easing=d);const f={delay:i,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:r==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),n.animate(h,f)}function Uw(n){return typeof n=="function"&&"applyToOptions"in n}function w3({type:n,...t}){return Uw(n)&&KM()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class E3 extends Vw{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:i,keyframes:s,pseudoElement:a,allowFlatten:r=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!a,this.allowFlatten=r,this.options=t,Cw(typeof t.type!="string");const c=w3(t);this.animation=S3(e,i,s,c,a),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const h=Fw(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(h):y3(e,i,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,e;(e=(t=this.animation).finish)==null||e.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,e;this.isPseudoElement||(e=(t=this.animation).commitStyles)==null||e.call(t)}get duration(){var e,i;const t=((i=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:i.call(e).duration)||0;return Os(Number(t))}get time(){return Os(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ts(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&v3()?(this.animation.timeline=t,Li):e(this)}}const QM={anticipate:TM,backInOut:EM,circInOut:_M};function T3(n){return n in QM}function x3(n){typeof n.ease=="string"&&T3(n.ease)&&(n.ease=QM[n.ease])}const mT=10;class _3 extends E3{constructor(t){x3(t),XM(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:s,element:a,...r}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const o=new zw({...r,autoplay:!1}),l=ts(this.finishedTime??this.time);e.setWithVelocity(o.sample(l-mT).value,o.sample(l).value,mT),o.stop()}}const yT=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(io.test(n)||n==="0")&&!n.startsWith("url("));function C3(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function R3(n,t,e,i){const s=n[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=n[n.length-1],r=yT(s,t),o=yT(a,t);return!r||!o?!1:C3(n)||(e==="spring"||Uw(e))&&i}function ZM(n){return mM(n)&&"offsetHeight"in n}const M3=new Set(["opacity","clipPath","filter","transform"]),D3=Rw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function L3(n){var c;const{motionValue:t,name:e,repeatDelay:i,repeatType:s,damping:a,type:r}=n;if(!ZM((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return D3()&&e&&M3.has(e)&&(e!=="transform"||!l)&&!o&&!i&&s!=="mirror"&&a!==0&&r!=="inertia"}const O3=40;class P3 extends Vw{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:r="loop",keyframes:o,name:l,motionValue:c,element:h,...d}){var y;super(),this.stop=()=>{var m,S;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=kn.now();const f={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:a,repeatType:r,name:l,motionValue:c,element:h,...d},p=(h==null?void 0:h.KeyframeResolver)||Hw;this.keyframeResolver=new p(o,(m,S,g)=>this.onKeyframesResolved(m,S,f,!g),l,c,h),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(t,e,i,s){this.keyframeResolver=void 0;const{name:a,type:r,velocity:o,delay:l,isHandoff:c,onUpdate:h}=i;this.resolvedAt=kn.now(),R3(t,a,r,o)||((za.instantAnimations||!l)&&(h==null||h(Fw(t,i,e))),t[0]=t[t.length-1],i.duration=0,i.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>O3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},p=!c&&L3(f)?new _3({...f,element:f.motionValue.owner.current}):new zw(f);p.finished.then(()=>this.notifyFinished()).catch(Li),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),g3()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class N3{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=e}attachTimeline(t){const e=this.animations.map(i=>i.attachTimeline(t));return()=>{e.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class k3 extends N3{then(t,e){return this.finished.finally(t).then(()=>{})}}const B3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function I3(n){const t=B3.exec(n);if(!t)return[,];const[,e,i,s]=t;return[`--${e??i}`,s]}function JM(n,t,e=1){const[i,s]=I3(n);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const r=a.trim();return gM(r)?parseFloat(r):r}return Pw(s)?JM(s,t,e+1):s}function jw(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const tD=new Set(["width","height","top","left","right","bottom",...Rh]),F3={test:n=>n==="auto",parse:n=>n},eD=n=>t=>t.test(n),nD=[Ch,K,Ps,Qa,LI,DI,F3],vT=n=>nD.find(eD(n));function V3(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||yM(n):!0}const z3=new Set(["brightness","contrast","saturate","opacity"]);function H3(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(Nw)||[];if(!i)return n;const s=e.replace(i,"");let a=z3.has(t)?1:0;return i!==e&&(a*=100),t+"("+a+s+")"}const U3=/\b([a-z-]*)\(.*?\)/gu,$b={...io,getAnimatableNone:n=>{const t=n.match(U3);return t?t.map(H3).join(" "):n}},bT={...Ch,transform:Math.round},j3={rotate:Qa,rotateX:Qa,rotateY:Qa,rotateZ:Qa,scale:Hg,scaleX:Hg,scaleY:Hg,scaleZ:Hg,skew:Qa,skewX:Qa,skewY:Qa,distance:K,translateX:K,translateY:K,translateZ:K,x:K,y:K,z:K,perspective:K,transformPerspective:K,opacity:tf,originX:rT,originY:rT,originZ:K},Gw={borderWidth:K,borderTopWidth:K,borderRightWidth:K,borderBottomWidth:K,borderLeftWidth:K,borderRadius:K,radius:K,borderTopLeftRadius:K,borderTopRightRadius:K,borderBottomRightRadius:K,borderBottomLeftRadius:K,width:K,maxWidth:K,height:K,maxHeight:K,top:K,right:K,bottom:K,left:K,padding:K,paddingTop:K,paddingRight:K,paddingBottom:K,paddingLeft:K,margin:K,marginTop:K,marginRight:K,marginBottom:K,marginLeft:K,backgroundPositionX:K,backgroundPositionY:K,...j3,zIndex:bT,fillOpacity:tf,strokeOpacity:tf,numOctaves:bT},G3={...Gw,color:me,backgroundColor:me,outlineColor:me,fill:me,stroke:me,borderColor:me,borderTopColor:me,borderRightColor:me,borderBottomColor:me,borderLeftColor:me,filter:$b,WebkitFilter:$b},iD=n=>G3[n];function sD(n,t){let e=iD(n);return e!==$b&&(e=io),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const q3=new Set(["auto","none","0"]);function X3(n,t,e){let i=0,s;for(;i<n.length&&!s;){const a=n[i];typeof a=="string"&&!q3.has(a)&&ef(a).values.length&&(s=n[i]),i++}if(s&&e)for(const a of t)n[a]=sD(e,s)}class Y3 extends Hw{constructor(t,e,i,s,a){super(t,e,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Pw(c))){const h=JM(c,e.current);h!==void 0&&(t[l]=h),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!tD.has(i)||t.length!==2)return;const[s,a]=t,r=vT(s),o=vT(a);if(r!==o)if(pT(r)&&pT(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else zl[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||V3(t[s]))&&i.push(s);i.length&&X3(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zl[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var o;const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(e);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,r=i[a];i[a]=zl[e](t.measureViewportBox(),window.getComputedStyle(t.current)),r!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=r),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function aD(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const s=(e==null?void 0:e[n])??i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const rD=(n,t)=>t&&typeof n=="number"?t.transform(n):n,AT=30,$3=n=>!isNaN(parseFloat(n)),Nd={current:void 0};class K3{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{var r,o;const a=kn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=kn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=$3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Mw);const i=this.events[t].add(e);return t==="change"?()=>{i(),Ft.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Nd.current&&Nd.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=kn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>AT)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,AT);return vM(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,e;(t=this.dependents)==null||t.clear(),(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xl(n,t){return new K3(n,t)}const{schedule:qw}=LM(queueMicrotask,!1),Bi={x:!1,y:!1};function oD(){return Bi.x||Bi.y}function W3(n){return n==="x"||n==="y"?Bi[n]?null:(Bi[n]=!0,()=>{Bi[n]=!1}):Bi.x||Bi.y?null:(Bi.x=Bi.y=!0,()=>{Bi.x=Bi.y=!1})}function lD(n,t){const e=aD(n),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[e,s,()=>i.abort()]}function ST(n){return!(n.pointerType==="touch"||oD())}function Q3(n,t,e={}){const[i,s,a]=lD(n,e),r=o=>{if(!ST(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const h=d=>{ST(d)&&(c(d),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,s)};return i.forEach(o=>{o.addEventListener("pointerenter",r,s)}),a}const uD=(n,t)=>t?n===t?!0:uD(n,t.parentElement):!1,Xw=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Z3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function J3(n){return Z3.has(n.tagName)||n.tabIndex!==-1}const dm=new WeakSet;function wT(n){return t=>{t.key==="Enter"&&n(t)}}function T0(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const tF=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=wT(()=>{if(dm.has(e))return;T0(e,"down");const s=wT(()=>{T0(e,"up")}),a=()=>T0(e,"cancel");e.addEventListener("keyup",s,t),e.addEventListener("blur",a,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function ET(n){return Xw(n)&&!oD()}function eF(n,t,e={}){const[i,s,a]=lD(n,e),r=o=>{const l=o.currentTarget;if(!ET(o))return;dm.add(l);const c=t(l,o),h=(p,y)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),dm.has(l)&&dm.delete(l),ET(p)&&typeof c=="function"&&c(p,{success:y})},d=p=>{h(p,l===window||l===document||e.useGlobalTarget||uD(l,p.target))},f=p=>{h(p,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",f,s)};return i.forEach(o=>{(e.useGlobalTarget?window:o).addEventListener("pointerdown",r,s),ZM(o)&&(o.addEventListener("focus",c=>tF(c,s)),!J3(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function Yw(n){return mM(n)&&"ownerSVGElement"in n}function cD(n){return Yw(n)&&n.tagName==="svg"}function nF(...n){const t=!Array.isArray(n[0]),e=t?0:-1,i=n[0+e],s=n[1+e],a=n[2+e],r=n[3+e],o=jM(s,a,r);return t?o(i):o}const Fe=n=>!!(n&&n.getVelocity),iF=[...nD,me,io],sF=n=>iF.find(eD(n)),$w=R.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function aF(n=!0){const t=R.useContext(xw);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:s}=t,a=R.useId();R.useEffect(()=>{if(n)return s(a)},[n]);const r=R.useCallback(()=>n&&i&&i(a),[a,i,n]);return!e&&i?[!1,r]:[!0]}const hD=R.createContext({strict:!1}),TT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mh={};for(const n in TT)mh[n]={isEnabled:t=>TT[n].some(e=>!!t[e])};function rF(n){for(const t in n)mh[t]={...mh[t],...n[t]}}const oF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ty(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||oF.has(n)}let dD=n=>!Ty(n);function lF(n){typeof n=="function"&&(dD=t=>t.startsWith("on")?!Ty(t):n(t))}try{lF(require("@emotion/is-prop-valid").default)}catch{}function uF(n,t,e){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(dD(s)||e===!0&&Ty(s)||!t&&!Ty(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function cF(n){if(typeof Proxy>"u")return n;const t=new Map,e=(...i)=>n(...i);return new Proxy(e,{get:(i,s)=>s==="create"?n:(t.has(s)||t.set(s,n(s)),t.get(s))})}const Av=R.createContext({});function Sv(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function sf(n){return typeof n=="string"||Array.isArray(n)}const Kw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ww=["initial",...Kw];function wv(n){return Sv(n.animate)||Ww.some(t=>sf(n[t]))}function fD(n){return!!(wv(n)||n.variants)}function hF(n,t){if(wv(n)){const{initial:e,animate:i}=n;return{initial:e===!1||sf(e)?e:void 0,animate:sf(i)?i:void 0}}return n.inherit!==!1?t:{}}function dF(n){const{initial:t,animate:e}=hF(n,R.useContext(Av));return R.useMemo(()=>({initial:t,animate:e}),[xT(t),xT(e)])}function xT(n){return Array.isArray(n)?n.join(" "):n}const fF=Symbol.for("motionComponentSymbol");function Pu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function pF(n,t,e){return R.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):Pu(e)&&(e.current=i))},[t])}const Qw=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gF="framerAppearId",pD="data-"+Qw(gF),gD=R.createContext({});function mF(n,t,e,i,s){var m,S;const{visualElement:a}=R.useContext(Av),r=R.useContext(hD),o=R.useContext(xw),l=R.useContext($w).reducedMotion,c=R.useRef(null);i=i||r.renderer,!c.current&&i&&(c.current=i(n,{visualState:t,parent:a,props:e,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const h=c.current,d=R.useContext(gD);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&yF(c.current,e,s,d);const f=R.useRef(!1);R.useInsertionEffect(()=>{h&&f.current&&h.update(e,o)});const p=e[pD],y=R.useRef(!!p&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,p))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,p)));return pM(()=>{h&&(f.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),qw.render(h.render),y.current&&h.animationState&&h.animationState.animateChanges())}),R.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,p)}),y.current=!1))}),h}function yF(n,t,e,i){const{layoutId:s,layout:a,drag:r,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:h}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:mD(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!r||o&&Pu(o),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:h,layoutScroll:l,layoutRoot:c})}function mD(n){if(n)return n.options.allowProjection!==!1?n.projection:mD(n.parent)}function vF({preloadedFeatures:n,createVisualElement:t,useRender:e,useVisualState:i,Component:s}){n&&rF(n);function a(o,l){let c;const h={...R.useContext($w),...o,layoutId:bF(o)},{isStatic:d}=h,f=dF(o),p=i(o,d);if(!d&&Tw){AF();const y=SF(h);c=y.MeasureLayout,f.visualElement=mF(s,p,h,t,y.ProjectionNode)}return F.jsxs(Av.Provider,{value:f,children:[c&&f.visualElement?F.jsx(c,{visualElement:f.visualElement,...h}):null,e(s,o,pF(p,f.visualElement,l),p,d,f.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const r=R.forwardRef(a);return r[fF]=s,r}function bF({layoutId:n}){const t=R.useContext(fM).id;return t&&n!==void 0?t+"-"+n:n}function AF(n,t){R.useContext(hD).strict}function SF(n){const{drag:t,layout:e}=mh;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const af={};function wF(n){for(const t in n)af[t]=n[t],Ow(t)&&(af[t].isCSSVariable=!0)}function yD(n,{layout:t,layoutId:e}){return Mh.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!af[n]||n==="opacity")}const EF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TF=Rh.length;function xF(n,t,e){let i="",s=!0;for(let a=0;a<TF;a++){const r=Rh[a],o=n[r];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(r.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||e){const c=rD(o,Gw[r]);if(!l){s=!1;const h=EF[r]||r;i+=`${h}(${c}) `}e&&(t[r]=c)}}return i=i.trim(),e?i=e(t,s?"":i):s&&(i="none"),i}function Zw(n,t,e){const{style:i,vars:s,transformOrigin:a}=n;let r=!1,o=!1;for(const l in t){const c=t[l];if(Mh.has(l)){r=!0;continue}else if(Ow(l)){s[l]=c;continue}else{const h=rD(c,Gw[l]);l.startsWith("origin")?(o=!0,a[l]=h):i[l]=h}}if(t.transform||(r||e?i.transform=xF(t,n.transform,e):i.transform&&(i.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:h=0}=a;i.transformOrigin=`${l} ${c} ${h}`}}const Jw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vD(n,t,e){for(const i in t)!Fe(t[i])&&!yD(i,e)&&(n[i]=t[i])}function _F({transformTemplate:n},t){return R.useMemo(()=>{const e=Jw();return Zw(e,t,n),Object.assign({},e.vars,e.style)},[t])}function CF(n,t){const e=n.style||{},i={};return vD(i,e,n),Object.assign(i,_F(n,t)),i}function RF(n,t){const e={},i=CF(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const MF={offset:"stroke-dashoffset",array:"stroke-dasharray"},DF={offset:"strokeDashoffset",array:"strokeDasharray"};function LF(n,t,e=1,i=0,s=!0){n.pathLength=1;const a=s?MF:DF;n[a.offset]=K.transform(-i);const r=K.transform(t),o=K.transform(e);n[a.array]=`${r} ${o}`}function bD(n,{attrX:t,attrY:e,attrScale:i,pathLength:s,pathSpacing:a=1,pathOffset:r=0,...o},l,c,h){if(Zw(n,o,c),l){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:d,style:f}=n;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),e!==void 0&&(d.y=e),i!==void 0&&(d.scale=i),s!==void 0&&LF(d,s,a,r,!1)}const AD=()=>({...Jw(),attrs:{}}),SD=n=>typeof n=="string"&&n.toLowerCase()==="svg";function OF(n,t,e,i){const s=R.useMemo(()=>{const a=AD();return bD(a,t,SD(i),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[t]);if(n.style){const a={};vD(a,n.style,n),s.style={...a,...s.style}}return s}const PF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tE(n){return typeof n!="string"||n.includes("-")?!1:!!(PF.indexOf(n)>-1||/[A-Z]/u.test(n))}function NF(n=!1){return(e,i,s,{latestValues:a},r)=>{const l=(tE(e)?OF:RF)(i,a,r,e),c=uF(i,typeof e=="string",n),h=e!==R.Fragment?{...c,...l,ref:s}:{},{children:d}=i,f=R.useMemo(()=>Fe(d)?d.get():d,[d]);return R.createElement(e,{...h,children:f})}}function _T(n){const t=[{},{}];return n==null||n.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function eE(n,t,e,i){if(typeof t=="function"){const[s,a]=_T(i);t=t(e!==void 0?e:n.custom,s,a)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[s,a]=_T(i);t=t(e!==void 0?e:n.custom,s,a)}return t}function fm(n){return Fe(n)?n.get():n}function kF({scrapeMotionValuesFromProps:n,createRenderState:t},e,i,s){return{latestValues:BF(e,i,s,n),renderState:t()}}const wD=n=>(t,e)=>{const i=R.useContext(Av),s=R.useContext(xw),a=()=>kF(n,t,i,s);return e?a():Ew(a)};function BF(n,t,e,i){const s={},a=i(n,{});for(const f in a)s[f]=fm(a[f]);let{initial:r,animate:o}=n;const l=wv(n),c=fD(n);t&&c&&!l&&n.inherit!==!1&&(r===void 0&&(r=t.initial),o===void 0&&(o=t.animate));let h=e?e.initial===!1:!1;h=h||r===!1;const d=h?o:r;if(d&&typeof d!="boolean"&&!Sv(d)){const f=Array.isArray(d)?d:[d];for(let p=0;p<f.length;p++){const y=eE(n,f[p]);if(y){const{transitionEnd:m,transition:S,...g}=y;for(const v in g){let A=g[v];if(Array.isArray(A)){const T=h?A.length-1:0;A=A[T]}A!==null&&(s[v]=A)}for(const v in m)s[v]=m[v]}}}return s}function nE(n,t,e){var a;const{style:i}=n,s={};for(const r in i)(Fe(i[r])||t.style&&Fe(t.style[r])||yD(r,n)||((a=e==null?void 0:e.getValue(r))==null?void 0:a.liveStyle)!==void 0)&&(s[r]=i[r]);return s}const IF={useVisualState:wD({scrapeMotionValuesFromProps:nE,createRenderState:Jw})};function ED(n,t,e){const i=nE(n,t,e);for(const s in n)if(Fe(n[s])||Fe(t[s])){const a=Rh.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=n[s]}return i}const FF={useVisualState:wD({scrapeMotionValuesFromProps:ED,createRenderState:AD})};function VF(n,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const r={...tE(i)?FF:IF,preloadedFeatures:n,useRender:NF(s),createVisualElement:t,Component:i};return vF(r)}}function rf(n,t,e){const i=n.getProps();return eE(i,t,e!==void 0?e:i.custom,n)}const Kb=n=>Array.isArray(n);function zF(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Xl(e))}function HF(n){return Kb(n)?n[n.length-1]||0:n}function UF(n,t){const e=rf(n,t);let{transitionEnd:i={},transition:s={},...a}=e||{};a={...a,...i};for(const r in a){const o=HF(a[r]);zF(n,r,o)}}function jF(n){return!!(Fe(n)&&n.add)}function Wb(n,t){const e=n.getValue("willChange");if(jF(e))return e.add(t);if(!e&&za.WillChange){const i=new za.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function TD(n){return n.props[pD]}const GF=n=>n!==null;function qF(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter(GF),a=t&&e!=="loop"&&t%2===1?0:s.length-1;return s[a]}const XF={type:"spring",stiffness:500,damping:25,restSpeed:10},YF=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),$F={type:"keyframes",duration:.8},KF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WF=(n,{keyframes:t})=>t.length>2?$F:Mh.has(n)?n.startsWith("scale")?YF(t[1]):XF:KF;function QF({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:r,repeatDelay:o,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const iE=(n,t,e,i={},s,a)=>r=>{const o=jw(i,n)||{},l=o.delay||i.delay||0;let{elapsed:c=0}=i;c=c-ts(l);const h={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:f=>{t.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{r(),o.onComplete&&o.onComplete()},name:n,motionValue:t,element:a?void 0:s};QF(o)||Object.assign(h,WF(n,h)),h.duration&&(h.duration=ts(h.duration)),h.repeatDelay&&(h.repeatDelay=ts(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),(za.instantAnimations||za.skipAnimations)&&(d=!0,h.duration=0,h.delay=0),h.allowFlatten=!o.type&&!o.ease,d&&!a&&t.get()!==void 0){const f=qF(h.keyframes,o);if(f!==void 0){Ft.update(()=>{h.onUpdate(f),h.onComplete()});return}}return o.isSync?new zw(h):new P3(h)};function ZF({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function sE(n,t,{delay:e=0,transitionOverride:i,type:s}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:r,...o}=t;i&&(a=i);const l=[],c=s&&n.animationState&&n.animationState.getState()[s];for(const h in o){const d=n.getValue(h,n.latestValues[h]??null),f=o[h];if(f===void 0||c&&ZF(c,h))continue;const p={delay:e,...jw(a||{},h)},y=d.get();if(y!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===y&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const g=TD(n);if(g){const v=window.MotionHandoffAnimation(g,h,Ft);v!==null&&(p.startTime=v,m=!0)}}Wb(n,h),d.start(iE(h,d,f,n.shouldReduceMotion&&tD.has(h)?{type:!1}:p,n,m));const S=d.animation;S&&l.push(S)}return r&&Promise.all(l).then(()=>{Ft.update(()=>{r&&UF(n,r)})}),l}function Qb(n,t,e={}){var l;const i=rf(n,t,e.type==="exit"?(l=n.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(s=e.transitionOverride);const a=i?()=>Promise.all(sE(n,i,e)):()=>Promise.resolve(),r=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=s;return JF(n,t,c,h,d,f,e)}:()=>Promise.resolve(),{when:o}=s;if(o){const[c,h]=o==="beforeChildren"?[a,r]:[r,a];return c().then(()=>h())}else return Promise.all([a(),r(e.delay)])}function JF(n,t,e=0,i=0,s=0,a=1,r){const o=[],l=n.variantChildren.size,c=(l-1)*s,h=typeof i=="function",d=h?f=>i(f,l):a===1?(f=0)=>f*s:(f=0)=>c-f*s;return Array.from(n.variantChildren).sort(tV).forEach((f,p)=>{f.notify("AnimationStart",t),o.push(Qb(f,t,{...r,delay:e+(h?0:i)+d(p)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(o)}function tV(n,t){return n.sortNodePosition(t)}function eV(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(a=>Qb(n,a,e));i=Promise.all(s)}else if(typeof t=="string")i=Qb(n,t,e);else{const s=typeof t=="function"?rf(n,t,e.custom):t;i=Promise.all(sE(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function xD(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const nV=Ww.length;function _D(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?_D(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<nV;e++){const i=Ww[e],s=n.props[i];(sf(s)||s===!1)&&(t[i]=s)}return t}const iV=[...Kw].reverse(),sV=Kw.length;function aV(n){return t=>Promise.all(t.map(({animation:e,options:i})=>eV(n,e,i)))}function rV(n){let t=aV(n),e=CT(),i=!0;const s=l=>(c,h)=>{var f;const d=rf(n,h,l==="exit"?(f=n.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:p,transitionEnd:y,...m}=d;c={...c,...m,...y}}return c};function a(l){t=l(n)}function r(l){const{props:c}=n,h=_D(n.parent)||{},d=[],f=new Set;let p={},y=1/0;for(let S=0;S<sV;S++){const g=iV[S],v=e[g],A=c[g]!==void 0?c[g]:h[g],T=sf(A),x=g===l?v.isActive:null;x===!1&&(y=S);let _=A===h[g]&&A!==c[g]&&T;if(_&&i&&n.manuallyAnimateOnMount&&(_=!1),v.protectedKeys={...p},!v.isActive&&x===null||!A&&!v.prevProp||Sv(A)||typeof A=="boolean")continue;const C=oV(v.prevProp,A);let M=C||g===l&&v.isActive&&!_&&T||S>y&&T,D=!1;const O=Array.isArray(A)?A:[A];let N=O.reduce(s(g),{});x===!1&&(N={});const{prevResolvedValues:q={}}=v,$={...q,...N},X=P=>{M=!0,f.has(P)&&(D=!0,f.delete(P)),v.needsAnimating[P]=!0;const I=n.getValue(P);I&&(I.liveStyle=!1)};for(const P in $){const I=N[P],Q=q[P];if(p.hasOwnProperty(P))continue;let nt=!1;Kb(I)&&Kb(Q)?nt=!xD(I,Q):nt=I!==Q,nt?I!=null?X(P):f.add(P):I!==void 0&&f.has(P)?X(P):v.protectedKeys[P]=!0}v.prevProp=A,v.prevResolvedValues=N,v.isActive&&(p={...p,...N}),i&&n.blockInitialAnimation&&(M=!1),M&&(!(_&&C)||D)&&d.push(...O.map(P=>({animation:P,options:{type:g}})))}if(f.size){const S={};if(typeof c.initial!="boolean"){const g=rf(n,Array.isArray(c.initial)?c.initial[0]:c.initial);g&&g.transition&&(S.transition=g.transition)}f.forEach(g=>{const v=n.getBaseTarget(g),A=n.getValue(g);A&&(A.liveStyle=!0),S[g]=v??null}),d.push({animation:S})}let m=!!d.length;return i&&(c.initial===!1||c.initial===c.animate)&&!n.manuallyAnimateOnMount&&(m=!1),i=!1,m?t(d):Promise.resolve()}function o(l,c){var d;if(e[l].isActive===c)return Promise.resolve();(d=n.variantChildren)==null||d.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(l,c)}),e[l].isActive=c;const h=r(l);for(const f in e)e[f].protectedKeys={};return h}return{animateChanges:r,setActive:o,setAnimateFunction:a,getState:()=>e,reset:()=>{e=CT(),i=!0}}}function oV(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!xD(t,n):!1}function po(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function CT(){return{animate:po(!0),whileInView:po(),whileHover:po(),whileTap:po(),whileDrag:po(),whileFocus:po(),exit:po()}}class ho{constructor(t){this.isMounted=!1,this.node=t}update(){}}class lV extends ho{constructor(t){super(t),t.animationState||(t.animationState=rV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Sv(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let uV=0;class cV extends ho{constructor(){super(...arguments),this.id=uV++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const hV={animation:{Feature:lV},exit:{Feature:cV}};function of(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}function hg(n){return{point:{x:n.pageX,y:n.pageY}}}const dV=n=>t=>Xw(t)&&n(t,hg(t));function kd(n,t,e,i){return of(n,t,dV(e),i)}function CD({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function fV({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function pV(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}const RD=1e-4,gV=1-RD,mV=1+RD,MD=.01,yV=0-MD,vV=0+MD;function wn(n){return n.max-n.min}function bV(n,t,e){return Math.abs(n-t)<=e}function RT(n,t,e,i=.5){n.origin=i,n.originPoint=Xt(t.min,t.max,n.origin),n.scale=wn(e)/wn(t),n.translate=Xt(e.min,e.max,n.origin)-n.originPoint,(n.scale>=gV&&n.scale<=mV||isNaN(n.scale))&&(n.scale=1),(n.translate>=yV&&n.translate<=vV||isNaN(n.translate))&&(n.translate=0)}function Bd(n,t,e,i){RT(n.x,t.x,e.x,i?i.originX:void 0),RT(n.y,t.y,e.y,i?i.originY:void 0)}function MT(n,t,e){n.min=e.min+t.min,n.max=n.min+wn(t)}function AV(n,t,e){MT(n.x,t.x,e.x),MT(n.y,t.y,e.y)}function DT(n,t,e){n.min=t.min-e.min,n.max=n.min+wn(t)}function Id(n,t,e){DT(n.x,t.x,e.x),DT(n.y,t.y,e.y)}const LT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nu=()=>({x:LT(),y:LT()}),OT=()=>({min:0,max:0}),ee=()=>({x:OT(),y:OT()});function fi(n){return[n("x"),n("y")]}function x0(n){return n===void 0||n===1}function Zb({scale:n,scaleX:t,scaleY:e}){return!x0(n)||!x0(t)||!x0(e)}function bo(n){return Zb(n)||DD(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function DD(n){return PT(n.x)||PT(n.y)}function PT(n){return n&&n!=="0%"}function xy(n,t,e){const i=n-e,s=t*i;return e+s}function NT(n,t,e,i,s){return s!==void 0&&(n=xy(n,s,i)),xy(n,e,i)+t}function Jb(n,t=0,e=1,i,s){n.min=NT(n.min,t,e,i,s),n.max=NT(n.max,t,e,i,s)}function LD(n,{x:t,y:e}){Jb(n.x,t.translate,t.scale,t.originPoint),Jb(n.y,e.translate,e.scale,e.originPoint)}const kT=.999999999999,BT=1.0000000000001;function SV(n,t,e,i=!1){const s=e.length;if(!s)return;t.x=t.y=1;let a,r;for(let o=0;o<s;o++){a=e[o],r=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Bu(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,LD(n,r)),i&&bo(a.latestValues)&&Bu(n,a.latestValues))}t.x<BT&&t.x>kT&&(t.x=1),t.y<BT&&t.y>kT&&(t.y=1)}function ku(n,t){n.min=n.min+t,n.max=n.max+t}function IT(n,t,e,i,s=.5){const a=Xt(n.min,n.max,s);Jb(n,t,e,a,i)}function Bu(n,t){IT(n.x,t.x,t.scaleX,t.scale,t.originX),IT(n.y,t.y,t.scaleY,t.scale,t.originY)}function OD(n,t){return CD(pV(n.getBoundingClientRect(),t))}function wV(n,t,e){const i=OD(n,e),{scroll:s}=t;return s&&(ku(i.x,s.offset.x),ku(i.y,s.offset.y)),i}const PD=({current:n})=>n?n.ownerDocument.defaultView:null,FT=(n,t)=>Math.abs(n-t);function EV(n,t){const e=FT(n.x,t.x),i=FT(n.y,t.y);return Math.sqrt(e**2+i**2)}class ND{constructor(t,e,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:r=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=C0(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=EV(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!y)return;const{point:m}=f,{timestamp:S}=Xe;this.history.push({...m,timestamp:S});const{onStart:g,onMove:v}=this.handlers;p||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=_0(p,this.transformPagePoint),Ft.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:y,onSessionEnd:m,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=C0(f.type==="pointercancel"?this.lastMoveEventInfo:_0(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,g),m&&m(f,g)},!Xw(t))return;this.dragSnapToOrigin=a,this.handlers=e,this.transformPagePoint=i,this.distanceThreshold=r,this.contextWindow=s||window;const o=hg(t),l=_0(o,this.transformPagePoint),{point:c}=l,{timestamp:h}=Xe;this.history=[{...c,timestamp:h}];const{onSessionStart:d}=e;d&&d(t,C0(l,this.history)),this.removeListeners=lg(kd(this.contextWindow,"pointermove",this.handlePointerMove),kd(this.contextWindow,"pointerup",this.handlePointerUp),kd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ha(this.updatePoint)}}function _0(n,t){return t?{point:t(n.point)}:n}function VT(n,t){return{x:n.x-t.x,y:n.y-t.y}}function C0({point:n},t){return{point:n,delta:VT(n,kD(t)),offset:VT(n,TV(t)),velocity:xV(t,.1)}}function TV(n){return n[0]}function kD(n){return n[n.length-1]}function xV(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const s=kD(n);for(;e>=0&&(i=n[e],!(s.timestamp-i.timestamp>ts(t)));)e--;if(!i)return{x:0,y:0};const a=Os(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const r={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function _V(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?Xt(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?Xt(e,n,i.max):Math.min(n,e)),n}function zT(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function CV(n,{top:t,left:e,bottom:i,right:s}){return{x:zT(n.x,e,s),y:zT(n.y,t,i)}}function HT(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function RV(n,t){return{x:HT(n.x,t.x),y:HT(n.y,t.y)}}function MV(n,t){let e=.5;const i=wn(n),s=wn(t);return s>i?e=gh(t.min,t.max-i,n.min):i>s&&(e=gh(n.min,n.max-s,t.min)),Va(0,1,e)}function DV(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const tA=.35;function LV(n=tA){return n===!1?n=0:n===!0&&(n=tA),{x:UT(n,"left","right"),y:UT(n,"top","bottom")}}function UT(n,t,e){return{min:jT(n,t),max:jT(n,e)}}function jT(n,t){return typeof n=="number"?n:n[t]||0}const OV=new WeakMap;class PV{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ee(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(hg(d).point)},r=(d,f)=>{const{drag:p,dragPropagation:y,onDragStart:m}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=W3(p),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fi(g=>{let v=this.getAxisMotionValue(g).get()||0;if(Ps.test(v)){const{projection:A}=this.visualElement;if(A&&A.layout){const T=A.layout.layoutBox[g];T&&(v=wn(T)*(parseFloat(v)/100))}}this.originPoint[g]=v}),m&&Ft.postRender(()=>m(d,f)),Wb(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:m,onDrag:S}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:g}=f;if(y&&this.currentDirection===null){this.currentDirection=NV(g),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),S&&S(d,f)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>fi(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new ND(t,{onSessionStart:a,onStart:r,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:i,contextWindow:PD(this.visualElement)})}stop(t,e){const i=t||this.latestPointerEvent,s=e||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!i)return;const{velocity:r}=s;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&Ft.postRender(()=>o(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:s}=this.getProps();if(!i||!Ug(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let r=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(r=_V(r,this.constraints[t],this.elastic[t])),a.set(r)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;t&&Pu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=CV(i.layoutBox,t):this.constraints=!1,this.elastic=LV(e),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&fi(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=DV(i.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Pu(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=wV(i,s.root,this.visualElement.getTransformPagePoint());let r=RV(s.layout.layoutBox,a);if(e){const o=e(fV(r));this.hasMutatedConstraints=!!o,o&&(r=CD(o))}return r}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:r,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=fi(h=>{if(!Ug(h,e,this.currentDirection))return;let d=l&&l[h]||{};r&&(d={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,y={type:"inertia",velocity:i?t[h]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...d};return this.startAxisValueAnimation(h,y)});return Promise.all(c).then(o)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return Wb(this.visualElement,t),i.start(iE(t,i,0,e,this.visualElement,!1))}stopAnimation(){fi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){fi(t=>{var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[e];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){fi(e=>{const{drag:i}=this.getProps();if(!Ug(e,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(e);if(s&&s.layout){const{min:r,max:o}=s.layout.layoutBox[e];a.set(t[e]-Xt(r,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Pu(e)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};fi(r=>{const o=this.getAxisMotionValue(r);if(o&&this.constraints!==!1){const l=o.get();s[r]=MV({min:l,max:l},this.constraints[r])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),fi(r=>{if(!Ug(r,t,null))return;const o=this.getAxisMotionValue(r),{min:l,max:c}=this.constraints[r];o.set(Xt(l,c,s[r]))})}addListeners(){if(!this.visualElement.current)return;OV.set(this.visualElement,this);const t=this.visualElement.current,e=kd(t,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Pu(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ft.read(i);const r=of(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(fi(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{r(),e(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:r=tA,dragMomentum:o=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:r,dragMomentum:o}}}function Ug(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function NV(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class kV extends ho{constructor(t){super(t),this.removeGroupControls=Li,this.removeListeners=Li,this.controls=new PV(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Li}unmount(){this.removeGroupControls(),this.removeListeners()}}const GT=n=>(t,e)=>{n&&Ft.postRender(()=>n(t,e))};class BV extends ho{constructor(){super(...arguments),this.removePointerDownListener=Li}onPointerDown(t){this.session=new ND(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:PD(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:GT(t),onStart:GT(e),onMove:i,onEnd:(a,r)=>{delete this.session,s&&Ft.postRender(()=>s(a,r))}}}mount(){this.removePointerDownListener=kd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const pm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qT(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Hh={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(K.test(n))n=parseFloat(n);else return n;const e=qT(n,t.target.x),i=qT(n,t.target.y);return`${e}% ${i}%`}},IV={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,s=io.parse(n);if(s.length>5)return i;const a=io.createTransformer(n),r=typeof s[0]!="number"?1:0,o=e.x.scale*t.x,l=e.y.scale*t.y;s[0+r]/=o,s[1+r]/=l;const c=Xt(o,l,.5);return typeof s[2+r]=="number"&&(s[2+r]/=c),typeof s[3+r]=="number"&&(s[3+r]/=c),a(s)}};let XT=!1;class FV extends R.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=t;wF(VV),a&&(e.group&&e.group.add(a),i&&i.register&&s&&i.register(a),XT&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),pm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:s,isPresent:a}=this.props,{projection:r}=i;return r&&(r.isPresent=a,XT=!0,s||t.layoutDependency!==e||e===void 0||t.isPresent!==a?r.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?r.promote():r.relegate()||Ft.postRender(()=>{const o=r.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),qw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function BD(n){const[t,e]=aF(),i=R.useContext(fM);return F.jsx(FV,{...n,layoutGroup:i,switchLayoutGroup:R.useContext(gD),isPresent:t,safeToRemove:e})}const VV={borderRadius:{...Hh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hh,borderTopRightRadius:Hh,borderBottomLeftRadius:Hh,borderBottomRightRadius:Hh,boxShadow:IV};function ID(n,t,e){const i=Fe(n)?n:Xl(n);return i.start(iE("",i,t,e)),i.animation}const zV=(n,t)=>n.depth-t.depth;class HV{constructor(){this.children=[],this.isDirty=!1}add(t){_w(this.children,t),this.isDirty=!0}remove(t){bv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(zV),this.isDirty=!1,this.children.forEach(t)}}function UV(n,t){const e=kn.now(),i=({timestamp:s})=>{const a=s-e;a>=t&&(Ha(i),n(a-t))};return Ft.setup(i,!0),()=>Ha(i)}const FD=["TopLeft","TopRight","BottomLeft","BottomRight"],jV=FD.length,YT=n=>typeof n=="string"?parseFloat(n):n,$T=n=>typeof n=="number"||K.test(n);function GV(n,t,e,i,s,a){s?(n.opacity=Xt(0,e.opacity??1,qV(i)),n.opacityExit=Xt(t.opacity??1,0,XV(i))):a&&(n.opacity=Xt(t.opacity??1,e.opacity??1,i));for(let r=0;r<jV;r++){const o=`border${FD[r]}Radius`;let l=KT(t,o),c=KT(e,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||$T(l)===$T(c)?(n[o]=Math.max(Xt(YT(l),YT(c),i),0),(Ps.test(c)||Ps.test(l))&&(n[o]+="%")):n[o]=c}(t.rotate||e.rotate)&&(n.rotate=Xt(t.rotate||0,e.rotate||0,i))}function KT(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const qV=VD(0,.5,xM),XV=VD(.5,.95,Li);function VD(n,t,e){return i=>i<n?0:i>t?1:e(gh(n,t,i))}function WT(n,t){n.min=t.min,n.max=t.max}function hi(n,t){WT(n.x,t.x),WT(n.y,t.y)}function QT(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function ZT(n,t,e,i,s){return n-=t,n=xy(n,1/e,i),s!==void 0&&(n=xy(n,1/s,i)),n}function YV(n,t=0,e=1,i=.5,s,a=n,r=n){if(Ps.test(t)&&(t=parseFloat(t),t=Xt(r.min,r.max,t/100)-r.min),typeof t!="number")return;let o=Xt(a.min,a.max,i);n===a&&(o-=t),n.min=ZT(n.min,t,e,o,s),n.max=ZT(n.max,t,e,o,s)}function JT(n,t,[e,i,s],a,r){YV(n,t[e],t[i],t[s],t.scale,a,r)}const $V=["x","scaleX","originX"],KV=["y","scaleY","originY"];function tx(n,t,e,i){JT(n.x,t,$V,e?e.x:void 0,i?i.x:void 0),JT(n.y,t,KV,e?e.y:void 0,i?i.y:void 0)}function ex(n){return n.translate===0&&n.scale===1}function zD(n){return ex(n.x)&&ex(n.y)}function nx(n,t){return n.min===t.min&&n.max===t.max}function WV(n,t){return nx(n.x,t.x)&&nx(n.y,t.y)}function ix(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function HD(n,t){return ix(n.x,t.x)&&ix(n.y,t.y)}function sx(n){return wn(n.x)/wn(n.y)}function ax(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class QV{constructor(){this.members=[]}add(t){_w(this.members,t),t.scheduleRender()}remove(t){if(bv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let i;for(let s=e;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ZV(n,t,e){let i="";const s=n.x.translate/t.x,a=n.y.translate/t.y,r=(e==null?void 0:e.z)||0;if((s||a||r)&&(i=`translate3d(${s}px, ${a}px, ${r}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:f,skewX:p,skewY:y}=e;c&&(i=`perspective(${c}px) ${i}`),h&&(i+=`rotate(${h}deg) `),d&&(i+=`rotateX(${d}deg) `),f&&(i+=`rotateY(${f}deg) `),p&&(i+=`skewX(${p}deg) `),y&&(i+=`skewY(${y}deg) `)}const o=n.x.scale*t.x,l=n.y.scale*t.y;return(o!==1||l!==1)&&(i+=`scale(${o}, ${l})`),i||"none"}const R0=["","X","Y","Z"],JV=1e3;let tz=0;function M0(n,t,e,i){const{latestValues:s}=t;s[n]&&(e[n]=s[n],t.setStaticValue(n,0),i&&(i[n]=0))}function UD(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=TD(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",Ft,!(s||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&UD(i)}function jD({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(r={},o=t==null?void 0:t()){this.id=tz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(iz),this.nodes.forEach(oz),this.nodes.forEach(lz),this.nodes.forEach(sz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new HV)}addEventListener(r,o){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new Mw),this.eventHandlers.get(r).add(o)}notifyListeners(r,...o){const l=this.eventHandlers.get(r);l&&l.notify(...o)}hasListeners(r){return this.eventHandlers.has(r)}mount(r){if(this.instance)return;this.isSVG=Yw(r)&&!cD(r),this.instance=r;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),n){let h,d=0;const f=()=>this.root.updateBlockedByResize=!1;Ft.read(()=>{d=window.innerWidth}),n(r,()=>{const p=window.innerWidth;p!==d&&(d=p,this.root.updateBlockedByResize=!0,h&&h(),h=UV(f,250),pm.hasAnimatedSinceResize&&(pm.hasAnimatedSinceResize=!1,this.nodes.forEach(lx)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||fz,{onLayoutAnimationStart:m,onLayoutAnimationComplete:S}=c.getProps(),g=!this.targetLayout||!HD(this.targetLayout,p),v=!d&&f;if(this.options.layoutRoot||this.resumeFrom||v||d&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...jw(y,"layout"),onPlay:m,onComplete:S};(c.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(h,v)}else d||lx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ha(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uz),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&UD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ox);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(rz),this.nodes.forEach(ez),this.nodes.forEach(nz)):this.nodes.forEach(ox),this.clearAllSnapshots();const o=kn.now();Xe.delta=Va(0,1e3/60,o-Xe.timestamp),Xe.timestamp=o,Xe.isProcessing=!0,b0.update.process(Xe),b0.preRender.process(Xe),b0.render.process(Xe),Xe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(az),this.sharedNodes.forEach(cz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!wn(this.snapshot.measuredBox.x)&&!wn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ee(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(o=!1),o&&this.instance){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:l,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!zD(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;r&&this.instance&&(o||bo(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return r&&(l=this.removeTransform(l)),pz(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:r}=this.options;if(!r)return ee();const o=r.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(gz))){const{scroll:h}=this.root;h&&(ku(o.x,h.offset.x),ku(o.y,h.offset.y))}return o}removeElementScroll(r){var l;const o=ee();if(hi(o,r),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:f}=h;h!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&hi(o,r),ku(o.x,d.offset.x),ku(o.y,d.offset.y))}return o}applyTransform(r,o=!1){const l=ee();hi(l,r);for(let c=0;c<this.path.length;c++){const h=this.path[c];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Bu(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),bo(h.latestValues)&&Bu(l,h.latestValues)}return bo(this.latestValues)&&Bu(l,this.latestValues),l}removeTransform(r){const o=ee();hi(o,r);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!bo(c.latestValues))continue;Zb(c.latestValues)&&c.updateSnapshot();const h=ee(),d=c.measurePageBox();hi(h,d),tx(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return bo(this.latestValues)&&tx(o,this.latestValues),o}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var f;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(r||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=Xe.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ee(),this.relativeTargetOrigin=ee(),Id(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),hi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ee(),this.targetWithTransforms=ee()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hi(this.target,this.layout.layoutBox),LD(this.target,this.targetDelta)):hi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ee(),this.relativeTargetOrigin=ee(),Id(this.relativeTargetOrigin,this.target,p.target),hi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Zb(this.parent.latestValues)||DD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const r=this.getLead(),o=!!this.resumingFrom||this!==r;let l=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Xe.timestamp&&(l=!1),l)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;hi(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;SV(this.layoutCorrected,this.treeScale,this.path,o),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=ee());const{target:p}=r;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(QT(this.prevProjectionDelta.x,this.projectionDelta.x),QT(this.prevProjectionDelta.y,this.projectionDelta.y)),Bd(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!ax(this.projectionDelta.x,this.prevProjectionDelta.x)||!ax(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),r){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nu(),this.projectionDelta=Nu(),this.projectionDeltaWithTransform=Nu()}setAnimationOrigin(r,o=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=Nu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=ee(),p=l?l.source:void 0,y=this.layout?this.layout.source:void 0,m=p!==y,S=this.getStack(),g=!S||S.members.length<=1,v=!!(m&&!g&&this.options.crossfade===!0&&!this.path.some(dz));this.animationProgress=0;let A;this.mixTargetDelta=T=>{const x=T/1e3;ux(d.x,r.x,x),ux(d.y,r.y,x),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Id(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hz(this.relativeTarget,this.relativeTargetOrigin,f,x),A&&WV(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=ee()),hi(A,this.relativeTarget)),m&&(this.animationValues=h,GV(h,c,this.latestValues,x,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Ha(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ft.update(()=>{pm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xl(0)),this.currentAnimation=ID(this.motionValue,[0,1e3],{...r,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),r.onUpdate&&r.onUpdate(h)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:h}=r;if(!(!o||!l||!c)){if(this!==r&&this.layout&&c&&GD(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ee();const d=wn(this.layout.layoutBox.x);l.x.min=r.target.x.min,l.x.max=l.x.min+d;const f=wn(this.layout.layoutBox.y);l.y.min=r.target.y.min,l.y.max=l.y.min+f}hi(o,l),Bu(o,h),Bd(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(r,o){this.sharedNodes.has(r)||this.sharedNodes.set(r,new QV),this.sharedNodes.get(r).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var o;const{layoutId:r}=this.options;return r?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:r}=this.options;return r?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),r&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let o=!1;const{latestValues:l}=r;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&M0("z",r,c,this.animationValues);for(let h=0;h<R0.length;h++)M0(`rotate${R0[h]}`,r,c,this.animationValues),M0(`skew${R0[h]}`,r,c,this.animationValues);r.render();for(const h in c)r.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);r.scheduleRender()}applyProjectionStyles(r,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){r.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,r.visibility="",r.opacity="",r.pointerEvents=fm(o==null?void 0:o.pointerEvents)||"",r.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(r.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,r.pointerEvents=fm(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!bo(this.latestValues)&&(r.transform=l?l({},""):"none",this.hasProjected=!1);return}r.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=ZV(this.projectionDeltaWithTransform,this.treeScale,h);l&&(d=l(h,d)),r.transform=d;const{x:f,y:p}=this.projectionDelta;r.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,c.animationValues?r.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:r.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in af){if(h[y]===void 0)continue;const{correct:m,applyTo:S,isCSSVariable:g}=af[y],v=d==="none"?h[y]:m(h[y],c);if(S){const A=S.length;for(let T=0;T<A;T++)r[S[T]]=v}else g?this.options.visualElement.renderState.vars[y]=v:r[y]=v}this.options.layoutId&&(r.pointerEvents=c===this?fm(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var o;return(o=r.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(rx),this.root.sharedNodes.clear()}}}function ez(n){n.updateLayout()}function nz(n){var e;const t=((e=n.resumeFrom)==null?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:a}=n.options,r=t.source!==n.layout.source;a==="size"?fi(d=>{const f=r?t.measuredBox[d]:t.layoutBox[d],p=wn(f);f.min=i[d].min,f.max=f.min+p}):GD(a,t.layoutBox,i)&&fi(d=>{const f=r?t.measuredBox[d]:t.layoutBox[d],p=wn(i[d]);f.max=f.min+p,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+p)});const o=Nu();Bd(o,i,t.layoutBox);const l=Nu();r?Bd(l,n.applyTransform(s,!0),t.measuredBox):Bd(l,i,t.layoutBox);const c=!zD(o);let h=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const y=ee();Id(y,t.layoutBox,f.layoutBox);const m=ee();Id(m,i,p.layoutBox),HD(y,m)||(h=!0),d.options.layoutRoot&&(n.relativeTarget=m,n.relativeTargetOrigin=y,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function iz(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function sz(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function az(n){n.clearSnapshot()}function rx(n){n.clearMeasurements()}function ox(n){n.isLayoutDirty=!1}function rz(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function lx(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function oz(n){n.resolveTargetDelta()}function lz(n){n.calcProjection()}function uz(n){n.resetSkewAndRotation()}function cz(n){n.removeLeadSnapshot()}function ux(n,t,e){n.translate=Xt(t.translate,0,e),n.scale=Xt(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function cx(n,t,e,i){n.min=Xt(t.min,e.min,i),n.max=Xt(t.max,e.max,i)}function hz(n,t,e,i){cx(n.x,t.x,e.x,i),cx(n.y,t.y,e.y,i)}function dz(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const fz={duration:.45,ease:[.4,0,.1,1]},hx=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),dx=hx("applewebkit/")&&!hx("chrome/")?Math.round:Li;function fx(n){n.min=dx(n.min),n.max=dx(n.max)}function pz(n){fx(n.x),fx(n.y)}function GD(n,t,e){return n==="position"||n==="preserve-aspect"&&!bV(sx(t),sx(e),.2)}function gz(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const mz=jD({attachResizeListener:(n,t)=>of(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),D0={current:void 0},qD=jD({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!D0.current){const n=new mz({});n.mount(window),n.setOptions({layoutScroll:!0}),D0.current=n}return D0.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),yz={pan:{Feature:BV},drag:{Feature:kV,ProjectionNode:qD,MeasureLayout:BD}};function px(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,a=i[s];a&&Ft.postRender(()=>a(t,hg(t)))}class vz extends ho{mount(){const{current:t}=this.node;t&&(this.unmount=Q3(t,(e,i)=>(px(this.node,i,"Start"),s=>px(this.node,s,"End"))))}unmount(){}}class bz extends ho{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lg(of(this.node.current,"focus",()=>this.onFocus()),of(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gx(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),a=i[s];a&&Ft.postRender(()=>a(t,hg(t)))}class Az extends ho{mount(){const{current:t}=this.node;t&&(this.unmount=eF(t,(e,i)=>(gx(this.node,i,"Start"),(s,{success:a})=>gx(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const eA=new WeakMap,L0=new WeakMap,Sz=n=>{const t=eA.get(n.target);t&&t(n)},wz=n=>{n.forEach(Sz)};function Ez({root:n,...t}){const e=n||document;L0.has(e)||L0.set(e,{});const i=L0.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(wz,{root:n,...t})),i[s]}function Tz(n,t,e){const i=Ez(t);return eA.set(n,e),i.observe(n),()=>{eA.delete(n),i.unobserve(n)}}const xz={some:0,all:1};class _z extends ho{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:a}=t,r={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:xz[s]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=c?h:d;f&&f(l)};return Tz(this.node.current,r,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(Cz(t,e))&&this.startObserver()}unmount(){}}function Cz({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const Rz={inView:{Feature:_z},tap:{Feature:Az},focus:{Feature:bz},hover:{Feature:vz}},Mz={layout:{ProjectionNode:qD,MeasureLayout:BD}},nA={current:null},XD={current:!1};function Dz(){if(XD.current=!0,!!Tw)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>nA.current=n.matches;n.addEventListener("change",t),t()}else nA.current=!1}const lf=new WeakMap;function Lz(n,t,e){for(const i in t){const s=t[i],a=e[i];if(Fe(s))n.addValue(i,s);else if(Fe(a))n.addValue(i,Xl(s,{owner:n}));else if(a!==s)if(n.hasValue(i)){const r=n.getValue(i);r.liveStyle===!0?r.jump(s):r.hasAnimated||r.set(s)}else{const r=n.getStaticValue(i);n.addValue(i,Xl(r!==void 0?r:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const mx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class YD{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:r},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Hw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=kn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Ft.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=r;this.latestValues=l,this.baseTarget={...l},this.initialValues=e.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=wv(e),this.isVariantNode=fD(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(e,{},this);for(const f in d){const p=d[f];l[f]!==void 0&&Fe(p)&&p.set(l[f],!1)}}mount(t){this.current=t,lf.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),XD.current||Dz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ha(this.notifyUpdate),Ha(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Mh.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=e.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Ft.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=e.on("renderRequest",this.scheduleRender);let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),a(),r&&r(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in mh){const e=mh[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ee()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<mx.length;i++){const s=mx[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,r=t[a];r&&(this.propEventSubscriptions[s]=this.on(s,r))}this.prevMotionValues=Lz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=Xl(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(gM(i)||yM(i))?i=parseFloat(i):!sF(i)&&io.test(e)&&(i=sD(t,e)),this.setBaseTarget(t,Fe(i)?i.get():i)),Fe(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var a;const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const r=eE(this.props,e,(a=this.presenceContext)==null?void 0:a.custom);r&&(i=r[t])}if(e&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Fe(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Mw),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class $D extends YD{constructor(){super(...arguments),this.KeyframeResolver=Y3}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Fe(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function KD(n,{style:t,vars:e},i,s){const a=n.style;let r;for(r in t)a[r]=t[r];s==null||s.applyProjectionStyles(a,i);for(r in e)a.setProperty(r,e[r])}function Oz(n){return window.getComputedStyle(n)}class WD extends $D{constructor(){super(...arguments),this.type="html",this.renderInstance=KD}readValueFromInstance(t,e){var i;if(Mh.has(e))return(i=this.projection)!=null&&i.isProjecting?jb(e):c3(t,e);{const s=Oz(t),a=(Ow(e)?s.getPropertyValue(e):s[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return OD(t,e)}build(t,e,i){Zw(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return nE(t,e,i)}}const QD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Pz(n,t,e,i){KD(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(QD.has(s)?s:Qw(s),t.attrs[s])}class ZD extends $D{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ee}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Mh.has(e)){const i=iD(e);return i&&i.default||0}return e=QD.has(e)?e:Qw(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return ED(t,e,i)}build(t,e,i){bD(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,s){Pz(t,e,i,s)}mount(t){this.isSVGTag=SD(t.tagName),super.mount(t)}}const Nz=(n,t)=>tE(n)?new ZD(t):new WD(t,{allowProjection:n!==R.Fragment}),kz=VF({...hV,...Rz,...yz,...Mz},Nz),Yl=cF(kz);function JD(n){const t=Ew(()=>Xl(n)),{isStatic:e}=R.useContext($w);if(e){const[,i]=R.useState(n);R.useEffect(()=>t.on("change",i),[])}return t}function tL(n,t){const e=JD(t()),i=()=>e.set(t());return i(),pM(()=>{const s=()=>Ft.preRender(i,!1,!0),a=n.map(r=>r.on("change",s));return()=>{a.forEach(r=>r()),Ha(i)}}),e}function Bz(n){Nd.current=[],n();const t=tL(Nd.current,n);return Nd.current=void 0,t}function yx(n,t,e,i){if(typeof n=="function")return Bz(n);const s=typeof t=="function"?t:nF(t,e,i);return Array.isArray(n)?vx(n,s):vx([n],([a])=>s(a))}function vx(n,t){const e=Ew(()=>[]);return tL(n,()=>{e.length=0;const i=n.length;for(let s=0;s<i;s++)e[s]=n[s].get();return t(e)})}function aE(n){return typeof n=="object"&&!Array.isArray(n)}function eL(n,t,e,i){return typeof n=="string"&&aE(t)?aD(n,e,i):n instanceof NodeList?Array.from(n):Array.isArray(n)?n:[n]}function Iz(n,t,e){return n*(t+1)}function bx(n,t,e,i){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,n+parseFloat(t)):t==="<"?e:t.startsWith("<")?Math.max(0,e+parseFloat(t.slice(1))):i.get(t)??n}function Fz(n,t,e){for(let i=0;i<n.length;i++){const s=n[i];s.at>t&&s.at<e&&(bv(n,s),i--)}}function Vz(n,t,e,i,s,a){Fz(n,s,a);for(let r=0;r<t.length;r++)n.push({value:t[r],at:Xt(s,a,i[r]),easing:MM(e,r)})}function zz(n,t){for(let e=0;e<n.length;e++)n[e]=n[e]/(t+1)}function Hz(n,t){return n.at===t.at?n.value===null?1:t.value===null?-1:0:n.at-t.at}const Uz="easeInOut";function jz(n,{defaultTransition:t={},...e}={},i,s){const a=t.duration||.3,r=new Map,o=new Map,l={},c=new Map;let h=0,d=0,f=0;for(let p=0;p<n.length;p++){const y=n[p];if(typeof y=="string"){c.set(y,d);continue}else if(!Array.isArray(y)){c.set(y.name,bx(d,y.at,h,c));continue}let[m,S,g={}]=y;g.at!==void 0&&(d=bx(d,g.at,h,c));let v=0;const A=(T,x,_,C=0,M=0)=>{const D=Gz(T),{delay:O=0,times:N=qM(D),type:q="keyframes",repeat:$,repeatType:X,repeatDelay:Z=0,...L}=x;let{ease:P=t.ease||"easeOut",duration:I}=x;const Q=typeof O=="function"?O(C,M):O,nt=D.length,Jt=Uw(q)?q:s==null?void 0:s[q||"keyframes"];if(nt<=2&&Jt){let Ot=100;if(nt===2&&Yz(D)){const Je=D[1]-D[0];Ot=Math.abs(Je)}const pe={...L};I!==void 0&&(pe.duration=ts(I));const mt=HM(pe,Ot,Jt);P=mt.ease,I=mt.duration}I??(I=a);const gt=d+Q;N.length===1&&N[0]===0&&(N[1]=1);const ht=N.length-D.length;if(ht>0&&GM(N,ht),D.length===1&&D.unshift(null),$){I=Iz(I,$);const Ot=[...D],pe=[...N];P=Array.isArray(P)?[...P]:[P];const mt=[...P];for(let Je=0;Je<$;Je++){D.push(...Ot);for(let tn=0;tn<Ot.length;tn++)N.push(pe[tn]+(Je+1)),P.push(tn===0?"linear":MM(mt,tn-1))}zz(N,$)}const zt=gt+I;Vz(_,D,P,N,gt,zt),v=Math.max(Q+I,v),f=Math.max(zt,f)};if(Fe(m)){const T=Ax(m,o);A(S,g,Sx("default",T))}else{const T=eL(m,S,i,l),x=T.length;for(let _=0;_<x;_++){S=S,g=g;const C=T[_],M=Ax(C,o);for(const D in S)A(S[D],qz(g,D),Sx(D,M),_,x)}}h=d,d+=v}return o.forEach((p,y)=>{for(const m in p){const S=p[m];S.sort(Hz);const g=[],v=[],A=[];for(let x=0;x<S.length;x++){const{at:_,value:C,easing:M}=S[x];g.push(C),v.push(gh(0,f,_)),A.push(M||"easeOut")}v[0]!==0&&(v.unshift(0),g.unshift(g[0]),A.unshift(Uz)),v[v.length-1]!==1&&(v.push(1),g.push(null)),r.has(y)||r.set(y,{keyframes:{},transition:{}});const T=r.get(y);T.keyframes[m]=g,T.transition[m]={...t,duration:f,ease:A,times:v,...e}}}),r}function Ax(n,t){return!t.has(n)&&t.set(n,{}),t.get(n)}function Sx(n,t){return t[n]||(t[n]=[]),t[n]}function Gz(n){return Array.isArray(n)?n:[n]}function qz(n,t){return n&&n[t]?{...n,...n[t]}:{...n}}const Xz=n=>typeof n=="number",Yz=n=>n.every(Xz);function $z(n,t){return n in t}class Kz extends YD{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,e){if($z(e,t)){const i=t[e];if(typeof i=="string"||typeof i=="number")return i}}getBaseTargetFromProps(){}removeValueFromRenderState(t,e){delete e.output[t]}measureInstanceViewportBox(){return ee()}build(t,e){Object.assign(t.output,e)}renderInstance(t,{output:e}){Object.assign(t,e)}sortInstanceNodePosition(){return 0}}function Wz(n){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},e=Yw(n)&&!cD(n)?new ZD(t):new WD(t);e.mount(n),lf.set(n,e)}function Qz(n){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},e=new Kz(t);e.mount(n),lf.set(n,e)}function Zz(n,t){return Fe(n)||typeof n=="number"||typeof n=="string"&&!aE(t)}function nL(n,t,e,i){const s=[];if(Zz(n,t))s.push(ID(n,aE(t)&&t.default||t,e&&(e.default||e)));else{const a=eL(n,t,i),r=a.length;for(let o=0;o<r;o++){const l=a[o],c=l instanceof Element?Wz:Qz;lf.has(l)||c(l);const h=lf.get(l),d={...e};"delay"in d&&typeof d.delay=="function"&&(d.delay=d.delay(o,r)),s.push(...sE(h,{...t,transition:d},{}))}}return s}function Jz(n,t,e){const i=[];return jz(n,t,e,{spring:nf}).forEach(({keyframes:a,transition:r},o)=>{i.push(...nL(o,a,r))}),i}function tH(n){return Array.isArray(n)&&n.some(Array.isArray)}function eH(n){function t(e,i,s){let a=[];return tH(e)?a=Jz(e,i,n):a=nL(e,i,s,n),new k3(a)}return t}const nH=eH(),bn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),iA=[.001,0,0,.001,0,0],O0=1.35,ti={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},_s={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},iH="pdfjs_internal_editor_",J={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},ct={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},iL={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},en={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Fd={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},le={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},du={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},dg={ERRORS:0,WARNINGS:1,INFOS:5},uf={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},jg={moveTo:0,lineTo:1,curveTo:2,closePath:3},sL={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Ev=dg.WARNINGS;function sH(n){Number.isInteger(n)&&(Ev=n)}function aH(){return Ev}function Tv(n){Ev>=dg.INFOS&&console.log(`Info: ${n}`)}function tt(n){Ev>=dg.WARNINGS&&console.log(`Warning: ${n}`)}function Rt(n){throw new Error(n)}function ve(n,t){n||Rt(t)}function rH(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function rE(n,t=null,e=null){if(!n)return null;if(e&&typeof n=="string"){if(e.addDefaultProtocol&&n.startsWith("www.")){const s=n.match(/\./g);(s==null?void 0:s.length)>=2&&(n=`http://${n}`)}if(e.tryConvertEncoding)try{n=hH(n)}catch{}}const i=t?URL.parse(n,t):URL.parse(n);return rH(i)?i:null}function oE(n,t,e=!1){const i=URL.parse(n);return i?(i.hash=t,i.href):e&&rE(n,"http://example.com")?n.split("#",1)[0]+`${t?`#${t}`:""}`:""}function ut(n,t,e,i=!1){return Object.defineProperty(n,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const nu=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class wx extends nu{constructor(t,e){super(t,"PasswordException"),this.code=e}}class P0 extends nu{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class _y extends nu{constructor(t){super(t,"InvalidPDFException")}}class cf extends nu{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class oH extends nu{constructor(t){super(t,"FormatError")}}class Ua extends nu{constructor(t){super(t,"AbortException")}}function aL(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Rt("Invalid argument for bytesToString");const t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);const i=[];for(let s=0;s<t;s+=e){const a=Math.min(s+e,t),r=n.subarray(s,a);i.push(String.fromCharCode.apply(null,r))}return i.join("")}function fg(n){typeof n!="string"&&Rt("Invalid argument for stringToBytes");const t=n.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=n.charCodeAt(i)&255;return e}function lH(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function uH(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function cH(){try{return new Function(""),!0}catch{return!1}}class ze{static get isLittleEndian(){return ut(this,"isLittleEndian",uH())}static get isEvalSupported(){return ut(this,"isEvalSupported",cH())}static get isOffscreenCanvasSupported(){return ut(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return ut(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return ut(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){var t,e;return ut(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const N0=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Oa,gm,sA;class G{static makeHexColor(t,e,i){return`#${N0[t]}${N0[e]}${N0[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,i=0){const s=t[i],a=t[i+1];t[i]=s*e[0]+a*e[2]+e[4],t[i+1]=s*e[1]+a*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const s=e[0],a=e[1],r=e[2],o=e[3],l=e[4],c=e[5];for(let h=0;h<6;h+=2){const d=t[i+h],f=t[i+h+1];t[i+h]=d*s+f*r+l,t[i+h+1]=d*a+f*o+c}}static applyInverseTransform(t,e){const i=t[0],s=t[1],a=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-s*e[2]+e[2]*e[5]-e[4]*e[3])/a,t[1]=(-i*e[1]+s*e[0]+e[4]*e[1]-e[5]*e[0])/a}static axialAlignedBoundingBox(t,e,i){const s=e[0],a=e[1],r=e[2],o=e[3],l=e[4],c=e[5],h=t[0],d=t[1],f=t[2],p=t[3];let y=s*h+l,m=y,S=s*f+l,g=S,v=o*d+c,A=v,T=o*p+c,x=T;if(a!==0||r!==0){const _=a*h,C=a*f,M=r*d,D=r*p;y+=M,g+=M,S+=D,m+=D,v+=_,x+=_,T+=C,A+=C}i[0]=Math.min(i[0],y,S,m,g),i[1]=Math.min(i[1],v,T,A,x),i[2]=Math.max(i[2],y,S,m,g),i[3]=Math.max(i[3],v,T,A,x)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],s=t[1],a=t[2],r=t[3],o=i**2+s**2,l=i*a+s*r,c=a**2+r**2,h=(o+c)/2,d=Math.sqrt(h**2-(o*c-l**2));e[0]=Math.sqrt(h+d||1),e[1]=Math.sqrt(h-d||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>s)return null;const a=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),r=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return a>r?null:[i,a,s,r]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,s,a){a[0]=Math.min(a[0],t,i),a[1]=Math.min(a[1],e,s),a[2]=Math.max(a[2],t,i),a[3]=Math.max(a[3],e,s)}static bezierBoundingBox(t,e,i,s,a,r,o,l,c){c[0]=Math.min(c[0],t,o),c[1]=Math.min(c[1],e,l),c[2]=Math.max(c[2],t,o),c[3]=Math.max(c[3],e,l),E(this,Oa,sA).call(this,t,i,a,o,e,s,r,l,3*(-t+3*(i-a)+o),6*(t-2*i+a),3*(i-t),c),E(this,Oa,sA).call(this,t,i,a,o,e,s,r,l,3*(-e+3*(s-r)+l),6*(e-2*s+r),3*(s-e),c)}}Oa=new WeakSet,gm=function(t,e,i,s,a,r,o,l,c,h){if(c<=0||c>=1)return;const d=1-c,f=c*c,p=f*c,y=d*(d*(d*t+3*c*e)+3*f*i)+p*s,m=d*(d*(d*a+3*c*r)+3*f*o)+p*l;h[0]=Math.min(h[0],y),h[1]=Math.min(h[1],m),h[2]=Math.max(h[2],y),h[3]=Math.max(h[3],m)},sA=function(t,e,i,s,a,r,o,l,c,h,d,f){if(Math.abs(c)<1e-12){Math.abs(h)>=1e-12&&E(this,Oa,gm).call(this,t,e,i,s,a,r,o,l,-d/h,f);return}const p=h**2-4*d*c;if(p<0)return;const y=Math.sqrt(p),m=2*c;E(this,Oa,gm).call(this,t,e,i,s,a,r,o,l,(-h+y)/m,f),E(this,Oa,gm).call(this,t,e,i,s,a,r,o,l,(-h-y)/m,f)},w(G,Oa);function hH(n){return decodeURIComponent(escape(n))}let k0=null,Ex=null;function rL(n){return k0||(k0=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ex=new Map([["","t"]])),n.replaceAll(k0,(t,e,i)=>e?e.normalize("NFKC"):Ex.get(i))}function lE(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),aL(n)}const uE="pdfjs_internal_id_";function dH(n,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,s,...a]=e;if(!n(i)&&!Number.isInteger(i)||!t(s))return!1;const r=a.length;let o=!0;switch(s.name){case"XYZ":if(r<2||r>3)return!1;break;case"Fit":case"FitB":return r===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(r>1)return!1;break;case"FitR":if(r!==4)return!1;o=!1;break;default:return!1}for(const l of a)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function ln(n,t,e){return Math.min(Math.max(n,t),e)}function oL(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(aL(n))}function fH(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):fg(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...t){return new Promise(e=>{e(n(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((t,e)=>t+e,0)});const js="http://www.w3.org/2000/svg",Eo=class Eo{};B(Eo,"CSS",96),B(Eo,"PDF",72),B(Eo,"PDF_TO_CSS_UNITS",Eo.CSS/Eo.PDF);let ja=Eo;async function Dh(n,t="text"){if(Zh(n,document.baseURI)){const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}i(new Error(s.statusText))}},s.send(null)})}class pg{constructor({viewBox:t,userUnit:e,scale:i,rotation:s,offsetX:a=0,offsetY:r=0,dontFlip:o=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=s,this.offsetX=a,this.offsetY=r,i*=e;const l=(t[2]+t[0])/2,c=(t[3]+t[1])/2;let h,d,f,p;switch(s%=360,s<0&&(s+=360),s){case 180:h=-1,d=0,f=0,p=1;break;case 90:h=0,d=1,f=1,p=0;break;case 270:h=0,d=-1,f=-1,p=0;break;case 0:h=1,d=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(f=-f,p=-p);let y,m,S,g;h===0?(y=Math.abs(c-t[1])*i+a,m=Math.abs(l-t[0])*i+r,S=(t[3]-t[1])*i,g=(t[2]-t[0])*i):(y=Math.abs(l-t[0])*i+a,m=Math.abs(c-t[1])*i+r,S=(t[2]-t[0])*i,g=(t[3]-t[1])*i),this.transform=[h*i,d*i,f*i,p*i,y-h*i*l-f*i*c,m-d*i*l-p*i*c],this.width=S,this.height=g}get rawDims(){const t=this.viewBox;return ut(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:s=this.offsetY,dontFlip:a=!1}={}){return new pg({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:s,dontFlip:a})}convertToViewportPoint(t,e){const i=[t,e];return G.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];G.applyTransform(e,this.transform);const i=[t[2],t[3]];return G.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return G.applyInverseTransform(i,this.transform),i}}class xv extends nu{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function gg(n){const t=n.length;let e=0;for(;e<t&&n[e].trim()==="";)e++;return n.substring(e,e+5).toLowerCase()==="data:"}function _v(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function lL(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function uL(n,t="document.pdf"){if(typeof n!="string")return t;if(gg(n))return tt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=e.exec(n);let a=i.exec(s[1])||i.exec(s[2])||i.exec(s[3]);if(a&&(a=a[0],a.includes("%")))try{a=i.exec(decodeURIComponent(a))[0]}catch{}return a||t}class Tx{constructor(){B(this,"started",Object.create(null));B(this,"times",[])}time(t){t in this.started&&tt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||tt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:s,end:a}of this.times)t.push(`${i.padEnd(e)} ${a-s}ms
`);return t.join("")}}function Zh(n,t){const e=t?URL.parse(n,t):URL.parse(n);return(e==null?void 0:e.protocol)==="http:"||(e==null?void 0:e.protocol)==="https:"}function ki(n){n.preventDefault()}function de(n){n.preventDefault(),n.stopPropagation()}function pH(n){console.log("Deprecated API usage: "+n)}var mf;class Cv{static toDateObject(t){if(!t||typeof t!="string")return null;u(this,mf)||b(this,mf,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=u(this,mf).exec(t);if(!e)return null;const i=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let a=parseInt(e[3],10);a=a>=1&&a<=31?a:1;let r=parseInt(e[4],10);r=r>=0&&r<=23?r:0;let o=parseInt(e[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;const c=e[7]||"Z";let h=parseInt(e[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(e[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(r+=h,o+=d):c==="+"&&(r-=h,o-=d),new Date(Date.UTC(i,s,a,r,o,l))}}mf=new WeakMap,w(Cv,mf);function cL(n,{scale:t=1,rotation:e=0}){const{width:i,height:s}=n.attributes.style,a=[0,0,parseInt(i),parseInt(s)];return new pg({viewBox:a,userUnit:1,scale:t,rotation:e})}function cE(n){if(n.startsWith("#")){const t=parseInt(n.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(tt(`Not a valid color format: "${n}"`),[0,0,0])}function gH(n){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of n.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;n.set(e,cE(i))}t.remove()}function Qt(n){const{a:t,b:e,c:i,d:s,e:a,f:r}=n.getTransform();return[t,e,i,s,a,r]}function rs(n){const{a:t,b:e,c:i,d:s,e:a,f:r}=n.getTransform().invertSelf();return[t,e,i,s,a,r]}function so(n,t,e=!1,i=!0){if(t instanceof pg){const{pageWidth:s,pageHeight:a}=t.rawDims,{style:r}=n,o=ze.isCSSRoundSupported,l=`var(--total-scale-factor) * ${s}px`,c=`var(--total-scale-factor) * ${a}px`,h=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,d=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!e||t.rotation%180===0?(r.width=h,r.height=d):(r.width=d,r.height=h)}i&&n.setAttribute("data-main-rotation",t.rotation)}class ns{constructor(){const{pixelRatio:t}=ns;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,s,a=-1){let r=1/0,o=1/0,l=1/0;i=ns.capPixels(i,a),i>0&&(r=Math.sqrt(i/(t*e))),s!==-1&&(o=s/t,l=s/e);const c=Math.min(r,o,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const Cy=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var ar,Co,pi,rr,yf,Qu,vf,Ny,hL,Qe,dL,fL,Jh,pL,mm;const Xs=class Xs{constructor(t){w(this,Qe);w(this,ar,null);w(this,Co,null);w(this,pi);w(this,rr,null);w(this,yf,null);w(this,Qu,null);b(this,pi,t),u(Xs,vf)||b(Xs,vf,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=b(this,ar,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=u(this,pi)._uiManager._signal;t.addEventListener("contextmenu",ki,{signal:e}),t.addEventListener("pointerdown",E(Xs,Ny,hL),{signal:e});const i=b(this,rr,document.createElement("div"));i.className="buttons",t.append(i);const s=u(this,pi).toolbarPosition;if(s){const{style:a}=t,r=u(this,pi)._uiManager.direction==="ltr"?1-s[0]:s[0];a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return E(this,Qe,pL).call(this),t}get div(){return u(this,ar)}hide(){var t;u(this,ar).classList.add("hidden"),(t=u(this,Co))==null||t.hideDropdown()}show(){var t;u(this,ar).classList.remove("hidden"),(t=u(this,yf))==null||t.shown()}async addAltText(t){const e=await t.render();E(this,Qe,Jh).call(this,e),u(this,rr).prepend(e,u(this,Qe,mm)),b(this,yf,t)}addColorPicker(t){b(this,Co,t);const e=t.renderButton();E(this,Qe,Jh).call(this,e),u(this,rr).prepend(e,u(this,Qe,mm))}async addEditSignatureButton(t){const e=b(this,Qu,await t.renderEditButton(u(this,pi)));E(this,Qe,Jh).call(this,e),u(this,rr).prepend(e,u(this,Qe,mm))}updateEditSignatureButton(t){u(this,Qu)&&(u(this,Qu).title=t)}remove(){var t;u(this,ar).remove(),(t=u(this,Co))==null||t.destroy(),b(this,Co,null)}};ar=new WeakMap,Co=new WeakMap,pi=new WeakMap,rr=new WeakMap,yf=new WeakMap,Qu=new WeakMap,vf=new WeakMap,Ny=new WeakSet,hL=function(t){t.stopPropagation()},Qe=new WeakSet,dL=function(t){u(this,pi)._focusEventsAllowed=!1,de(t)},fL=function(t){u(this,pi)._focusEventsAllowed=!0,de(t)},Jh=function(t){const e=u(this,pi)._uiManager._signal;t.addEventListener("focusin",E(this,Qe,dL).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",E(this,Qe,fL).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",ki,{signal:e})},pL=function(){const{editorType:t,_uiManager:e}=u(this,pi),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",u(Xs,vf)[t]),E(this,Qe,Jh).call(this,i),i.addEventListener("click",s=>{e.delete()},{signal:e._signal}),u(this,rr).append(i)},mm=function(){const t=document.createElement("div");return t.className="divider",t},w(Xs,Ny),w(Xs,vf,null);let aA=Xs;var bf,Ro,Mo,ro,gL,mL,yL;class mH{constructor(t){w(this,ro);w(this,bf,null);w(this,Ro,null);w(this,Mo);b(this,Mo,t)}show(t,e,i){const[s,a]=E(this,ro,mL).call(this,e,i),{style:r}=u(this,Ro)||b(this,Ro,E(this,ro,gL).call(this));t.append(u(this,Ro)),r.insetInlineEnd=`${100*s}%`,r.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,Ro).remove()}}bf=new WeakMap,Ro=new WeakMap,Mo=new WeakMap,ro=new WeakSet,gL=function(){const t=b(this,Ro,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",ki,{signal:u(this,Mo)._signal});const e=b(this,bf,document.createElement("div"));return e.className="buttons",t.append(e),E(this,ro,yL).call(this),t},mL=function(t,e){let i=0,s=0;for(const a of t){const r=a.y+a.height;if(r<i)continue;const o=a.x+(e?a.width:0);if(r>i){s=o,i=r;continue}e?o>s&&(s=o):o<s&&(s=o)}return[e?1-s:s,i]},yL=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=u(this,Mo)._signal;t.addEventListener("contextmenu",ki,{signal:i}),t.addEventListener("click",()=>{u(this,Mo).highlightSelection("floating_button")},{signal:i}),u(this,bf).append(t)};function vL(n,t,e){for(const i of e)t.addEventListener(i,n[i].bind(n))}var ky;class yH{constructor(){w(this,ky,0)}get id(){return`${iH}${fn(this,ky)._++}`}}ky=new WeakMap;var Zu,Af,sn,Ju,ym;const SE=class SE{constructor(){w(this,Ju);w(this,Zu,lE());w(this,Af,0);w(this,sn,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=t;const a=s.decode().then(()=>(i.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return ut(this,"_isSVGFittingCanvas",a)}async getFromFile(t){const{lastModified:e,name:i,size:s,type:a}=t;return E(this,Ju,ym).call(this,`${e}_${i}_${s}_${a}`,t)}async getFromUrl(t){return E(this,Ju,ym).call(this,t,t)}async getFromBlob(t,e){const i=await e;return E(this,Ju,ym).call(this,t,i)}async getFromId(t){u(this,sn)||b(this,sn,new Map);const e=u(this,sn).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){u(this,sn)||b(this,sn,new Map);let i=u(this,sn).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),i={bitmap:s.transferToImageBitmap(),id:`image_${u(this,Zu)}_${fn(this,Af)._++}`,refCounter:1,isSvg:!1},u(this,sn).set(t,i),u(this,sn).set(i.id,i),i}getSvgUrl(t){const e=u(this,sn).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var s;u(this,sn)||b(this,sn,new Map);const e=u(this,sn).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const a=new OffscreenCanvas(i.width,i.height);a.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=a.convertToBlob()}(s=i.close)==null||s.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${u(this,Zu)}_`)}};Zu=new WeakMap,Af=new WeakMap,sn=new WeakMap,Ju=new WeakSet,ym=async function(t,e){u(this,sn)||b(this,sn,new Map);let i=u(this,sn).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${u(this,Zu)}_${fn(this,Af)._++}`,refCounter:0,isSvg:!1});let s;if(typeof e=="string"?(i.url=e,s=await Dh(e,"blob")):e instanceof File?s=i.file=e:e instanceof Blob&&(s=e),s.type==="image/svg+xml"){const a=SE._isSVGFittingCanvas,r=new FileReader,o=new Image,l=new Promise((c,h)=>{o.onload=()=>{i.bitmap=o,i.isSvg=!0,c()},r.onload=async()=>{const d=i.svgUrl=r.result;o.src=await a?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=r.onerror=h});r.readAsDataURL(s),await l}else i.bitmap=await createImageBitmap(s);i.refCounter=1}catch(s){tt(s),i=null}return u(this,sn).set(t,i),i&&u(this,sn).set(i.id,i),i};let rA=SE;var ue,or,Sf,Wt;class vH{constructor(t=128){w(this,ue,[]);w(this,or,!1);w(this,Sf);w(this,Wt,-1);b(this,Sf,t)}add({cmd:t,undo:e,post:i,mustExec:s,type:a=NaN,overwriteIfSameType:r=!1,keepUndo:o=!1}){if(s&&t(),u(this,or))return;const l={cmd:t,undo:e,post:i,type:a};if(u(this,Wt)===-1){u(this,ue).length>0&&(u(this,ue).length=0),b(this,Wt,0),u(this,ue).push(l);return}if(r&&u(this,ue)[u(this,Wt)].type===a){o&&(l.undo=u(this,ue)[u(this,Wt)].undo),u(this,ue)[u(this,Wt)]=l;return}const c=u(this,Wt)+1;c===u(this,Sf)?u(this,ue).splice(0,1):(b(this,Wt,c),c<u(this,ue).length&&u(this,ue).splice(c)),u(this,ue).push(l)}undo(){if(u(this,Wt)===-1)return;b(this,or,!0);const{undo:t,post:e}=u(this,ue)[u(this,Wt)];t(),e==null||e(),b(this,or,!1),b(this,Wt,u(this,Wt)-1)}redo(){if(u(this,Wt)<u(this,ue).length-1){b(this,Wt,u(this,Wt)+1),b(this,or,!0);const{cmd:t,post:e}=u(this,ue)[u(this,Wt)];t(),e==null||e(),b(this,or,!1)}}hasSomethingToUndo(){return u(this,Wt)!==-1}hasSomethingToRedo(){return u(this,Wt)<u(this,ue).length-1}cleanType(t){if(u(this,Wt)!==-1){for(let e=u(this,Wt);e>=0;e--)if(u(this,ue)[e].type!==t){u(this,ue).splice(e+1,u(this,Wt)-e),b(this,Wt,e);return}u(this,ue).length=0,b(this,Wt,-1)}}destroy(){b(this,ue,null)}}ue=new WeakMap,or=new WeakMap,Sf=new WeakMap,Wt=new WeakMap;var By,bL;class mg{constructor(t){w(this,By);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=ze.platform;for(const[i,s,a={}]of t)for(const r of i){const o=r.startsWith("mac+");e&&o?(this.callbacks.set(r.slice(4),{callback:s,options:a}),this.allKeys.add(r.split("+").at(-1))):!e&&!o&&(this.callbacks.set(r,{callback:s,options:a}),this.allKeys.add(r.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(E(this,By,bL).call(this,e));if(!i)return;const{callback:s,options:{bubbles:a=!1,args:r=[],checker:o=null}}=i;o&&!o(t,e)||(s.bind(t,...r,e)(),a||de(e))}}By=new WeakSet,bL=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const Iy=class Iy{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return gH(t),ut(this,"_colors",t)}convert(t){const e=cE(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,s]of this._colors)if(s.every((a,r)=>a===e[r]))return Iy._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?G.makeHexColor(...e):t}};B(Iy,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let oA=Iy;var tc,Hn,we,He,ec,$s,nc,gi,lr,ur,ic,Do,us,Fi,Lo,wf,Ef,sc,Tf,cs,cr,ac,hr,hs,Fy,dr,xf,fr,Oo,Po,pr,_f,Me,St,Ks,gr,No,Cf,Rf,mr,ds,Ws,Mf,mi,V,vm,lA,AL,SL,bm,wL,EL,TL,uA,xL,cA,hA,_L,pn,Gs,CL,RL,dA,ML,td,fA;const Fu=class Fu{constructor(t,e,i,s,a,r,o,l,c,h,d,f,p,y){w(this,V);w(this,tc,new AbortController);w(this,Hn,null);w(this,we,new Map);w(this,He,new Map);w(this,ec,null);w(this,$s,null);w(this,nc,null);w(this,gi,new vH);w(this,lr,null);w(this,ur,null);w(this,ic,0);w(this,Do,new Set);w(this,us,null);w(this,Fi,null);w(this,Lo,new Set);B(this,"_editorUndoBar",null);w(this,wf,!1);w(this,Ef,!1);w(this,sc,!1);w(this,Tf,null);w(this,cs,null);w(this,cr,null);w(this,ac,null);w(this,hr,!1);w(this,hs,null);w(this,Fy,new yH);w(this,dr,!1);w(this,xf,!1);w(this,fr,null);w(this,Oo,null);w(this,Po,null);w(this,pr,null);w(this,_f,null);w(this,Me,J.NONE);w(this,St,new Set);w(this,Ks,null);w(this,gr,null);w(this,No,null);w(this,Cf,null);w(this,Rf,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});w(this,mr,[0,0]);w(this,ds,null);w(this,Ws,null);w(this,Mf,null);w(this,mi,null);const m=this._signal=u(this,tc).signal;b(this,Ws,t),b(this,Mf,e),b(this,ec,i),b(this,gr,s),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:m}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:m}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:m}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:m}),a._on("setpreference",this.onSetPreference.bind(this),{signal:m}),a._on("switchannotationeditorparams",S=>this.updateParams(S.type,S.value),{signal:m}),E(this,V,wL).call(this),E(this,V,_L).call(this),E(this,V,uA).call(this),b(this,$s,r.annotationStorage),b(this,Tf,r.filterFactory),b(this,No,o),b(this,ac,l||null),b(this,wf,c),b(this,Ef,h),b(this,sc,d),b(this,_f,f||null),this.viewParameters={realScale:ja.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=p||null,this._supportsPinchToZoom=y!==!1}static get _keyboardManager(){const t=Fu.prototype,e=r=>u(r,Ws).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&r.hasSomethingToControl(),i=(r,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},s=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return ut(this,"_keyboardManager",new mg([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(r,{target:o})=>!(o instanceof HTMLButtonElement)&&u(r,Ws).contains(o)&&!r.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(r,{target:o})=>!(o instanceof HTMLButtonElement)&&u(r,Ws).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}]]))}destroy(){var t,e,i,s,a,r,o,l;(t=u(this,mi))==null||t.resolve(),b(this,mi,null),(e=u(this,tc))==null||e.abort(),b(this,tc,null),this._signal=null;for(const c of u(this,He).values())c.destroy();u(this,He).clear(),u(this,we).clear(),u(this,Lo).clear(),(i=u(this,pr))==null||i.clear(),b(this,Hn,null),u(this,St).clear(),u(this,gi).destroy(),(s=u(this,ec))==null||s.destroy(),(a=u(this,gr))==null||a.destroy(),(r=u(this,hs))==null||r.hide(),b(this,hs,null),(o=u(this,Po))==null||o.destroy(),b(this,Po,null),u(this,cs)&&(clearTimeout(u(this,cs)),b(this,cs,null)),u(this,ds)&&(clearTimeout(u(this,ds)),b(this,ds,null)),(l=this._editorUndoBar)==null||l.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return u(this,_f)}get useNewAltTextFlow(){return u(this,Ef)}get useNewAltTextWhenAddingImage(){return u(this,sc)}get hcmFilter(){return ut(this,"hcmFilter",u(this,No)?u(this,Tf).addHCMFilter(u(this,No).foreground,u(this,No).background):"none")}get direction(){return ut(this,"direction",getComputedStyle(u(this,Ws)).direction)}get highlightColors(){return ut(this,"highlightColors",u(this,ac)?new Map(u(this,ac).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return ut(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),b(this,ur,t)}setMainHighlightColorPicker(t){b(this,Po,t)}editAltText(t,e=!1){var i;(i=u(this,ec))==null||i.editAltText(this,t,e)}getSignature(t){var e;(e=u(this,gr))==null||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return u(this,gr)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":b(this,sc,e);break}}onPageChanging({pageNumber:t}){b(this,ic,t-1)}focusMainContainer(){u(this,Ws).focus()}findParent(t,e){for(const i of u(this,He).values()){const{x:s,y:a,width:r,height:o}=i.div.getBoundingClientRect();if(t>=s&&t<=s+r&&e>=a&&e<=a+o)return i}return null}disableUserSelect(t=!1){u(this,Mf).classList.toggle("noUserSelect",t)}addShouldRescale(t){u(this,Lo).add(t)}removeShouldRescale(t){u(this,Lo).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*ja.PDF_TO_CSS_UNITS;for(const i of u(this,Lo))i.onScaleChanging();(e=u(this,ur))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:r}=e,o=e.toString(),c=E(this,V,vm).call(this,e).closest(".textLayer"),h=this.getSelectionBoxes(c);if(!h)return;e.empty();const d=E(this,V,lA).call(this,c),f=u(this,Me)===J.NONE,p=()=>{d==null||d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:h,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:r,text:o}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(J.HIGHLIGHT,p);return}p()}addToAnnotationStorage(t){!t.isEmpty()&&u(this,$s)&&!u(this,$s).has(t.id)&&u(this,$s).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,u(this,hr)&&(b(this,hr,!1),E(this,V,bm).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of u(this,St))if(e.div.contains(t)){b(this,Oo,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!u(this,Oo))return;const[t,e]=u(this,Oo);b(this,Oo,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){E(this,V,uA).call(this),E(this,V,cA).call(this)}removeEditListeners(){E(this,V,xL).call(this),E(this,V,hA).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of u(this,Fi))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of u(this,Fi))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=u(this,Hn))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const s of u(this,St)){const a=s.serialize(!0);a&&e.push(a)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const a of e.items)for(const r of u(this,Fi))if(r.isHandlingMimeForPasting(a.type)){r.paste(a,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(a){tt(`paste: "${a.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const s=this.currentLayer;try{const a=[];for(const l of i){const c=await s.deserialize(l);if(!c)return;a.push(c)}const r=()=>{for(const l of a)E(this,V,dA).call(this,l);E(this,V,fA).call(this,a)},o=()=>{for(const l of a)l.remove()};this.addCommands({cmd:r,undo:o,mustExec:!0})}catch(a){tt(`paste: "${a.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,Me)!==J.NONE&&!this.isEditorHandlingKeyboard&&Fu._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,hr)&&(b(this,hr,!1),E(this,V,bm).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(E(this,V,EL).call(this),E(this,V,cA).call(this),E(this,V,pn).call(this,{isEditing:u(this,Me)!==J.NONE,isEmpty:E(this,V,td).call(this),hasSomethingToUndo:u(this,gi).hasSomethingToUndo(),hasSomethingToRedo:u(this,gi).hasSomethingToRedo(),hasSelectedEditor:!1})):(E(this,V,TL).call(this),E(this,V,hA).call(this),E(this,V,pn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!u(this,Fi)){b(this,Fi,t);for(const e of u(this,Fi))E(this,V,Gs).call(this,e.defaultPropertiesToUpdate)}}getId(){return u(this,Fy).id}get currentLayer(){return u(this,He).get(u(this,ic))}getLayer(t){return u(this,He).get(t)}get currentPageIndex(){return u(this,ic)}addLayer(t){u(this,He).set(t.pageIndex,t),u(this,dr)?t.enable():t.disable()}removeLayer(t){u(this,He).delete(t.pageIndex)}async updateMode(t,e=null,i=!1){var s,a,r;if(u(this,Me)!==t&&!(u(this,mi)&&(await u(this,mi).promise,!u(this,mi)))){if(b(this,mi,Promise.withResolvers()),(s=u(this,ur))==null||s.commitOrRemove(),b(this,Me,t),t===J.NONE){this.setEditingState(!1),E(this,V,RL).call(this),(a=this._editorUndoBar)==null||a.hide(),u(this,mi).resolve();return}t===J.SIGNATURE&&await((r=u(this,gr))==null?void 0:r.loadSignatures()),this.setEditingState(!0),await E(this,V,CL).call(this),this.unselectAll();for(const o of u(this,He).values())o.updateMode(t);if(!e){i&&this.addNewEditorFromKeyboard(),u(this,mi).resolve();return}for(const o of u(this,we).values())o.annotationElementId===e||o.id===e?(this.setSelected(o),o.enterInEditMode()):o.unselect();u(this,mi).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==u(this,Me)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){var i;if(u(this,Fi)){switch(t){case ct.CREATE:this.currentLayer.addNewEditor(e);return;case ct.HIGHLIGHT_DEFAULT_COLOR:(i=u(this,Po))==null||i.updateColor(e);break;case ct.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,Cf)||b(this,Cf,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const s of u(this,St))s.updateParams(t,e);for(const s of u(this,Fi))s.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var a;for(const r of u(this,we).values())r.editorType===t&&r.show(e);(((a=u(this,Cf))==null?void 0:a.get(ct.HIGHLIGHT_SHOW_ALL))??!0)!==e&&E(this,V,Gs).call(this,[[ct.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(u(this,xf)!==t){b(this,xf,t);for(const e of u(this,He).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const i of u(this,we).values())i.pageIndex===t&&e.push(i);return e}getEditor(t){return u(this,we).get(t)}addEditor(t){u(this,we).set(t.id,t)}removeEditor(t){var e,i;t.div.contains(document.activeElement)&&(u(this,cs)&&clearTimeout(u(this,cs)),b(this,cs,setTimeout(()=>{this.focusMainContainer(),b(this,cs,null)},0))),u(this,we).delete(t.id),t.annotationElementId&&((e=u(this,pr))==null||e.delete(t.annotationElementId)),this.unselect(t),(!t.annotationElementId||!u(this,Do).has(t.annotationElementId))&&((i=u(this,$s))==null||i.remove(t.id))}addDeletedAnnotationElement(t){u(this,Do).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return u(this,Do).has(t)}removeDeletedAnnotationElement(t){u(this,Do).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){u(this,Hn)!==t&&(b(this,Hn,t),t&&E(this,V,Gs).call(this,t.propertiesToUpdate))}updateUI(t){u(this,V,ML)===t&&E(this,V,Gs).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){E(this,V,Gs).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(u(this,St).has(t)){u(this,St).delete(t),t.unselect(),E(this,V,pn).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,St).add(t),t.select(),E(this,V,Gs).call(this,t.propertiesToUpdate),E(this,V,pn).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;(e=u(this,ur))==null||e.commitOrRemove();for(const i of u(this,St))i!==t&&i.unselect();u(this,St).clear(),u(this,St).add(t),t.select(),E(this,V,Gs).call(this,t.propertiesToUpdate),E(this,V,pn).call(this,{hasSelectedEditor:!0})}isSelected(t){return u(this,St).has(t)}get firstSelectedEditor(){return u(this,St).values().next().value}unselect(t){t.unselect(),u(this,St).delete(t),E(this,V,pn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,St).size!==0}get isEnterHandled(){return u(this,St).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;u(this,gi).undo(),E(this,V,pn).call(this,{hasSomethingToUndo:u(this,gi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:E(this,V,td).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){u(this,gi).redo(),E(this,V,pn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,gi).hasSomethingToRedo(),isEmpty:E(this,V,td).call(this)})}addCommands(t){u(this,gi).add(t),E(this,V,pn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:E(this,V,td).call(this)})}cleanUndoStack(t){u(this,gi).cleanType(t)}delete(){var a;this.commitOrRemove();const t=(a=this.currentLayer)==null?void 0:a.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...u(this,St)],i=()=>{var r;(r=this._editorUndoBar)==null||r.show(s,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},s=()=>{for(const r of e)E(this,V,dA).call(this,r)};this.addCommands({cmd:i,undo:s,mustExec:!0})}commitOrRemove(){var t;(t=u(this,Hn))==null||t.commitOrRemove()}hasSomethingToControl(){return u(this,Hn)||this.hasSelection}selectAll(){for(const t of u(this,St))t.commit();E(this,V,fA).call(this,u(this,we).values())}unselectAll(){var t;if(!(u(this,Hn)&&(u(this,Hn).commitOrRemove(),u(this,Me)!==J.NONE))&&!((t=u(this,ur))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of u(this,St))e.unselect();u(this,St).clear(),E(this,V,pn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;u(this,mr)[0]+=t,u(this,mr)[1]+=e;const[s,a]=u(this,mr),r=[...u(this,St)],o=1e3;u(this,ds)&&clearTimeout(u(this,ds)),b(this,ds,setTimeout(()=>{b(this,ds,null),u(this,mr)[0]=u(this,mr)[1]=0,this.addCommands({cmd:()=>{for(const l of r)u(this,we).has(l.id)&&(l.translateInPage(s,a),l.translationDone())},undo:()=>{for(const l of r)u(this,we).has(l.id)&&(l.translateInPage(-s,-a),l.translationDone())},mustExec:!1})},o));for(const l of r)l.translateInPage(t,e),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),b(this,us,new Map);for(const t of u(this,St))u(this,us).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,us))return!1;this.disableUserSelect(!1);const t=u(this,us);b(this,us,null);let e=!1;for(const[{x:s,y:a,pageIndex:r},o]of t)o.newX=s,o.newY=a,o.newPageIndex=r,e||(e=s!==o.savedX||a!==o.savedY||r!==o.savedPageIndex);if(!e)return!1;const i=(s,a,r,o)=>{if(u(this,we).has(s.id)){const l=u(this,He).get(o);l?s._setParentAndPosition(l,a,r):(s.pageIndex=o,s.x=a,s.y=r)}};return this.addCommands({cmd:()=>{for(const[s,{newX:a,newY:r,newPageIndex:o}]of t)i(s,a,r,o)},undo:()=>{for(const[s,{savedX:a,savedY:r,savedPageIndex:o}]of t)i(s,a,r,o)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(u(this,us))for(const i of u(this,us).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||u(this,St).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return u(this,Hn)===t}getActive(){return u(this,Hn)}getMode(){return u(this,Me)}get imageManager(){return ut(this,"imageManager",new rA)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let c=0,h=e.rangeCount;c<h;c++)if(!t.contains(e.getRangeAt(c).commonAncestorContainer))return null;const{x:i,y:s,width:a,height:r}=t.getBoundingClientRect();let o;switch(t.getAttribute("data-main-rotation")){case"90":o=(c,h,d,f)=>({x:(h-s)/r,y:1-(c+d-i)/a,width:f/r,height:d/a});break;case"180":o=(c,h,d,f)=>({x:1-(c+d-i)/a,y:1-(h+f-s)/r,width:d/a,height:f/r});break;case"270":o=(c,h,d,f)=>({x:1-(h+f-s)/r,y:(c-i)/a,width:f/r,height:d/a});break;default:o=(c,h,d,f)=>({x:(c-i)/a,y:(h-s)/r,width:d/a,height:f/r});break}const l=[];for(let c=0,h=e.rangeCount;c<h;c++){const d=e.getRangeAt(c);if(!d.collapsed)for(const{x:f,y:p,width:y,height:m}of d.getClientRects())y===0||m===0||l.push(o(f,p,y,m))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:t,id:e}){(u(this,nc)||b(this,nc,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=u(this,nc))==null||e.delete(t)}renderAnnotationElement(t){var s;const e=(s=u(this,nc))==null?void 0:s.get(t.data.id);if(!e)return;const i=u(this,$s).getRawValue(e);i&&(u(this,Me)===J.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){var a;const s=(a=u(this,pr))==null?void 0:a.get(t);s&&(s.setCanvas(e,i),u(this,pr).delete(t))}addMissingCanvas(t,e){(u(this,pr)||b(this,pr,new Map)).set(t,e)}};tc=new WeakMap,Hn=new WeakMap,we=new WeakMap,He=new WeakMap,ec=new WeakMap,$s=new WeakMap,nc=new WeakMap,gi=new WeakMap,lr=new WeakMap,ur=new WeakMap,ic=new WeakMap,Do=new WeakMap,us=new WeakMap,Fi=new WeakMap,Lo=new WeakMap,wf=new WeakMap,Ef=new WeakMap,sc=new WeakMap,Tf=new WeakMap,cs=new WeakMap,cr=new WeakMap,ac=new WeakMap,hr=new WeakMap,hs=new WeakMap,Fy=new WeakMap,dr=new WeakMap,xf=new WeakMap,fr=new WeakMap,Oo=new WeakMap,Po=new WeakMap,pr=new WeakMap,_f=new WeakMap,Me=new WeakMap,St=new WeakMap,Ks=new WeakMap,gr=new WeakMap,No=new WeakMap,Cf=new WeakMap,Rf=new WeakMap,mr=new WeakMap,ds=new WeakMap,Ws=new WeakMap,Mf=new WeakMap,mi=new WeakMap,V=new WeakSet,vm=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},lA=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of u(this,He).values())if(i.hasTextLayer(t))return i;return null},AL=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=E(this,V,vm).call(this,t).closest(".textLayer"),s=this.getSelectionBoxes(i);s&&(u(this,hs)||b(this,hs,new mH(this)),u(this,hs).show(i,s,this.direction==="ltr"))},SL=function(){var a,r,o;const t=document.getSelection();if(!t||t.isCollapsed){u(this,Ks)&&((a=u(this,hs))==null||a.hide(),b(this,Ks,null),E(this,V,pn).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===u(this,Ks))return;const s=E(this,V,vm).call(this,t).closest(".textLayer");if(!s){u(this,Ks)&&((r=u(this,hs))==null||r.hide(),b(this,Ks,null),E(this,V,pn).call(this,{hasSelectedText:!1}));return}if((o=u(this,hs))==null||o.hide(),b(this,Ks,e),E(this,V,pn).call(this,{hasSelectedText:!0}),!(u(this,Me)!==J.HIGHLIGHT&&u(this,Me)!==J.NONE)&&(u(this,Me)===J.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),b(this,hr,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=u(this,Me)===J.HIGHLIGHT?E(this,V,lA).call(this,s):null;l==null||l.toggleDrawing();const c=new AbortController,h=this.combinedSignal(c),d=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&E(this,V,bm).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("blur",d,{signal:h})}},bm=function(t=""){u(this,Me)===J.HIGHLIGHT?this.highlightSelection(t):u(this,wf)&&E(this,V,AL).call(this)},wL=function(){document.addEventListener("selectionchange",E(this,V,SL).bind(this),{signal:this._signal})},EL=function(){if(u(this,cr))return;b(this,cr,new AbortController);const t=this.combinedSignal(u(this,cr));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},TL=function(){var t;(t=u(this,cr))==null||t.abort(),b(this,cr,null)},uA=function(){if(u(this,fr))return;b(this,fr,new AbortController);const t=this.combinedSignal(u(this,fr));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},xL=function(){var t;(t=u(this,fr))==null||t.abort(),b(this,fr,null)},cA=function(){if(u(this,lr))return;b(this,lr,new AbortController);const t=this.combinedSignal(u(this,lr));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},hA=function(){var t;(t=u(this,lr))==null||t.abort(),b(this,lr,null)},_L=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},pn=function(t){Object.entries(t).some(([i,s])=>u(this,Rf)[i]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,Rf),t)}),u(this,Me)===J.HIGHLIGHT&&t.hasSelectedEditor===!1&&E(this,V,Gs).call(this,[[ct.HIGHLIGHT_FREE,!0]]))},Gs=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},CL=async function(){if(!u(this,dr)){b(this,dr,!0);const t=[];for(const e of u(this,He).values())t.push(e.enable());await Promise.all(t);for(const e of u(this,we).values())e.enable()}},RL=function(){if(this.unselectAll(),u(this,dr)){b(this,dr,!1);for(const t of u(this,He).values())t.disable();for(const t of u(this,we).values())t.disable()}},dA=function(t){const e=u(this,He).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},ML=function(){let t=null;for(t of u(this,St));return t},td=function(){if(u(this,we).size===0)return!0;if(u(this,we).size===1)for(const t of u(this,we).values())return t.isEmpty();return!1},fA=function(t){for(const e of u(this,St))e.unselect();u(this,St).clear();for(const e of t)e.isEmpty()||(u(this,St).add(e),e.select());E(this,V,pn).call(this,{hasSelectedEditor:this.hasSelection})},B(Fu,"TRANSLATE_SMALL",1),B(Fu,"TRANSLATE_BIG",10);let ao=Fu;var De,fs,Vi,rc,ps,Un,oc,gs,Rn,Qs,ko,ms,yr,Zi,ed,Am;const gn=class gn{constructor(t){w(this,Zi);w(this,De,null);w(this,fs,!1);w(this,Vi,null);w(this,rc,null);w(this,ps,null);w(this,Un,null);w(this,oc,!1);w(this,gs,null);w(this,Rn,null);w(this,Qs,null);w(this,ko,null);w(this,ms,!1);b(this,Rn,t),b(this,ms,t._uiManager.useNewAltTextFlow),u(gn,yr)||b(gn,yr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){gn._l10n??(gn._l10n=t)}async render(){const t=b(this,Vi,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=b(this,rc,document.createElement("span"));t.append(e),u(this,ms)?(t.classList.add("new"),t.setAttribute("data-l10n-id",u(gn,yr).missing),e.setAttribute("data-l10n-id",u(gn,yr)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=u(this,Rn)._uiManager._signal;t.addEventListener("contextmenu",ki,{signal:i}),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:i});const s=a=>{a.preventDefault(),u(this,Rn)._uiManager.editAltText(u(this,Rn)),u(this,ms)&&u(this,Rn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,Zi,ed)}})};return t.addEventListener("click",s,{capture:!0,signal:i}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(b(this,oc,!0),s(a))},{signal:i}),await E(this,Zi,Am).call(this),t}finish(){u(this,Vi)&&(u(this,Vi).focus({focusVisible:u(this,oc)}),b(this,oc,!1))}isEmpty(){return u(this,ms)?u(this,De)===null:!u(this,De)&&!u(this,fs)}hasData(){return u(this,ms)?u(this,De)!==null||!!u(this,Qs):this.isEmpty()}get guessedText(){return u(this,Qs)}async setGuessedText(t){u(this,De)===null&&(b(this,Qs,t),b(this,ko,await gn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),E(this,Zi,Am).call(this))}toggleAltTextBadge(t=!1){var e;if(!u(this,ms)||u(this,De)){(e=u(this,gs))==null||e.remove(),b(this,gs,null);return}if(!u(this,gs)){const i=b(this,gs,document.createElement("div"));i.className="noAltTextBadge",u(this,Rn).div.append(i)}u(this,gs).classList.toggle("hidden",!t)}serialize(t){let e=u(this,De);return!t&&u(this,Qs)===e&&(e=u(this,ko)),{altText:e,decorative:u(this,fs),guessedText:u(this,Qs),textWithDisclaimer:u(this,ko)}}get data(){return{altText:u(this,De),decorative:u(this,fs)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:s,cancel:a=!1}){i&&(b(this,Qs,i),b(this,ko,s)),!(u(this,De)===t&&u(this,fs)===e)&&(a||(b(this,De,t),b(this,fs,e)),E(this,Zi,Am).call(this))}toggle(t=!1){u(this,Vi)&&(!t&&u(this,Un)&&(clearTimeout(u(this,Un)),b(this,Un,null)),u(this,Vi).disabled=!t)}shown(){u(this,Rn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,Zi,ed)}})}destroy(){var t,e;(t=u(this,Vi))==null||t.remove(),b(this,Vi,null),b(this,rc,null),b(this,ps,null),(e=u(this,gs))==null||e.remove(),b(this,gs,null)}};De=new WeakMap,fs=new WeakMap,Vi=new WeakMap,rc=new WeakMap,ps=new WeakMap,Un=new WeakMap,oc=new WeakMap,gs=new WeakMap,Rn=new WeakMap,Qs=new WeakMap,ko=new WeakMap,ms=new WeakMap,yr=new WeakMap,Zi=new WeakSet,ed=function(){return u(this,De)&&"added"||u(this,De)===null&&this.guessedText&&"review"||"missing"},Am=async function(){var s,a,r;const t=u(this,Vi);if(!t)return;if(u(this,ms)){if(t.classList.toggle("done",!!u(this,De)),t.setAttribute("data-l10n-id",u(gn,yr)[u(this,Zi,ed)]),(s=u(this,rc))==null||s.setAttribute("data-l10n-id",u(gn,yr)[`${u(this,Zi,ed)}-label`]),!u(this,De)){(a=u(this,ps))==null||a.remove();return}}else{if(!u(this,De)&&!u(this,fs)){t.classList.remove("done"),(r=u(this,ps))==null||r.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=u(this,ps);if(!e){b(this,ps,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${u(this,Rn).id}`;const o=100,l=u(this,Rn)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(u(this,Un)),b(this,Un,null)},{once:!0}),t.addEventListener("mouseenter",()=>{b(this,Un,setTimeout(()=>{b(this,Un,null),u(this,ps).classList.add("show"),u(this,Rn)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),t.addEventListener("mouseleave",()=>{var c;u(this,Un)&&(clearTimeout(u(this,Un)),b(this,Un,null)),(c=u(this,ps))==null||c.classList.remove("show")},{signal:l})}u(this,fs)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=u(this,De)),e.parentNode||t.append(e);const i=u(this,Rn).getElementForAltText();i==null||i.setAttribute("aria-describedby",e.id)},w(gn,yr,null),B(gn,"_l10n",null);let Ry=gn;var lc,Bo,Df,Lf,Of,Pf,Nf,Zs,Io,Js,Fo,ta,oo,DL,LL,OL;const wE=class wE{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:s=null,onPinching:a=null,onPinchEnd:r=null,signal:o}){w(this,oo);w(this,lc);w(this,Bo,!1);w(this,Df,null);w(this,Lf);w(this,Of);w(this,Pf);w(this,Nf);w(this,Zs,null);w(this,Io);w(this,Js,null);w(this,Fo);w(this,ta,null);b(this,lc,t),b(this,Df,i),b(this,Lf,e),b(this,Of,s),b(this,Pf,a),b(this,Nf,r),b(this,Fo,new AbortController),b(this,Io,AbortSignal.any([o,u(this,Fo).signal])),t.addEventListener("touchstart",E(this,oo,DL).bind(this),{passive:!1,signal:u(this,Io)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ns.pixelRatio}destroy(){var t,e;(t=u(this,Fo))==null||t.abort(),b(this,Fo,null),(e=u(this,Zs))==null||e.abort(),b(this,Zs,null)}};lc=new WeakMap,Bo=new WeakMap,Df=new WeakMap,Lf=new WeakMap,Of=new WeakMap,Pf=new WeakMap,Nf=new WeakMap,Zs=new WeakMap,Io=new WeakMap,Js=new WeakMap,Fo=new WeakMap,ta=new WeakMap,oo=new WeakSet,DL=function(t){var s,a,r;if((s=u(this,Lf))!=null&&s.call(this))return;if(t.touches.length===1){if(u(this,Zs))return;const o=b(this,Zs,new AbortController),l=AbortSignal.any([u(this,Io),o.signal]),c=u(this,lc),h={capture:!0,signal:l,passive:!1},d=f=>{var p;f.pointerType==="touch"&&((p=u(this,Zs))==null||p.abort(),b(this,Zs,null))};c.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(de(f),d(f))},h),c.addEventListener("pointerup",d,h),c.addEventListener("pointercancel",d,h);return}if(!u(this,ta)){b(this,ta,new AbortController);const o=AbortSignal.any([u(this,Io),u(this,ta).signal]),l=u(this,lc),c={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",E(this,oo,LL).bind(this),c);const h=E(this,oo,OL).bind(this);l.addEventListener("touchend",h,c),l.addEventListener("touchcancel",h,c),c.capture=!0,l.addEventListener("pointerdown",de,c),l.addEventListener("pointermove",de,c),l.addEventListener("pointercancel",de,c),l.addEventListener("pointerup",de,c),(a=u(this,Of))==null||a.call(this)}if(de(t),t.touches.length!==2||(r=u(this,Df))!=null&&r.call(this)){b(this,Js,null);return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),b(this,Js,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY})},LL=function(t){var T;if(!u(this,Js)||t.touches.length!==2)return;de(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:s,screenY:a}=e,{screenX:r,screenY:o}=i,l=u(this,Js),{touch0X:c,touch0Y:h,touch1X:d,touch1Y:f}=l,p=d-c,y=f-h,m=r-s,S=o-a,g=Math.hypot(m,S)||1,v=Math.hypot(p,y)||1;if(!u(this,Bo)&&Math.abs(v-g)<=wE.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=s,l.touch0Y=a,l.touch1X=r,l.touch1Y=o,!u(this,Bo)){b(this,Bo,!0);return}const A=[(s+r)/2,(a+o)/2];(T=u(this,Pf))==null||T.call(this,A,v,g)},OL=function(t){var e;t.touches.length>=2||(u(this,ta)&&(u(this,ta).abort(),b(this,ta,null),(e=u(this,Nf))==null||e.call(this)),u(this,Js)&&(de(t),b(this,Js,null),b(this,Bo,!1)))};let hf=wE;var Vo,zi,It,uc,vr,kf,zo,Ue,Ho,ea,br,Bf,Uo,jn,If,jo,na,ys,cc,hc,yi,Go,Ff,Vy,Y,pA,Vf,gA,Sm,PL,NL,mA,wm,yA,kL,BL,IL,vA,FL,bA,VL,zL,HL,AA,nd;const it=class it{constructor(t){w(this,Y);w(this,Vo,null);w(this,zi,null);w(this,It,null);w(this,uc,!1);w(this,vr,null);w(this,kf,"");w(this,zo,!1);w(this,Ue,null);w(this,Ho,null);w(this,ea,null);w(this,br,null);w(this,Bf,"");w(this,Uo,!1);w(this,jn,null);w(this,If,!1);w(this,jo,!1);w(this,na,!1);w(this,ys,null);w(this,cc,0);w(this,hc,0);w(this,yi,null);w(this,Go,null);B(this,"isSelected",!1);B(this,"_isCopy",!1);B(this,"_editToolbar",null);B(this,"_initialOptions",Object.create(null));B(this,"_initialData",null);B(this,"_isVisible",!0);B(this,"_uiManager",null);B(this,"_focusEventsAllowed",!0);w(this,Ff,!1);w(this,Vy,it._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:s,pageX:a,pageY:r}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,s],this.pageTranslation=[a,r];const[o,l]=this.parentDimensions;this.x=t.x/o,this.y=t.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=it.prototype._resizeWithKeyboard,e=ao.TRANSLATE_SMALL,i=ao.TRANSLATE_BIG;return ut(this,"_resizerKeyboardManager",new mg([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],it.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return ut(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new bH({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(it._l10n??(it._l10n=t),it._l10nResizer||(it._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),it._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);it._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Rt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,Ff)}set _isDraggable(t){var e;b(this,Ff,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,Vy)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):E(this,Y,nd).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(u(this,Uo)?b(this,Uo,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,s){const[a,r]=this.parentDimensions;[i,s]=this.screenToPageTranslation(i,s),this.x=(t+i)/a,this.y=(e+s)/r,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,s]=this.parentDimensions;this.setAt(t*i,e*s,this.width*i,this.height*s),this._onTranslated()}translate(t,e){E(this,Y,pA).call(this,this.parentDimensions,t,e)}translateInPage(t,e){u(this,jn)||b(this,jn,[this.x,this.y,this.width,this.height]),E(this,Y,pA).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){u(this,jn)||b(this,jn,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[s,a]}=this;if(this.x+=t/s,this.y+=e/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:o}=this;const[l,c]=this.getBaseTranslation();r+=l,o+=c;const{style:h}=i;h.left=`${(100*r).toFixed(2)}%`,h.top=`${(100*o).toFixed(2)}%`,this._onTranslating(r,o),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!u(this,jn)&&(u(this,jn)[0]!==this.x||u(this,jn)[1]!==this.y)}get _hasBeenResized(){return!!u(this,jn)&&(u(this,jn)[2]!==this.width||u(this,jn)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=it,s=i/t,a=i/e;switch(this.rotation){case 90:return[-s,a];case 180:return[s,a];case 270:return[s,-a];default:return[-s,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,s]}=this;let{x:a,y:r,width:o,height:l}=this;if(o*=i,l*=s,a*=i,r*=s,this._mustFixPosition)switch(t){case 0:a=ln(a,0,i-o),r=ln(r,0,s-l);break;case 90:a=ln(a,0,i-l),r=ln(r,o,s);break;case 180:a=ln(a,o,i),r=ln(r,l,s);break;case 270:a=ln(a,l,i),r=ln(r,0,s-o);break}this.x=a/=i,this.y=r/=s;const[c,h]=this.getBaseTranslation();a+=c,r+=h,e.left=`${(100*a).toFixed(2)}%`,e.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return E(i=it,Vf,gA).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return E(i=it,Vf,gA).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){const[i,s]=this.parentDimensions,{style:a}=this.div;a.width=`${(100*t/i).toFixed(2)}%`,u(this,zo)||(a.height=`${(100*e/s).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:i}=t,s=i.endsWith("%"),a=!u(this,zo)&&e.endsWith("%");if(s&&a)return;const[r,o]=this.parentDimensions;s||(t.width=`${(100*parseFloat(i)/r).toFixed(2)}%`),!u(this,zo)&&!a&&(t.height=`${(100*parseFloat(e)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=u(this,It))==null||t.finish()}async addEditToolbar(){return this._editToolbar||u(this,jo)?this._editToolbar:(this._editToolbar=new aA(this),this.div.append(this._editToolbar.render()),u(this,It)&&await this._editToolbar.addAltText(u(this,It)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=u(this,It))==null||t.destroy())}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){u(this,It)||(Ry.initialize(it._l10n),b(this,It,new Ry(this)),u(this,Vo)&&(u(this,It).data=u(this,Vo),b(this,Vo,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=u(this,It))==null?void 0:t.data}set altTextData(t){u(this,It)&&(u(this,It).data=t)}get guessedAltText(){var t;return(t=u(this,It))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=u(this,It))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=u(this,It))==null?void 0:e.serialize(t)}hasAltText(){return!!u(this,It)&&!u(this,It).isEmpty()}hasAltTextData(){var t;return((t=u(this,It))==null?void 0:t.hasData())??!1}render(){var r;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=u(this,uc)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),E(this,Y,bA).call(this);const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[s,a]=this.getInitialTranslation();return this.translate(s,a),vL(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(u(this,Go)||b(this,Go,new hf({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:E(this,Y,kL).bind(this),onPinching:E(this,Y,BL).bind(this),onPinchEnd:E(this,Y,IL).bind(this),signal:this._uiManager._signal}))),(r=this._uiManager._editorUndoBar)==null||r.hide(),t}pointerdown(t){const{isMac:e}=ze.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(b(this,Uo,!0),this._isDraggable){E(this,Y,FL).call(this,t);return}E(this,Y,vA).call(this,t)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){u(this,ys)&&clearTimeout(u(this,ys)),b(this,ys,setTimeout(()=>{var t;b(this,ys,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const s=this.parentScale,[a,r]=this.pageDimensions,[o,l]=this.pageTranslation,c=t/s,h=e/s,d=this.x*a,f=this.y*r,p=this.width*a,y=this.height*r;switch(i){case 0:return[d+c+o,r-f-h-y+l,d+c+p+o,r-f-h+l];case 90:return[d+h+o,r-f+c+l,d+h+y+o,r-f+c+p+l];case 180:return[d-c-p+o,r-f+h+l,d-c+o,r-f+h+y+l];case 270:return[d-h-y+o,r-f-c-p+l,d-h+o,r-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,s,a,r]=t,o=a-i,l=r-s;switch(this.rotation){case 0:return[i,e-r,o,l];case 90:return[i,e-s,l,o];case 180:return[a,e-s,o,l];case 270:return[a,e-r,l,o];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),b(this,jo,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),b(this,jo,!1),!0):!1}isInEditMode(){return u(this,jo)}shouldGetKeyboardEvents(){return u(this,na)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:s}=this.getClientDimensions(),{innerHeight:a,innerWidth:r}=window;return e<r&&s>0&&t<a&&i>0}rebuild(){E(this,Y,bA).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){Rt("An editor must be serializable")}static async deserialize(t,e,i){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i});s.rotation=t.rotation,b(s,Vo,t.accessibilityData),s._isCopy=t.isCopy||!1;const[a,r]=s.pageDimensions,[o,l,c,h]=s.getRectInCurrentCoords(t.rect,r);return s.x=o/a,s.y=l/r,s.width=c/a,s.height=h/r,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=u(this,br))==null||t.abort(),b(this,br,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,ys)&&(clearTimeout(u(this,ys)),b(this,ys,null)),E(this,Y,nd).call(this),this.removeEditToolbar(),u(this,yi)){for(const i of u(this,yi).values())clearTimeout(i);b(this,yi,null)}this.parent=null,(e=u(this,Go))==null||e.destroy(),b(this,Go,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(E(this,Y,PL).call(this),u(this,Ue).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),b(this,ea,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=u(this,Ue).children;if(!u(this,zi)){b(this,zi,Array.from(e));const r=E(this,Y,VL).bind(this),o=E(this,Y,zL).bind(this),l=this._uiManager._signal;for(const c of u(this,zi)){const h=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",r,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",E(this,Y,HL).bind(this,h),{signal:l}),c.setAttribute("data-l10n-id",it._l10nResizer[h])}}const i=u(this,zi)[0];let s=0;for(const r of e){if(r===i)break;s++}const a=(360-this.rotation+this.parentRotation)%360/90*(u(this,zi).length/4);if(a!==s){if(a<s)for(let o=0;o<s-a;o++)u(this,Ue).append(u(this,Ue).firstChild);else if(a>s)for(let o=0;o<a-s;o++)u(this,Ue).firstChild.before(u(this,Ue).lastChild);let r=0;for(const o of e){const c=u(this,zi)[r++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",it._l10nResizer[c])}}E(this,Y,AA).call(this,0),b(this,na,!0),u(this,Ue).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){u(this,na)&&E(this,Y,yA).call(this,u(this,Bf),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){E(this,Y,nd).call(this),this.div.focus()}select(){var t,e,i;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,a;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(e=this._editToolbar)==null||e.show(),(i=u(this,It))==null||i.toggleAltTextBadge(!1)}}unselect(){var t,e,i,s,a;this.isSelected&&(this.isSelected=!1,(t=u(this,Ue))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(a=u(this,It))==null||a.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return u(this,If)}set isEditing(t){b(this,If,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){b(this,zo,!0);const i=t/e,{style:s}=this.div;s.aspectRatio=i,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){u(this,yi)||b(this,yi,new Map);const{action:i}=t;let s=u(this,yi).get(i);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),u(this,yi).delete(i),u(this,yi).size===0&&b(this,yi,null)},it._telemetryTimeout),u(this,yi).set(i,s);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),b(this,uc,!1)}disable(){this.div&&(this.div.tabIndex=-1),b(this,uc,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Vo=new WeakMap,zi=new WeakMap,It=new WeakMap,uc=new WeakMap,vr=new WeakMap,kf=new WeakMap,zo=new WeakMap,Ue=new WeakMap,Ho=new WeakMap,ea=new WeakMap,br=new WeakMap,Bf=new WeakMap,Uo=new WeakMap,jn=new WeakMap,If=new WeakMap,jo=new WeakMap,na=new WeakMap,ys=new WeakMap,cc=new WeakMap,hc=new WeakMap,yi=new WeakMap,Go=new WeakMap,Ff=new WeakMap,Vy=new WeakMap,Y=new WeakSet,pA=function([t,e],i,s){[i,s]=this.screenToPageTranslation(i,s),this.x+=i/t,this.y+=s/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Vf=new WeakSet,gA=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},Sm=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},PL=function(){if(u(this,Ue))return;b(this,Ue,document.createElement("div")),u(this,Ue).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const s=document.createElement("div");u(this,Ue).append(s),s.classList.add("resizer",i),s.setAttribute("data-resizer-name",i),s.addEventListener("pointerdown",E(this,Y,NL).bind(this,i),{signal:e}),s.addEventListener("contextmenu",ki,{signal:e}),s.tabIndex=-1}this.div.prepend(u(this,Ue))},NL=function(t,e){var h;e.preventDefault();const{isMac:i}=ze.platform;if(e.button!==0||e.ctrlKey&&i)return;(h=u(this,It))==null||h.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,b(this,Ho,[e.screenX,e.screenY]);const a=new AbortController,r=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",E(this,Y,yA).bind(this,t),{passive:!0,capture:!0,signal:r}),window.addEventListener("touchmove",de,{passive:!1,signal:r}),window.addEventListener("contextmenu",ki,{signal:r}),b(this,ea,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const c=()=>{var d;a.abort(),this.parent.togglePointerEvents(!0),(d=u(this,It))==null||d.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=o,this.div.style.cursor=l,E(this,Y,wm).call(this)};window.addEventListener("pointerup",c,{signal:r}),window.addEventListener("blur",c,{signal:r})},mA=function(t,e,i,s){this.width=i,this.height=s,this.x=t,this.y=e;const[a,r]=this.parentDimensions;this.setDims(a*i,r*s),this.fixAndSetPosition(),this._onResized()},wm=function(){if(!u(this,ea))return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:s}=u(this,ea);b(this,ea,null);const a=this.x,r=this.y,o=this.width,l=this.height;a===t&&r===e&&o===i&&l===s||this.addCommands({cmd:E(this,Y,mA).bind(this,a,r,o,l),undo:E(this,Y,mA).bind(this,t,e,i,s),mustExec:!0})},yA=function(t,e){const[i,s]=this.parentDimensions,a=this.x,r=this.y,o=this.width,l=this.height,c=it.MIN_SIZE/i,h=it.MIN_SIZE/s,d=E(this,Y,Sm).call(this,this.rotation),f=(L,P)=>[d[0]*L+d[2]*P,d[1]*L+d[3]*P],p=E(this,Y,Sm).call(this,360-this.rotation),y=(L,P)=>[p[0]*L+p[2]*P,p[1]*L+p[3]*P];let m,S,g=!1,v=!1;switch(t){case"topLeft":g=!0,m=(L,P)=>[0,0],S=(L,P)=>[L,P];break;case"topMiddle":m=(L,P)=>[L/2,0],S=(L,P)=>[L/2,P];break;case"topRight":g=!0,m=(L,P)=>[L,0],S=(L,P)=>[0,P];break;case"middleRight":v=!0,m=(L,P)=>[L,P/2],S=(L,P)=>[0,P/2];break;case"bottomRight":g=!0,m=(L,P)=>[L,P],S=(L,P)=>[0,0];break;case"bottomMiddle":m=(L,P)=>[L/2,P],S=(L,P)=>[L/2,0];break;case"bottomLeft":g=!0,m=(L,P)=>[0,P],S=(L,P)=>[L,0];break;case"middleLeft":v=!0,m=(L,P)=>[0,P/2],S=(L,P)=>[L,P/2];break}const A=m(o,l),T=S(o,l);let x=f(...T);const _=it._round(a+x[0]),C=it._round(r+x[1]);let M=1,D=1,O,N;if(e.fromKeyboard)({deltaX:O,deltaY:N}=e);else{const{screenX:L,screenY:P}=e,[I,Q]=u(this,Ho);[O,N]=this.screenToPageTranslation(L-I,P-Q),u(this,Ho)[0]=L,u(this,Ho)[1]=P}if([O,N]=y(O/i,N/s),g){const L=Math.hypot(o,l);M=D=Math.max(Math.min(Math.hypot(T[0]-A[0]-O,T[1]-A[1]-N)/L,1/o,1/l),c/o,h/l)}else v?M=ln(Math.abs(T[0]-A[0]-O),c,1)/o:D=ln(Math.abs(T[1]-A[1]-N),h,1)/l;const q=it._round(o*M),$=it._round(l*D);x=f(...S(q,$));const X=_-x[0],Z=C-x[1];u(this,jn)||b(this,jn,[this.x,this.y,this.width,this.height]),this.width=q,this.height=$,this.x=X,this.y=Z,this.setDims(i*q,s*$),this.fixAndSetPosition(),this._onResizing()},kL=function(){var t;b(this,ea,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=u(this,It))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},BL=function(t,e,i){let a=.7*(i/e)+1-.7;if(a===1)return;const r=E(this,Y,Sm).call(this,this.rotation),o=(_,C)=>[r[0]*_+r[2]*C,r[1]*_+r[3]*C],[l,c]=this.parentDimensions,h=this.x,d=this.y,f=this.width,p=this.height,y=it.MIN_SIZE/l,m=it.MIN_SIZE/c;a=Math.max(Math.min(a,1/f,1/p),y/f,m/p);const S=it._round(f*a),g=it._round(p*a);if(S===f&&g===p)return;u(this,jn)||b(this,jn,[h,d,f,p]);const v=o(f/2,p/2),A=it._round(h+v[0]),T=it._round(d+v[1]),x=o(S/2,g/2);this.x=A-x[0],this.y=T-x[1],this.width=S,this.height=g,this.setDims(l*S,c*g),this.fixAndSetPosition(),this._onResizing()},IL=function(){var t;(t=u(this,It))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),E(this,Y,wm).call(this)},vA=function(t){const{isMac:e}=ze.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},FL=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const s=new AbortController,a=this._uiManager.combinedSignal(s),r={capture:!0,passive:!1,signal:a},o=c=>{s.abort(),b(this,vr,null),b(this,Uo,!1),this._uiManager.endDragSession()||E(this,Y,vA).call(this,c),i&&this._onStopDragging()};e&&(b(this,cc,t.clientX),b(this,hc,t.clientY),b(this,vr,t.pointerId),b(this,kf,t.pointerType),window.addEventListener("pointermove",c=>{i||(i=!0,this._onStartDragging());const{clientX:h,clientY:d,pointerId:f}=c;if(f!==u(this,vr)){de(c);return}const[p,y]=this.screenToPageTranslation(h-u(this,cc),d-u(this,hc));b(this,cc,h),b(this,hc,d),this._uiManager.dragSelectedEditors(p,y)},r),window.addEventListener("touchmove",de,r),window.addEventListener("pointerdown",c=>{c.pointerType===u(this,kf)&&(u(this,Go)||c.isPrimary)&&o(c),de(c)},r));const l=c=>{if(!u(this,vr)||u(this,vr)===c.pointerId){o(c);return}de(c)};window.addEventListener("pointerup",l,{signal:a}),window.addEventListener("blur",l,{signal:a})},bA=function(){if(u(this,br)||!this.div)return;b(this,br,new AbortController);const t=this._uiManager.combinedSignal(u(this,br));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},VL=function(t){it._resizerKeyboardManager.exec(this,t)},zL=function(t){var e;u(this,na)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==u(this,Ue)&&E(this,Y,nd).call(this)},HL=function(t){b(this,Bf,u(this,na)?t:"")},AA=function(t){if(u(this,zi))for(const e of u(this,zi))e.tabIndex=t},nd=function(){b(this,na,!1),E(this,Y,AA).call(this,-1),E(this,Y,wm).call(this)},w(it,Vf),B(it,"_l10n",null),B(it,"_l10nResizer",null),B(it,"_borderLineWidth",-1),B(it,"_colorManager",new oA),B(it,"_zIndex",1),B(it,"_telemetryTimeout",1e3);let kt=it;class bH extends kt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const xx=3285377520,di=4294901760,os=65535;class UL{constructor(t){this.h1=t?t&4294967295:xx,this.h2=t?t&4294967295:xx}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let m=0,S=t.length;m<S;m++){const g=t.charCodeAt(m);g<=255?e[i++]=g:(e[i++]=g>>>8,e[i++]=g&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=i>>2,a=i-s*4,r=new Uint32Array(e.buffer,0,s);let o=0,l=0,c=this.h1,h=this.h2;const d=3432918353,f=461845907,p=d&os,y=f&os;for(let m=0;m<s;m++)m&1?(o=r[m],o=o*d&di|o*p&os,o=o<<15|o>>>17,o=o*f&di|o*y&os,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=r[m],l=l*d&di|l*p&os,l=l<<15|l>>>17,l=l*f&di|l*y&os,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(o=0,a){case 3:o^=e[s*4+2]<<16;case 2:o^=e[s*4+1]<<8;case 1:o^=e[s*4],o=o*d&di|o*p&os,o=o<<15|o>>>17,o=o*f&di|o*y&os,s&1?c^=o:h^=o}this.h1=c,this.h2=h}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&di|t*36045&os,e=e*4283543511&di|((e<<16|t>>>16)*2950163797&di)>>>16,t^=e>>>1,t=t*444984403&di|t*60499&os,e=e*3301882366&di|((e<<16|t>>>16)*3120437893&di)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const SA=Object.freeze({map:null,hash:"",transfer:void 0});var qo,Xo,je,zy,jL;class hE{constructor(){w(this,zy);w(this,qo,!1);w(this,Xo,null);w(this,je,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=u(this,je).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return u(this,je).get(t)}remove(t){if(u(this,je).delete(t),u(this,je).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of u(this,je).values())if(e instanceof kt)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=u(this,je).get(t);let s=!1;if(i!==void 0)for(const[a,r]of Object.entries(e))i[a]!==r&&(s=!0,i[a]=r);else s=!0,u(this,je).set(t,e);s&&E(this,zy,jL).call(this),e instanceof kt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return u(this,je).has(t)}get size(){return u(this,je).size}resetModified(){u(this,qo)&&(b(this,qo,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new GL(this)}get serializable(){if(u(this,je).size===0)return SA;const t=new Map,e=new UL,i=[],s=Object.create(null);let a=!1;for(const[r,o]of u(this,je)){const l=o instanceof kt?o.serialize(!1,s):o;l&&(t.set(r,l),e.update(`${r}:${JSON.stringify(l)}`),a||(a=!!l.bitmap))}if(a)for(const r of t.values())r.bitmap&&i.push(r.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:SA}get editorStats(){let t=null;const e=new Map;for(const i of u(this,je).values()){if(!(i instanceof kt))continue;const s=i.telemetryFinalData;if(!s)continue;const{type:a}=s;e.has(a)||e.set(a,Object.getPrototypeOf(i).constructor),t||(t=Object.create(null));const r=t[a]||(t[a]=new Map);for(const[o,l]of Object.entries(s)){if(o==="type")continue;let c=r.get(o);c||(c=new Map,r.set(o,c));const h=c.get(l)??0;c.set(l,h+1)}}for(const[i,s]of e)t[i]=s.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){b(this,Xo,null)}get modifiedIds(){if(u(this,Xo))return u(this,Xo);const t=[];for(const e of u(this,je).values())!(e instanceof kt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return b(this,Xo,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return u(this,je).entries()}}qo=new WeakMap,Xo=new WeakMap,je=new WeakMap,zy=new WeakSet,jL=function(){u(this,qo)||(b(this,qo,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var zf;class GL extends hE{constructor(e){super();w(this,zf);const{map:i,hash:s,transfer:a}=e.serializable,r=structuredClone(i,a?{transfer:a}:null);b(this,zf,{map:r,hash:s,transfer:a})}get print(){Rt("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,zf)}get modifiedIds(){return ut(this,"modifiedIds",{ids:new Set,hash:""})}}zf=new WeakMap;var dc;class AH{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){w(this,dc,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),u(this,dc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||u(this,dc).has(t.loadedName))){if(ve(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:a,style:r}=t,o=new FontFace(s,a,r);this.addNativeFontFace(o);try{await o.load(),u(this,dc).add(s),i==null||i(t)}catch{tt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Rt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(s){throw tt(`Failed to load font '${i.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const s=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return ut(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return ut(this,"isSyncFontLoadingSupported",bn||ze.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(ve(!s.done,"completeRequest() cannot be called twice."),s.done=!0;i.length>0&&i[0].done;){const a=i.shift();setTimeout(a.callback,0)}}const{loadingRequests:i}=this,s={done:!1,complete:e,callback:t};return i.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ut(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(T,x){return T.charCodeAt(x)<<24|T.charCodeAt(x+1)<<16|T.charCodeAt(x+2)<<8|T.charCodeAt(x+3)&255}function s(T,x,_,C){const M=T.substring(0,x),D=T.substring(x+_);return M+C+D}let a,r;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function h(T,x){if(++c>30){tt("Load test font never loaded."),x();return}if(l.font="30px "+T,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){x();return}setTimeout(h.bind(null,T,x))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=s(f,976,d.length,d);const y=16,m=1482184792;let S=i(f,y);for(a=0,r=d.length-3;a<r;a+=4)S=S-m+i(d,a)|0;a<d.length&&(S=S-m+i(d+"XXX",a)|0),f=s(f,y,4,lH(S));const g=`url(data:font/opentype;base64,${btoa(f)});`,v=`@font-face {font-family:"${d}";src:${g}}`;this.insertRule(v);const A=this._document.createElement("div");A.style.visibility="hidden",A.style.width=A.style.height="10px",A.style.position="absolute",A.style.top=A.style.left="0px";for(const T of[t.loadedName,d]){const x=this._document.createElement("span");x.textContent="Hi",x.style.fontFamily=T,A.append(x)}this._document.body.append(A),h(d,()=>{A.remove(),e.complete()})}}dc=new WeakMap;class SH{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this._inspectFont=e}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${oL(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let s;try{s=t.get(i)}catch(r){tt(`getPathGenerator - ignoring character: "${r}".`)}const a=new Path2D(s||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=a}}function wH(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(bn)return n;const t=URL.parse(n,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function EH(n){if(bn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return fg(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Gg(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const wA=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,TH=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",qL=dH.bind(null,wA,TH);var ia,Hy;class xH{constructor(){w(this,ia,new Map);w(this,Hy,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};u(this,Hy).then(()=>{for(const[s]of u(this,ia))s.call(this,i)})}addEventListener(t,e,i=null){let s=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:a}=i;if(a.aborted){tt("LoopbackPort - cannot use an `aborted` signal.");return}const r=()=>this.removeEventListener(t,e);s=()=>a.removeEventListener("abort",r),a.addEventListener("abort",r)}u(this,ia).set(e,s)}removeEventListener(t,e){const i=u(this,ia).get(e);i==null||i(),u(this,ia).delete(e)}terminate(){for(const[,t]of u(this,ia))t==null||t();u(this,ia).clear()}}ia=new WeakMap,Hy=new WeakMap;const qg={DATA:1,ERROR:2},ge={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function _x(){}function _n(n){if(n instanceof Ua||n instanceof _y||n instanceof wx||n instanceof cf||n instanceof P0)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Rt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Ua(n.message);case"InvalidPDFException":return new _y(n.message);case"PasswordException":return new wx(n.message,n.code);case"ResponseException":return new cf(n.message,n.status,n.missing);case"UnknownErrorException":return new P0(n.message,n.details)}return new P0(n.message,n.toString())}var fc,Oi,XL,YL,$L,Em;class id{constructor(t,e,i){w(this,Oi);w(this,fc,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",E(this,Oi,XL).bind(this),{signal:u(this,fc).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const s=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[s]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},i)}catch(r){a.reject(r)}return a.promise}sendWithStream(t,e,i,s){const a=this.streamId++,r=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const h=Promise.withResolvers();return this.streamControllers[a]={controller:c,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:r,targetName:o,action:t,streamId:a,data:e,desiredSize:c.desiredSize},s),h.promise},pull:c=>{const h=Promise.withResolvers();return this.streamControllers[a].pullCall=h,l.postMessage({sourceName:r,targetName:o,stream:ge.PULL,streamId:a,desiredSize:c.desiredSize}),h.promise},cancel:c=>{ve(c instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[a].cancelCall=h,this.streamControllers[a].isClosed=!0,l.postMessage({sourceName:r,targetName:o,stream:ge.CANCEL,streamId:a,reason:_n(c)}),h.promise}},i)}destroy(){var t;(t=u(this,fc))==null||t.abort(),b(this,fc,null)}}fc=new WeakMap,Oi=new WeakSet,XL=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){E(this,Oi,$L).call(this,t);return}if(t.callback){const i=t.callbackId,s=this.callbackCapabilities[i];if(!s)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===qg.DATA)s.resolve(t.data);else if(t.callback===qg.ERROR)s.reject(_n(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,s=t.sourceName,a=this.comObj;Promise.try(e,t.data).then(function(r){a.postMessage({sourceName:i,targetName:s,callback:qg.DATA,callbackId:t.callbackId,data:r})},function(r){a.postMessage({sourceName:i,targetName:s,callback:qg.ERROR,callbackId:t.callbackId,reason:_n(r)})});return}if(t.streamId){E(this,Oi,YL).call(this,t);return}e(t.data)},YL=function(t){const e=t.streamId,i=this.sourceName,s=t.sourceName,a=this.comObj,r=this,o=this.actionHandler[t.action],l={enqueue(c,h=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=h,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:i,targetName:s,stream:ge.ENQUEUE,streamId:e,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:i,targetName:s,stream:ge.CLOSE,streamId:e}),delete r.streamSinks[e])},error(c){ve(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:i,targetName:s,stream:ge.ERROR,streamId:e,reason:_n(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[e]=l,Promise.try(o,t.data,l).then(function(){a.postMessage({sourceName:i,targetName:s,stream:ge.START_COMPLETE,streamId:e,success:!0})},function(c){a.postMessage({sourceName:i,targetName:s,stream:ge.START_COMPLETE,streamId:e,reason:_n(c)})})},$L=function(t){const e=t.streamId,i=this.sourceName,s=t.sourceName,a=this.comObj,r=this.streamControllers[e],o=this.streamSinks[e];switch(t.stream){case ge.START_COMPLETE:t.success?r.startCall.resolve():r.startCall.reject(_n(t.reason));break;case ge.PULL_COMPLETE:t.success?r.pullCall.resolve():r.pullCall.reject(_n(t.reason));break;case ge.PULL:if(!o){a.postMessage({sourceName:i,targetName:s,stream:ge.PULL_COMPLETE,streamId:e,success:!0});break}o.desiredSize<=0&&t.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=t.desiredSize,Promise.try(o.onPull||_x).then(function(){a.postMessage({sourceName:i,targetName:s,stream:ge.PULL_COMPLETE,streamId:e,success:!0})},function(c){a.postMessage({sourceName:i,targetName:s,stream:ge.PULL_COMPLETE,streamId:e,reason:_n(c)})});break;case ge.ENQUEUE:if(ve(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(t.chunk);break;case ge.CLOSE:if(ve(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),E(this,Oi,Em).call(this,r,e);break;case ge.ERROR:ve(r,"error should have stream controller"),r.controller.error(_n(t.reason)),E(this,Oi,Em).call(this,r,e);break;case ge.CANCEL_COMPLETE:t.success?r.cancelCall.resolve():r.cancelCall.reject(_n(t.reason)),E(this,Oi,Em).call(this,r,e);break;case ge.CANCEL:if(!o)break;const l=_n(t.reason);Promise.try(o.onCancel||_x,l).then(function(){a.postMessage({sourceName:i,targetName:s,stream:ge.CANCEL_COMPLETE,streamId:e,success:!0})},function(c){a.postMessage({sourceName:i,targetName:s,stream:ge.CANCEL_COMPLETE,streamId:e,reason:_n(c)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},Em=async function(t,e){var i,s,a;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(s=t.pullCall)==null?void 0:s.promise,(a=t.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[e]};var Hf;class KL{constructor({enableHWA:t=!1}){w(this,Hf,!1);b(this,Hf,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!u(this,Hf)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Rt("Abstract method `_createCanvas` called.")}}Hf=new WeakMap;class _H extends KL{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class WL{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Rt("Abstract method `_fetch` called.")}}class Cx extends WL{async _fetch(t){const e=await Dh(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):fg(e)}}class QL{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,s,a){return"none"}destroy(t=!1){}}var Yo,pc,sa,aa,an,$o,Ko,z,nn,sd,fu,Tm,pu,ZL,EA,gu,ad,rd,TA,od;class CH extends QL{constructor({docId:e,ownerDocument:i=globalThis.document}){super();w(this,z);w(this,Yo);w(this,pc);w(this,sa);w(this,aa);w(this,an);w(this,$o);w(this,Ko,0);b(this,aa,e),b(this,an,i)}addFilter(e){if(!e)return"none";let i=u(this,z,nn).get(e);if(i)return i;const[s,a,r]=E(this,z,Tm).call(this,e),o=e.length===1?s:`${s}${a}${r}`;if(i=u(this,z,nn).get(o),i)return u(this,z,nn).set(e,i),i;const l=`g_${u(this,aa)}_transfer_map_${fn(this,Ko)._++}`,c=E(this,z,pu).call(this,l);u(this,z,nn).set(e,c),u(this,z,nn).set(o,c);const h=E(this,z,gu).call(this,l);return E(this,z,rd).call(this,s,a,r,h),c}addHCMFilter(e,i){var y;const s=`${e}-${i}`,a="base";let r=u(this,z,sd).get(a);if((r==null?void 0:r.key)===s||(r?((y=r.filter)==null||y.remove(),r.key=s,r.url="none",r.filter=null):(r={key:s,url:"none",filter:null},u(this,z,sd).set(a,r)),!e||!i))return r.url;const o=E(this,z,od).call(this,e);e=G.makeHexColor(...o);const l=E(this,z,od).call(this,i);if(i=G.makeHexColor(...l),u(this,z,fu).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return r.url;const c=new Array(256);for(let m=0;m<=255;m++){const S=m/255;c[m]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const h=c.join(","),d=`g_${u(this,aa)}_hcm_filter`,f=r.filter=E(this,z,gu).call(this,d);E(this,z,rd).call(this,h,h,h,f),E(this,z,EA).call(this,f);const p=(m,S)=>{const g=o[m]/255,v=l[m]/255,A=new Array(S+1);for(let T=0;T<=S;T++)A[T]=g+T/S*(v-g);return A.join(",")};return E(this,z,rd).call(this,p(0,5),p(1,5),p(2,5),f),r.url=E(this,z,pu).call(this,d),r.url}addAlphaFilter(e){let i=u(this,z,nn).get(e);if(i)return i;const[s]=E(this,z,Tm).call(this,[e]),a=`alpha_${s}`;if(i=u(this,z,nn).get(a),i)return u(this,z,nn).set(e,i),i;const r=`g_${u(this,aa)}_alpha_map_${fn(this,Ko)._++}`,o=E(this,z,pu).call(this,r);u(this,z,nn).set(e,o),u(this,z,nn).set(a,o);const l=E(this,z,gu).call(this,r);return E(this,z,TA).call(this,s,l),o}addLuminosityFilter(e){let i=u(this,z,nn).get(e||"luminosity");if(i)return i;let s,a;if(e?([s]=E(this,z,Tm).call(this,[e]),a=`luminosity_${s}`):a="luminosity",i=u(this,z,nn).get(a),i)return u(this,z,nn).set(e,i),i;const r=`g_${u(this,aa)}_luminosity_map_${fn(this,Ko)._++}`,o=E(this,z,pu).call(this,r);u(this,z,nn).set(e,o),u(this,z,nn).set(a,o);const l=E(this,z,gu).call(this,r);return E(this,z,ZL).call(this,l),e&&E(this,z,TA).call(this,s,l),o}addHighlightHCMFilter(e,i,s,a,r){var v;const o=`${i}-${s}-${a}-${r}`;let l=u(this,z,sd).get(e);if((l==null?void 0:l.key)===o||(l?((v=l.filter)==null||v.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},u(this,z,sd).set(e,l)),!i||!s))return l.url;const[c,h]=[i,s].map(E(this,z,od).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[p,y]=[a,r].map(E(this,z,od).bind(this));f<d&&([d,f,p,y]=[f,d,y,p]),u(this,z,fu).style.color="";const m=(A,T,x)=>{const _=new Array(256),C=(f-d)/x,M=A/255,D=(T-A)/(255*x);let O=0;for(let N=0;N<=x;N++){const q=Math.round(d+N*C),$=M+N*D;for(let X=O;X<=q;X++)_[X]=$;O=q+1}for(let N=O;N<256;N++)_[N]=_[O-1];return _.join(",")},S=`g_${u(this,aa)}_hcm_${e}_filter`,g=l.filter=E(this,z,gu).call(this,S);return E(this,z,EA).call(this,g),E(this,z,rd).call(this,m(p[0],y[0],5),m(p[1],y[1],5),m(p[2],y[2],5),g),l.url=E(this,z,pu).call(this,S),l.url}destroy(e=!1){var i,s,a,r;e&&((i=u(this,$o))!=null&&i.size)||((s=u(this,sa))==null||s.parentNode.parentNode.remove(),b(this,sa,null),(a=u(this,pc))==null||a.clear(),b(this,pc,null),(r=u(this,$o))==null||r.clear(),b(this,$o,null),b(this,Ko,0))}}Yo=new WeakMap,pc=new WeakMap,sa=new WeakMap,aa=new WeakMap,an=new WeakMap,$o=new WeakMap,Ko=new WeakMap,z=new WeakSet,nn=function(){return u(this,pc)||b(this,pc,new Map)},sd=function(){return u(this,$o)||b(this,$o,new Map)},fu=function(){if(!u(this,sa)){const e=u(this,an).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const s=u(this,an).createElementNS(js,"svg");s.setAttribute("width",0),s.setAttribute("height",0),b(this,sa,u(this,an).createElementNS(js,"defs")),e.append(s),s.append(u(this,sa)),u(this,an).body.append(e)}return u(this,sa)},Tm=function(e){if(e.length===1){const c=e[0],h=new Array(256);for(let f=0;f<256;f++)h[f]=c[f]/255;const d=h.join(",");return[d,d,d]}const[i,s,a]=e,r=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)r[c]=i[c]/255,o[c]=s[c]/255,l[c]=a[c]/255;return[r.join(","),o.join(","),l.join(",")]},pu=function(e){if(u(this,Yo)===void 0){b(this,Yo,"");const i=u(this,an).URL;i!==u(this,an).baseURI&&(gg(i)?tt('#createUrl: ignore "data:"-URL for performance reasons.'):b(this,Yo,oE(i,"")))}return`url(${u(this,Yo)}#${e})`},ZL=function(e){const i=u(this,an).createElementNS(js,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},EA=function(e){const i=u(this,an).createElementNS(js,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},gu=function(e){const i=u(this,an).createElementNS(js,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),u(this,z,fu).append(i),i},ad=function(e,i,s){const a=u(this,an).createElementNS(js,i);a.setAttribute("type","discrete"),a.setAttribute("tableValues",s),e.append(a)},rd=function(e,i,s,a){const r=u(this,an).createElementNS(js,"feComponentTransfer");a.append(r),E(this,z,ad).call(this,r,"feFuncR",e),E(this,z,ad).call(this,r,"feFuncG",i),E(this,z,ad).call(this,r,"feFuncB",s)},TA=function(e,i){const s=u(this,an).createElementNS(js,"feComponentTransfer");i.append(s),E(this,z,ad).call(this,s,"feFuncA",e)},od=function(e){return u(this,z,fu).style.color=e,cE(getComputedStyle(u(this,z,fu)).getPropertyValue("color"))};class JL{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Rt("Abstract method `_fetch` called.")}}class Rx extends JL{async _fetch(t){const e=await Dh(t,"arraybuffer");return new Uint8Array(e)}}class t2{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Rt("Abstract method `_fetch` called.")}}class Mx extends t2{async _fetch(t){const e=await Dh(t,"arraybuffer");return new Uint8Array(e)}}bn&&tt("Please use the `legacy` build in Node.js environments.");async function dE(n){const e=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(e)}class RH extends QL{}class MH extends KL{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class DH extends WL{async _fetch(t){return dE(t)}}class LH extends JL{async _fetch(t){return dE(t)}}class OH extends t2{async _fetch(t){return dE(t)}}const $e={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function xA(n,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,i),n.clip(s)}class fE{isModifyingCurrentTransform(){return!1}getPattern(){Rt("Abstract method `getPattern` called.")}}class PH extends fE{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,s){let a;if(s===$e.STROKE||s===$e.FILL){const r=e.current.getClippedPathBoundingBox(s,Qt(t))||[0,0,0,0],o=Math.ceil(r[2]-r[0])||1,l=Math.ceil(r[3]-r[1])||1,c=e.cachedCanvases.getCanvas("pattern",o,l),h=c.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-r[0],-r[1]),i=G.transform(i,[1,0,0,1,r[0],r[1]]),h.transform(...e.baseTransform),this.matrix&&h.transform(...this.matrix),xA(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),a=t.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(i);a.setTransform(d)}else xA(t,this._bbox),a=this._createGradient(t);return a}}function B0(n,t,e,i,s,a,r,o){const l=t.coords,c=t.colors,h=n.data,d=n.width*4;let f;l[e+1]>l[i+1]&&(f=e,e=i,i=f,f=a,a=r,r=f),l[i+1]>l[s+1]&&(f=i,i=s,s=f,f=r,r=o,o=f),l[e+1]>l[i+1]&&(f=e,e=i,i=f,f=a,a=r,r=f);const p=(l[e]+t.offsetX)*t.scaleX,y=(l[e+1]+t.offsetY)*t.scaleY,m=(l[i]+t.offsetX)*t.scaleX,S=(l[i+1]+t.offsetY)*t.scaleY,g=(l[s]+t.offsetX)*t.scaleX,v=(l[s+1]+t.offsetY)*t.scaleY;if(y>=v)return;const A=c[a],T=c[a+1],x=c[a+2],_=c[r],C=c[r+1],M=c[r+2],D=c[o],O=c[o+1],N=c[o+2],q=Math.round(y),$=Math.round(v);let X,Z,L,P,I,Q,nt,Jt;for(let gt=q;gt<=$;gt++){if(gt<S){const mt=gt<y?0:(y-gt)/(y-S);X=p-(p-m)*mt,Z=A-(A-_)*mt,L=T-(T-C)*mt,P=x-(x-M)*mt}else{let mt;gt>v?mt=1:S===v?mt=0:mt=(S-gt)/(S-v),X=m-(m-g)*mt,Z=_-(_-D)*mt,L=C-(C-O)*mt,P=M-(M-N)*mt}let ht;gt<y?ht=0:gt>v?ht=1:ht=(y-gt)/(y-v),I=p-(p-g)*ht,Q=A-(A-D)*ht,nt=T-(T-O)*ht,Jt=x-(x-N)*ht;const zt=Math.round(Math.min(X,I)),Ot=Math.round(Math.max(X,I));let pe=d*gt+zt*4;for(let mt=zt;mt<=Ot;mt++)ht=(X-mt)/(X-I),ht<0?ht=0:ht>1&&(ht=1),h[pe++]=Z-(Z-Q)*ht|0,h[pe++]=L-(L-nt)*ht|0,h[pe++]=P-(P-Jt)*ht|0,h[pe++]=255}}function NH(n,t,e){const i=t.coords,s=t.colors;let a,r;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(i.length/o)-1,c=o-1;for(a=0;a<l;a++){let h=a*o;for(let d=0;d<c;d++,h++)B0(n,e,i[h],i[h+1],i[h+o],s[h],s[h+1],s[h+o]),B0(n,e,i[h+o+1],i[h+1],i[h+o],s[h+o+1],s[h+1],s[h+o])}break;case"triangles":for(a=0,r=i.length;a<r;a+=3)B0(n,e,i[a],i[a+1],i[a+2],s[a],s[a+1],s[a+2]);break;default:throw new Error("illegal figure")}}class kH extends fE{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,h=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*t[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(h*t[1]*1.1)),3e3),p=c/d,y=h/f,m={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/p,scaleY:1/y},S=d+2*2,g=f+2*2,v=i.getCanvas("mesh",S,g),A=v.context,T=A.createImageData(d,f);if(e){const _=T.data;for(let C=0,M=_.length;C<M;C+=4)_[C]=e[0],_[C+1]=e[1],_[C+2]=e[2],_[C+3]=255}for(const _ of this._figures)NH(T,_,m);return A.putImageData(T,2,2),{canvas:v.canvas,offsetX:o-2*p,offsetY:l-2*y,scaleX:p,scaleY:y}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,s){xA(t,this._bbox);const a=new Float32Array(2);if(s===$e.SHADING)G.singularValueDecompose2dScale(Qt(t),a);else if(this.matrix){G.singularValueDecompose2dScale(this.matrix,a);const[o,l]=a;G.singularValueDecompose2dScale(e.baseTransform,a),a[0]*=o,a[1]*=l}else G.singularValueDecompose2dScale(e.baseTransform,a);const r=this._createMeshCanvas(a,s===$e.SHADING?null:this._background,e.cachedCanvases);return s!==$e.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(r.offsetX,r.offsetY),t.scale(r.scaleX,r.scaleY),t.createPattern(r.canvas,"no-repeat")}}class BH extends fE{getPattern(){return"hotpink"}}function IH(n){switch(n[0]){case"RadialAxial":return new PH(n);case"Mesh":return new kH(n);case"Dummy":return new BH}throw new Error(`Unknown IR type: ${n[0]}`)}const Dx={COLORED:1,UNCOLORED:2},Uy=class Uy{constructor(t,e,i,s){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(t){const{bbox:e,operatorList:i,paintType:s,tilingType:a,color:r,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),Tv("TilingType: "+a);const h=e[0],d=e[1],f=e[2],p=e[3],y=f-h,m=p-d,S=new Float32Array(2);G.singularValueDecompose2dScale(this.matrix,S);const[g,v]=S;G.singularValueDecompose2dScale(this.baseTransform,S);const A=g*S[0],T=v*S[1];let x=y,_=m,C=!1,M=!1;const D=Math.ceil(l*A),O=Math.ceil(c*T),N=Math.ceil(y*A),q=Math.ceil(m*T);D>=N?x=l:C=!0,O>=q?_=c:M=!0;const $=this.getSizeAndScale(x,this.ctx.canvas.width,A),X=this.getSizeAndScale(_,this.ctx.canvas.height,T),Z=t.cachedCanvases.getCanvas("pattern",$.size,X.size),L=Z.context,P=o.createCanvasGraphics(L);if(P.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(P,s,r),L.translate(-$.scale*h,-X.scale*d),P.transform($.scale,0,0,X.scale,0,0),L.save(),this.clipBbox(P,h,d,f,p),P.baseTransform=Qt(P.ctx),P.executeOperatorList(i),P.endDrawing(),L.restore(),C||M){const I=Z.canvas;C&&(x=l),M&&(_=c);const Q=this.getSizeAndScale(x,this.ctx.canvas.width,A),nt=this.getSizeAndScale(_,this.ctx.canvas.height,T),Jt=Q.size,gt=nt.size,ht=t.cachedCanvases.getCanvas("pattern-workaround",Jt,gt),zt=ht.context,Ot=C?Math.floor(y/l):0,pe=M?Math.floor(m/c):0;for(let mt=0;mt<=Ot;mt++)for(let Je=0;Je<=pe;Je++)zt.drawImage(I,Jt*mt,gt*Je,Jt,gt,0,0,Jt,gt);return{canvas:ht.canvas,scaleX:Q.scale,scaleY:nt.scale,offsetX:h,offsetY:d}}return{canvas:Z.canvas,scaleX:$.scale,scaleY:X.scale,offsetX:h,offsetY:d}}getSizeAndScale(t,e,i){const s=Math.max(Uy.MAX_PATTERN_SIZE,e);let a=Math.ceil(t*i);return a>=s?a=s:i=a/t,{scale:i,size:a}}clipBbox(t,e,i,s,a){const r=s-e,o=a-i;t.ctx.rect(e,i,r,o),G.axialAlignedBoundingBox([e,i,s,a],Qt(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const s=t.ctx,a=t.current;switch(e){case Dx.COLORED:const{fillStyle:r,strokeStyle:o}=this.ctx;s.fillStyle=a.fillColor=r,s.strokeStyle=a.strokeColor=o;break;case Dx.UNCOLORED:s.fillStyle=s.strokeStyle=i,a.fillColor=a.strokeColor=i;break;default:throw new oH(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,s){let a=i;s!==$e.SHADING&&(a=G.transform(a,e.baseTransform),this.matrix&&(a=G.transform(a,this.matrix)));const r=this.createPatternCanvas(e);let o=new DOMMatrix(a);o=o.translate(r.offsetX,r.offsetY),o=o.scale(1/r.scaleX,1/r.scaleY);const l=t.createPattern(r.canvas,"repeat");return l.setTransform(o),l}};B(Uy,"MAX_PATTERN_SIZE",3e3);let _A=Uy;function FH({src:n,srcPos:t=0,dest:e,width:i,height:s,nonBlackColor:a=4294967295,inverseDecode:r=!1}){const o=ze.isLittleEndian?4278190080:255,[l,c]=r?[a,o]:[o,a],h=i>>3,d=i&7,f=n.length;e=new Uint32Array(e.buffer);let p=0;for(let y=0;y<s;y++){for(const S=t+h;t<S;t++){const g=t<f?n[t]:255;e[p++]=g&128?c:l,e[p++]=g&64?c:l,e[p++]=g&32?c:l,e[p++]=g&16?c:l,e[p++]=g&8?c:l,e[p++]=g&4?c:l,e[p++]=g&2?c:l,e[p++]=g&1?c:l}if(d===0)continue;const m=t<f?n[t++]:255;for(let S=0;S<d;S++)e[p++]=m&1<<7-S?c:l}return{srcPos:t,destPos:p}}const Lx=16,Ox=100,VH=15,Px=10,Nn=16,I0=new DOMMatrix,ni=new Float32Array(2),Iu=new Float32Array([1/0,1/0,-1/0,-1/0]);function zH(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},n.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},n.transform=function(e,i,s,a,r,o){t.transform(e,i,s,a,r,o),this.__originalTransform(e,i,s,a,r,o)},n.setTransform=function(e,i,s,a,r,o){t.setTransform(e,i,s,a,r,o),this.__originalSetTransform(e,i,s,a,r,o)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(e){t.rotate(e),this.__originalRotate(e)},n.clip=function(e){t.clip(e),this.__originalClip(e)},n.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},n.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},n.bezierCurveTo=function(e,i,s,a,r,o){t.bezierCurveTo(e,i,s,a,r,o),this.__originalBezierCurveTo(e,i,s,a,r,o)},n.rect=function(e,i,s,a){t.rect(e,i,s,a),this.__originalRect(e,i,s,a)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class HH{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,i)):(s=this.canvasFactory.create(e,i),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Xg(n,t,e,i,s,a,r,o,l,c){const[h,d,f,p,y,m]=Qt(n);if(d===0&&f===0){const v=r*h+y,A=Math.round(v),T=o*p+m,x=Math.round(T),_=(r+l)*h+y,C=Math.abs(Math.round(_)-A)||1,M=(o+c)*p+m,D=Math.abs(Math.round(M)-x)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(p),A,x),n.drawImage(t,e,i,s,a,0,0,C,D),n.setTransform(h,d,f,p,y,m),[C,D]}if(h===0&&p===0){const v=o*f+y,A=Math.round(v),T=r*d+m,x=Math.round(T),_=(o+c)*f+y,C=Math.abs(Math.round(_)-A)||1,M=(r+l)*d+m,D=Math.abs(Math.round(M)-x)||1;return n.setTransform(0,Math.sign(d),Math.sign(f),0,A,x),n.drawImage(t,e,i,s,a,0,0,D,C),n.setTransform(h,d,f,p,y,m),[D,C]}n.drawImage(t,e,i,s,a,r,o,l,c);const S=Math.hypot(h,d),g=Math.hypot(f,p);return[S*l,g*c]}class Nx{constructor(t,e){B(this,"alphaIsShape",!1);B(this,"fontSize",0);B(this,"fontSizeScale",1);B(this,"textMatrix",null);B(this,"textMatrixScale",1);B(this,"fontMatrix",iA);B(this,"leading",0);B(this,"x",0);B(this,"y",0);B(this,"lineX",0);B(this,"lineY",0);B(this,"charSpacing",0);B(this,"wordSpacing",0);B(this,"textHScale",1);B(this,"textRenderingMode",en.FILL);B(this,"textRise",0);B(this,"fillColor","#000000");B(this,"strokeColor","#000000");B(this,"patternFill",!1);B(this,"patternStroke",!1);B(this,"fillAlpha",1);B(this,"strokeAlpha",1);B(this,"lineWidth",1);B(this,"activeSMask",null);B(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Iu.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=$e.FILL,e=null){const i=this.minMax.slice();if(t===$e.STROKE){e||Rt("Stroke bounding box must include transform."),G.singularValueDecompose2dScale(e,ni);const s=ni[0]*this.lineWidth/2,a=ni[1]*this.lineWidth/2;i[0]-=s,i[1]-=a,i[2]+=s,i[3]+=a}return i}updateClipFromPath(){const t=G.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Iu,0)}getClippedPathBoundingBox(t=$e.FILL,e=null){return G.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function kx(n,t){if(t instanceof ImageData){n.putImageData(t,0,0);return}const e=t.height,i=t.width,s=e%Nn,a=(e-s)/Nn,r=s===0?a:a+1,o=n.createImageData(i,Nn);let l=0,c;const h=t.data,d=o.data;let f,p,y,m;if(t.kind===Fd.GRAYSCALE_1BPP){const S=h.byteLength,g=new Uint32Array(d.buffer,0,d.byteLength>>2),v=g.length,A=i+7>>3,T=4294967295,x=ze.isLittleEndian?4278190080:255;for(f=0;f<r;f++){for(y=f<a?Nn:s,c=0,p=0;p<y;p++){const _=S-l;let C=0;const M=_>A?i:_*8-7,D=M&-8;let O=0,N=0;for(;C<D;C+=8)N=h[l++],g[c++]=N&128?T:x,g[c++]=N&64?T:x,g[c++]=N&32?T:x,g[c++]=N&16?T:x,g[c++]=N&8?T:x,g[c++]=N&4?T:x,g[c++]=N&2?T:x,g[c++]=N&1?T:x;for(;C<M;C++)O===0&&(N=h[l++],O=128),g[c++]=N&O?T:x,O>>=1}for(;c<v;)g[c++]=0;n.putImageData(o,0,f*Nn)}}else if(t.kind===Fd.RGBA_32BPP){for(p=0,m=i*Nn*4,f=0;f<a;f++)d.set(h.subarray(l,l+m)),l+=m,n.putImageData(o,0,p),p+=Nn;f<r&&(m=i*s*4,d.set(h.subarray(l,l+m)),n.putImageData(o,0,p))}else if(t.kind===Fd.RGB_24BPP)for(y=Nn,m=i*y,f=0;f<r;f++){for(f>=a&&(y=s,m=i*y),c=0,p=m;p--;)d[c++]=h[l++],d[c++]=h[l++],d[c++]=h[l++],d[c++]=255;n.putImageData(o,0,f*Nn)}else throw new Error(`bad image kind: ${t.kind}`)}function Bx(n,t){if(t.bitmap){n.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,s=e%Nn,a=(e-s)/Nn,r=s===0?a:a+1,o=n.createImageData(i,Nn);let l=0;const c=t.data,h=o.data;for(let d=0;d<r;d++){const f=d<a?Nn:s;({srcPos:l}=FH({src:c,srcPos:l,dest:h,width:i,height:f,nonBlackColor:0})),n.putImageData(o,0,d*Nn)}}function Uh(n,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)n[i]!==void 0&&(t[i]=n[i]);n.setLineDash!==void 0&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function Yg(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:t}=n;t!=="none"&&t!==""&&(n.filter="none")}function Ix(n,t){if(t)return!0;G.singularValueDecompose2dScale(n,ni);const e=Math.fround(ns.pixelRatio*ja.PDF_TO_CSS_UNITS);return ni[0]<=e&&ni[1]<=e}const UH=["butt","round","square"],jH=["miter","round","bevel"],GH={},Fx={};var is,CA,RA,MA;const EE=class EE{constructor(t,e,i,s,a,{optionalContentConfig:r,markedContentStack:o=null},l,c){w(this,is);this.ctx=t,this.current=new Nx(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=s,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=r,this.cachedCanvases=new HH(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:s=null}){const a=this.ctx.canvas.width,r=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,a,r),this.ctx.fillStyle=o,i){const l=this.cachedCanvases.getCanvas("transparent",a,r);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Qt(this.compositeCtx))}this.ctx.save(),Yg(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Qt(this.ctx)}executeOperatorList(t,e,i,s){const a=t.argsArray,r=t.fnArray;let o=e||0;const l=a.length;if(l===o)return o;const c=l-o>Px&&typeof i=="function",h=c?Date.now()+VH:0;let d=0;const f=this.commonObjs,p=this.objs;let y;for(;;){if(s!==void 0&&o===s.nextBreakPoint)return s.breakIt(o,i),o;if(y=r[o],y!==uf.dependency)this[y].apply(this,a[o]);else for(const m of a[o]){const S=m.startsWith("g_")?f:p;if(!S.has(m))return S.get(m,i),o}if(o++,o===l)return o;if(c&&++d>Px){if(Date.now()>h)return i(),o;d=0}}}endDrawing(){E(this,is,CA).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),E(this,is,RA).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,s=t.height??t.displayHeight;let a=Math.max(Math.hypot(e[0],e[1]),1),r=Math.max(Math.hypot(e[2],e[3]),1),o=i,l=s,c="prescale1",h,d;for(;a>2&&o>1||r>2&&l>1;){let f=o,p=l;a>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),a/=o/f),r>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,r/=l/p),h=this.cachedCanvases.getCanvas(c,f,p),d=h.context,d.clearRect(0,0,f,p),d.drawImage(t,0,0,o,l,0,0,f,p),t=h.canvas,o=f,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:o,paintHeight:l}}_createMaskCanvas(t){const e=this.ctx,{width:i,height:s}=t,a=this.current.fillColor,r=this.current.patternFill,o=Qt(e);let l,c,h,d;if((t.bitmap||t.data)&&t.count>1){const D=t.bitmap||t.data.buffer;c=JSON.stringify(r?o:[o.slice(0,4),a]),l=this._cachedBitmapsMap.get(D),l||(l=new Map,this._cachedBitmapsMap.set(D,l));const O=l.get(c);if(O&&!r){const N=Math.round(Math.min(o[0],o[2])+o[4]),q=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:O,offsetX:N,offsetY:q}}h=O}h||(d=this.cachedCanvases.getCanvas("maskCanvas",i,s),Bx(d.context,t));let f=G.transform(o,[1/i,0,0,-1/s,0,0]);f=G.transform(f,[1,0,0,1,0,-s]);const p=Iu.slice();G.axialAlignedBoundingBox([0,0,i,s],f,p);const[y,m,S,g]=p,v=Math.round(S-y)||1,A=Math.round(g-m)||1,T=this.cachedCanvases.getCanvas("fillCanvas",v,A),x=T.context,_=y,C=m;x.translate(-_,-C),x.transform(...f),h||(h=this._scaleImage(d.canvas,rs(x)),h=h.img,l&&r&&l.set(c,h)),x.imageSmoothingEnabled=Ix(Qt(x),t.interpolate),Xg(x,h,0,0,h.width,h.height,0,0,i,s),x.globalCompositeOperation="source-in";const M=G.transform(rs(x),[1,0,0,1,-_,-C]);return x.fillStyle=r?a.getPattern(e,this,M,$e.FILL):a,x.fillRect(0,0,i,s),l&&!r&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,T.canvas)),{canvas:T.canvas,offsetX:Math.round(_),offsetY:Math.round(C)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=UH[t]}setLineJoin(t){this.ctx.lineJoin=jH[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),Uh(this.suspendedCtx,a),zH(a,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Uh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,s){const a=s[0],r=s[1],o=s[2]-a,l=s[3]-r;o===0||l===0||(this.genericComposeSMask(e.context,i,o,l,e.subtype,e.backdrop,e.transferMap,a,r,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,s,a,r,o,l,c,h,d){let f=t.canvas,p=l-h,y=c-d;if(r)if(p<0||y<0||p+i>f.width||y+s>f.height){const S=this.cachedCanvases.getCanvas("maskExtension",i,s),g=S.context;g.drawImage(f,-p,-y),g.globalCompositeOperation="destination-atop",g.fillStyle=r,g.fillRect(0,0,i,s),g.globalCompositeOperation="source-over",f=S.canvas,p=y=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(p,y,i,s),t.clip(S),t.globalCompositeOperation="destination-atop",t.fillStyle=r,t.fillRect(p,y,i,s),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),a==="Alpha"&&o?e.filter=this.filterFactory.addAlphaFilter(o):a==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(o));const m=new Path2D;m.rect(l,c,i,s),e.clip(m),e.globalCompositeOperation="destination-in",e.drawImage(f,p,y,i,s,l,c,i,s),e.restore()}save(){this.inSMaskMode&&Uh(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Uh(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,s,a,r){this.ctx.transform(t,e,i,s,a,r),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){let[s]=e;if(!i){s||(s=e[0]=new Path2D),this[t](s);return}if(!(s instanceof Path2D)){const a=e[0]=new Path2D;for(let r=0,o=s.length;r<o;)switch(s[r++]){case jg.moveTo:a.moveTo(s[r++],s[r++]);break;case jg.lineTo:a.lineTo(s[r++],s[r++]);break;case jg.curveTo:a.bezierCurveTo(s[r++],s[r++],s[r++],s[r++],s[r++],s[r++]);break;case jg.closePath:a.closePath();break;default:tt(`Unrecognized drawing path operator: ${s[r-1]}`);break}s=a}G.axialAlignedBoundingBox(i,Qt(this.ctx),this.current.minMax),this[t](s)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const a=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,rs(i),$e.STROKE),a){const r=new Path2D;r.addPath(t,i.getTransform().invertSelf().multiplySelf(a)),t=r}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox($e.STROKE,Qt(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let r=!1;if(a){const l=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.fillStyle=s.getPattern(i,this,rs(i),$e.FILL),l){const c=new Path2D;c.addPath(t,i.getTransform().invertSelf().multiplySelf(l)),t=c}r=!0}const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),r&&i.restore(),e&&this.consumePath(t,o)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=GH}eoClip(){this.pendingClip=Fx}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const i=new Path2D,s=e.getTransform().invertSelf();for(const{transform:a,x:r,y:o,fontSize:l,path:c}of t)i.addPath(c,new DOMMatrix(a).preMultiplySelf(s).translate(r,o).scale(l,-l));e.clip(i),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var h;const i=this.commonObjs.get(t),s=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=i.fontMatrix||iA,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&tt("Invalid font matrix for font "+t),e<0?(e=-e,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const a=i.loadedName||"sans-serif",r=((h=i.systemFontInfo)==null?void 0:h.css)||`"${a}", ${i.fallbackName}`;let o="normal";i.black?o="900":i.bold&&(o="bold");const l=i.italic?"italic":"normal";let c=e;e<Lx?c=Lx:e>Ox&&(c=Ox),this.current.fontSizeScale=e/c,this.ctx.font=`${l} ${o} ${c}px ${r}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,i,s,a){const r=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,h=o.fontSize/o.fontSizeScale,d=c&en.FILL_STROKE_MASK,f=!!(c&en.ADD_TO_PATH_FLAG),p=o.patternFill&&!l.missingFile,y=o.patternStroke&&!l.missingFile;let m;if((l.disableFontFace||f||p||y)&&(m=l.getPathGenerator(this.commonObjs,t)),l.disableFontFace||p||y){r.save(),r.translate(e,i),r.scale(h,-h);let S;if((d===en.FILL||d===en.FILL_STROKE)&&(s?(S=r.getTransform(),r.setTransform(...s),r.fill(E(this,is,MA).call(this,m,S,s))):r.fill(m)),d===en.STROKE||d===en.FILL_STROKE)if(a){S||(S=r.getTransform()),r.setTransform(...a);const{a:g,b:v,c:A,d:T}=S,x=G.inverseTransform(a),_=G.transform([g,v,A,T,0,0],x);G.singularValueDecompose2dScale(_,ni),r.lineWidth*=Math.max(ni[0],ni[1])/h,r.stroke(E(this,is,MA).call(this,m,S,a))}else r.lineWidth/=h,r.stroke(m);r.restore()}else(d===en.FILL||d===en.FILL_STROKE)&&r.fillText(t,e,i),(d===en.STROKE||d===en.FILL_STROKE)&&r.strokeText(t,e,i);f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Qt(r),x:e,y:i,fontSize:h,path:m})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){i=!0;break}return ut(this,"isFontSubpixelAAEnabled",i)}showText(t){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);const s=e.fontSize;if(s===0)return;const a=this.ctx,r=e.fontSizeScale,o=e.charSpacing,l=e.wordSpacing,c=e.fontDirection,h=e.textHScale*c,d=t.length,f=i.vertical,p=f?1:-1,y=i.defaultVMetrics,m=s*e.fontMatrix[0],S=e.textRenderingMode===en.FILL&&!i.disableFontFace&&!e.patternFill;a.save(),e.textMatrix&&a.transform(...e.textMatrix),a.translate(e.x,e.y+e.textRise),c>0?a.scale(h,-1):a.scale(h,1);let g,v;if(e.patternFill){a.save();const C=e.fillColor.getPattern(a,this,rs(a),$e.FILL);g=Qt(a),a.restore(),a.fillStyle=C}if(e.patternStroke){a.save();const C=e.strokeColor.getPattern(a,this,rs(a),$e.STROKE);v=Qt(a),a.restore(),a.strokeStyle=C}let A=e.lineWidth;const T=e.textMatrixScale;if(T===0||A===0){const C=e.textRenderingMode&en.FILL_STROKE_MASK;(C===en.STROKE||C===en.FILL_STROKE)&&(A=this.getSinglePixelWidth())}else A/=T;if(r!==1&&(a.scale(r,r),A/=r),a.lineWidth=A,i.isInvalidPDFjsFont){const C=[];let M=0;for(const D of t)C.push(D.unicode),M+=D.width;a.fillText(C.join(""),0,0),e.x+=M*m*h,a.restore(),this.compose();return}let x=0,_;for(_=0;_<d;++_){const C=t[_];if(typeof C=="number"){x+=p*C*s/1e3;continue}let M=!1;const D=(C.isSpace?l:0)+o,O=C.fontChar,N=C.accent;let q,$,X=C.width;if(f){const L=C.vmetric||y,P=-(C.vmetric?L[1]:X*.5)*m,I=L[2]*m;X=L?-L[0]:X,q=P/r,$=(x+I)/r}else q=x/r,$=0;if(i.remeasure&&X>0){const L=a.measureText(O).width*1e3/s*r;if(X<L&&this.isFontSubpixelAAEnabled){const P=X/L;M=!0,a.save(),a.scale(P,1),q/=P}else X!==L&&(q+=(X-L)/2e3*s/r)}if(this.contentVisible&&(C.isInFont||i.missingFile)){if(S&&!N)a.fillText(O,q,$);else if(this.paintChar(O,q,$,g,v),N){const L=q+s*N.offset.x/r,P=$-s*N.offset.y/r;this.paintChar(N.fontChar,L,P,g,v)}}const Z=f?X*m-D*c:X*m+D*c;x+=Z,M&&a.restore()}f?e.y-=x:e.x+=x*h,a.restore(),this.compose()}showType3Text(t){const e=this.ctx,i=this.current,s=i.font,a=i.fontSize,r=i.fontDirection,o=s.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,h=i.textHScale*r,d=i.fontMatrix||iA,f=t.length,p=i.textRenderingMode===en.INVISIBLE;let y,m,S,g;if(!(p||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),i.textMatrix&&e.transform(...i.textMatrix),e.translate(i.x,i.y+i.textRise),e.scale(h,r),y=0;y<f;++y){if(m=t[y],typeof m=="number"){g=o*m*a/1e3,this.ctx.translate(g,0),i.x+=g*h;continue}const v=(m.isSpace?c:0)+l,A=s.charProcOperatorList[m.operatorListId];A?this.contentVisible&&(this.save(),e.scale(a,a),e.transform(...d),this.executeOperatorList(A),this.restore()):tt(`Type3 character "${m.operatorListId}" is not available.`);const T=[m.width,0];G.applyTransform(T,d),S=T[0]*a+v,e.translate(S,0),i.x+=S*h}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,s,a,r){const o=new Path2D;o.rect(i,s,a-i,r-s),this.ctx.clip(o),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const i=this.baseTransform||Qt(this.ctx),s={createCanvasGraphics:a=>new EE(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new _A(t,this.ctx,s,i)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=IH(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,rs(e),$e.SHADING);const s=rs(e);if(s){const{width:a,height:r}=e.canvas,o=Iu.slice();G.axialAlignedBoundingBox([0,0,a,r],s,o);const[l,c,h,d]=o;this.ctx.fillRect(l,c,h-l,d-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Rt("Should not call beginInlineImage")}beginImageData(){Rt("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Qt(this.ctx),e)){G.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[i,s,a,r]=e,o=new Path2D;o.rect(i,s,a-i,r-s),this.ctx.clip(o),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Tv("TODO: Support non-isolated groups."),t.knockout&&tt("Knockout groups not supported.");const i=Qt(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Iu.slice();G.axialAlignedBoundingBox(t.bbox,Qt(e),s);const a=[0,0,e.canvas.width,e.canvas.height];s=G.intersect(s,a)||[0,0,0,0];const r=Math.floor(s[0]),o=Math.floor(s[1]),l=Math.max(Math.ceil(s[2])-r,1),c=Math.max(Math.ceil(s[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,c]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(h,l,c),f=d.context;f.translate(-r,-o),f.transform(...i);let p=new Path2D;const[y,m,S,g]=t.bbox;if(p.rect(y,m,S-y,g-m),t.matrix){const v=new Path2D;v.addPath(p,new DOMMatrix(t.matrix)),p=v}f.clip(p),t.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:r,offsetY:o,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(r,o),e.save()),Uh(e,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=Qt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const a=Iu.slice();G.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],s,a),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(t,e,i,s,a){if(E(this,is,CA).call(this),Yg(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const r=e[2]-e[0],o=e[3]-e[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=r,e[3]=o,G.singularValueDecompose2dScale(Qt(this.ctx),ni);const{viewportScale:l}=this,c=Math.ceil(r*this.outputScaleX*l),h=Math.ceil(o*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(c,h);const{canvas:d,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(t,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.save(),this.ctx.setTransform(ni[0],0,0,-ni[1],0,o*ni[1]),Yg(this.ctx)}else{Yg(this.ctx),this.endPath();const l=new Path2D;l.rect(e[0],e[1],r,o),this.ctx.clip(l)}}this.current=new Nx(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),E(this,is,RA).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const i=this.ctx,s=this._createMaskCanvas(t),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,s=0,a,r){if(!this.contentVisible)return;t=this.getObject(t.data,t);const o=this.ctx;o.save();const l=Qt(o);o.transform(e,i,s,a,0,0);const c=this._createMaskCanvas(t);o.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let h=0,d=r.length;h<d;h+=2){const f=G.transform(l,[e,i,s,a,r[h],r[h+1]]);o.drawImage(c.canvas,f[4],f[5])}o.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,s=this.current.patternFill;for(const a of t){const{data:r,width:o,height:l,transform:c}=a,h=this.cachedCanvases.getCanvas("maskCanvas",o,l),d=h.context;d.save();const f=this.getObject(r,a);Bx(d,f),d.globalCompositeOperation="source-in",d.fillStyle=s?i.getPattern(d,this,rs(e),$e.FILL):i,d.fillRect(0,0,o,l),d.restore(),e.save(),e.transform(...c),e.scale(1,-1),Xg(e,h.canvas,0,0,o,l,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){tt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,s){if(!this.contentVisible)return;const a=this.getObject(t);if(!a){tt("Dependent image isn't ready yet");return}const r=a.width,o=a.height,l=[];for(let c=0,h=s.length;c<h;c+=2)l.push({transform:[e,0,0,i,s[c],s[c+1]],x:0,y:0,w:r,h:o});this.paintInlineImageXObjectGroup(a,l)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:s}=t,a=this.cachedCanvases.getCanvas("inlineImage",i,s),r=a.context;return r.filter=this.current.transferMaps,r.drawImage(e,0,0),r.filter="none",a.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,i=t.height,s=this.ctx;this.save();const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/e,-1/i);let r;if(t.bitmap)r=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)r=t;else{const c=this.cachedCanvases.getCanvas("inlineImage",e,i).context;kx(c,t),r=this.applyTransferMapsToCanvas(c)}const o=this._scaleImage(r,rs(s));s.imageSmoothingEnabled=Ix(Qt(s),t.interpolate),Xg(s,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const a=t.width,r=t.height,l=this.cachedCanvases.getCanvas("inlineImage",a,r).context;kx(l,t),s=this.applyTransferMapsToCanvas(l)}for(const a of e)i.save(),i.transform(...a.transform),i.scale(1,-1),Xg(i,s,a.x,a.y,a.w,a.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const s=this.ctx;this.pendingClip&&(i||(this.pendingClip===Fx?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Qt(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:s,d:a}=this.ctx.getTransform();let r,o;if(i===0&&s===0){const l=Math.abs(e),c=Math.abs(a);if(l===c)if(t===0)r=o=1/l;else{const h=l*t;r=o=h<1?1/h:1}else if(t===0)r=1/l,o=1/c;else{const h=l*t,d=c*t;r=h<1?1/h:1,o=d<1?1/d:1}}else{const l=Math.abs(e*a-i*s),c=Math.hypot(e,i),h=Math.hypot(s,a);if(t===0)r=h/l,o=c/l;else{const d=t*l;r=h>d?h/d:1,o=c>d?c/d:1}}this._cachedScaleForStroking[0]=r,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:s}}=this,[a,r]=this.getScaleForStroking();if(a===r){i.lineWidth=(s||1)*a,i.stroke(t);return}const o=i.getLineDash();e&&i.save(),i.scale(a,r),I0.a=1/a,I0.d=1/r;const l=new Path2D;if(l.addPath(t,I0),o.length>0){const c=Math.max(a,r);i.setLineDash(o.map(h=>h/c)),i.lineDashOffset/=c}i.lineWidth=s||1,i.stroke(l),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};is=new WeakSet,CA=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},RA=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},MA=function(t,e,i){const s=new Path2D;return s.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),s};let $u=EE;for(const n in uf)$u.prototype[n]!==void 0&&($u.prototype[uf[n]]=$u.prototype[n]);var Uf,jf;class Ri{static get workerPort(){return u(this,Uf)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");b(this,Uf,t)}static get workerSrc(){return u(this,jf)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");b(this,jf,t)}}Uf=new WeakMap,jf=new WeakMap,w(Ri,Uf,null),w(Ri,jf,"");var gc,Gf;class qH{constructor({parsedData:t,rawData:e}){w(this,gc);w(this,Gf);b(this,gc,t),b(this,Gf,e)}getRaw(){return u(this,Gf)}get(t){return u(this,gc).get(t)??null}[Symbol.iterator](){return u(this,gc).entries()}}gc=new WeakMap,Gf=new WeakMap;const mu=Symbol("INTERNAL");var qf,Xf,Yf,mc;class XH{constructor(t,{name:e,intent:i,usage:s,rbGroups:a}){w(this,qf,!1);w(this,Xf,!1);w(this,Yf,!1);w(this,mc,!0);b(this,qf,!!(t&ti.DISPLAY)),b(this,Xf,!!(t&ti.PRINT)),this.name=e,this.intent=i,this.usage=s,this.rbGroups=a}get visible(){if(u(this,Yf))return u(this,mc);if(!u(this,mc))return!1;const{print:t,view:e}=this.usage;return u(this,qf)?(e==null?void 0:e.viewState)!=="OFF":u(this,Xf)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==mu&&Rt("Internal method `_setVisible` called."),b(this,Yf,i),b(this,mc,e)}}qf=new WeakMap,Xf=new WeakMap,Yf=new WeakMap,mc=new WeakMap;var Ar,Tt,yc,vc,$f,DA;class YH{constructor(t,e=ti.DISPLAY){w(this,$f);w(this,Ar,null);w(this,Tt,new Map);w(this,yc,null);w(this,vc,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,b(this,vc,t.order);for(const i of t.groups)u(this,Tt).set(i.id,new XH(e,i));if(t.baseState==="OFF")for(const i of u(this,Tt).values())i._setVisible(mu,!1);for(const i of t.on)u(this,Tt).get(i)._setVisible(mu,!0);for(const i of t.off)u(this,Tt).get(i)._setVisible(mu,!1);b(this,yc,this.getHash())}}isVisible(t){if(u(this,Tt).size===0)return!0;if(!t)return Tv("Optional content group not defined."),!0;if(t.type==="OCG")return u(this,Tt).has(t.id)?u(this,Tt).get(t.id).visible:(tt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return E(this,$f,DA).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!u(this,Tt).has(e))return tt(`Optional content group not found: ${e}`),!0;if(u(this,Tt).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!u(this,Tt).has(e))return tt(`Optional content group not found: ${e}`),!0;if(!u(this,Tt).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!u(this,Tt).has(e))return tt(`Optional content group not found: ${e}`),!0;if(!u(this,Tt).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!u(this,Tt).has(e))return tt(`Optional content group not found: ${e}`),!0;if(u(this,Tt).get(e).visible)return!1}return!0}return tt(`Unknown optional content policy ${t.policy}.`),!0}return tt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var a;const s=u(this,Tt).get(t);if(!s){tt(`Optional content group not found: ${t}`);return}if(i&&e&&s.rbGroups.length)for(const r of s.rbGroups)for(const o of r)o!==t&&((a=u(this,Tt).get(o))==null||a._setVisible(mu,!1,!0));s._setVisible(mu,!!e,!0),b(this,Ar,null)}setOCGState({state:t,preserveRB:e}){let i;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":i=s;continue}const a=u(this,Tt).get(s);if(a)switch(i){case"ON":this.setVisibility(s,!0,e);break;case"OFF":this.setVisibility(s,!1,e);break;case"Toggle":this.setVisibility(s,!a.visible,e);break}}b(this,Ar,null)}get hasInitialVisibility(){return u(this,yc)===null||this.getHash()===u(this,yc)}getOrder(){return u(this,Tt).size?u(this,vc)?u(this,vc).slice():[...u(this,Tt).keys()]:null}getGroup(t){return u(this,Tt).get(t)||null}getHash(){if(u(this,Ar)!==null)return u(this,Ar);const t=new UL;for(const[e,i]of u(this,Tt))t.update(`${e}:${i.visible}`);return b(this,Ar,t.hexdigest())}[Symbol.iterator](){return u(this,Tt).entries()}}Ar=new WeakMap,Tt=new WeakMap,yc=new WeakMap,vc=new WeakMap,$f=new WeakSet,DA=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let s=1;s<e;s++){const a=t[s];let r;if(Array.isArray(a))r=E(this,$f,DA).call(this,a);else if(u(this,Tt).has(a))r=u(this,Tt).get(a).visible;else return tt(`Optional content group not found: ${a}`),!0;switch(i){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return i==="And"};class $H{constructor(t,{disableRange:e=!1,disableStream:i=!1}){ve(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:a,progressiveDone:r,contentDispositionFilename:o}=t;if(this._queuedChunks=[],this._progressiveDone=r,this._contentDispositionFilename=o,(a==null?void 0:a.length)>0){const l=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),t.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),t.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const s=this._rangeReaders.some(function(a){return a._begin!==t?!1:(a._enqueue(i),!0)});ve(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,s,a;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(a=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||a.call(s,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){ve(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new KH(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new WH(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class KH{constructor(t,e,i=!1,s=null){this._stream=t,this._done=i||!1,this._filename=_v(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class WH{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function QH(n){let t=!0,e=i("filename\\*","i").exec(n);if(e){e=e[1];let h=o(e);return h=unescape(h),h=l(h),h=c(h),a(h)}if(e=r(n),e){const h=c(e);return a(h)}if(e=i("filename","i").exec(n),e){e=e[1];let h=o(e);return h=c(h),a(h)}function i(h,d){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function s(h,d){if(h){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(h,{fatal:!0}),p=fg(d);d=f.decode(p),t=!1}catch{}}return d}function a(h){return t&&/[\x80-\xff]/.test(h)&&(h=s("utf-8",h),t&&(h=s("iso-8859-1",h))),h}function r(h){const d=[];let f;const p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(h))!==null;){let[,m,S,g]=f;if(m=parseInt(m,10),m in d){if(m===0)break;continue}d[m]=[S,g]}const y=[];for(let m=0;m<d.length&&m in d;++m){let[S,g]=d[m];g=o(g),S&&(g=unescape(g),m===0&&(g=l(g))),y.push(g)}return y.join("")}function o(h){if(h.startsWith('"')){const d=h.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}h=d.join('"')}return h}function l(h){const d=h.indexOf("'");if(d===-1)return h;const f=h.slice(0,d),y=h.slice(d+1).replace(/^[^']*'/,"");return s(f,y)}function c(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,y){if(p==="q"||p==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,S){return String.fromCharCode(parseInt(S,16))}),s(f,y);try{y=atob(y)}catch{}return s(f,y)})}return""}function e2(n,t){const e=new Headers;if(!n||!t||typeof t!="object")return e;for(const i in t){const s=t[i];s!==void 0&&e.append(i,s)}return e}function Rv(n){var t;return((t=URL.parse(n))==null?void 0:t.origin)??null}function n2({responseHeaders:n,isHttp:t,rangeChunkSize:e,disableRange:i}){const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(n.get("Content-Length"),10);return!Number.isInteger(a)||(s.suggestedLength=a,a<=2*e)||i||!t||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function i2(n){const t=n.get("Content-Disposition");if(t){let e=QH(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(_v(e))return e}return null}function yg(n,t){return new cf(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n,n===404||n===0&&t.startsWith("file:"))}function s2(n){return n===200||n===206}function a2(n,t,e){return{method:"GET",headers:n,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function r2(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(tt(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class ZH{constructor(t){B(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=e2(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return ve(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new JH(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new tU(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class JH{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),s=e.url;fetch(s,a2(i,this._withCredentials,this._abortController)).then(a=>{if(t._responseOrigin=Rv(a.url),!s2(a.status))throw yg(a.status,s);this._reader=a.body.getReader(),this._headersCapability.resolve();const r=a.headers,{allowRangeRequests:o,suggestedLength:l}=n2({responseHeaders:r,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=i2(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ua("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:r2(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class tU{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const a=new Headers(t.headers);a.append("Range",`bytes=${e}-${i-1}`);const r=s.url;fetch(r,a2(a,this._withCredentials,this._abortController)).then(o=>{const l=Rv(o.url);if(l!==t._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${t._responseOrigin}".`);if(!s2(o.status))throw yg(o.status,r);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:r2(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const F0=200,V0=206;function eU(n){const t=n.response;return typeof t!="string"?t:fg(t).buffer}class nU{constructor({url:t,httpHeaders:e,withCredentials:i}){B(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=e2(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,s=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[a,r]of this.headers)e.setRequestHeader(a,r);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=V0):s.expectedStatus=F0,e.responseType="arraybuffer",ve(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var s;const i=this.pendingRequests[t];i&&((s=i.onProgress)==null||s.call(i,e))}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),s.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],s.status===0&&this.isHttp){i.onError(s.status);return}const a=s.status||F0;if(!(a===F0&&i.expectedStatus===V0)&&a!==i.expectedStatus){i.onError(s.status);return}const o=eU(s);if(a===V0){const l=s.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?i.onDone({begin:parseInt(c[1],10),chunk:o}):(tt('Missing or invalid "Content-Range" header.'),i.onError(0))}else o?i.onDone({begin:0,chunk:o}):i.onError(s.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class iU{constructor(t){this._source=t,this._manager=new nU(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return ve(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new sU(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new aU(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class sU{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Rv(e.responseURL);const i=e.getAllResponseHeaders(),s=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...c]=o.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:r}=n2({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=i2(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=yg(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class aU{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=Rv((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=yg(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const rU=/^[a-z][a-z0-9\-+.]+:/i;function oU(n){if(rU.test(n))return new URL(n);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(n))}class lU{constructor(t){this.source=t,this.url=oU(t.url),ve(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return ve(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new uU(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new cU(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class uU{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=yg(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ua("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class cU{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=t.source;this._isStreamingSupported=!s.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const jh=Symbol("INITIAL_DATA");var Gn,Kf,LA;class o2{constructor(){w(this,Kf);w(this,Gn,Object.create(null))}get(t,e=null){if(e){const s=E(this,Kf,LA).call(this,t);return s.promise.then(()=>e(s.data)),null}const i=u(this,Gn)[t];if(!i||i.data===jh)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=u(this,Gn)[t];return!!e&&e.data!==jh}delete(t){const e=u(this,Gn)[t];return!e||e.data===jh?!1:(delete u(this,Gn)[t],!0)}resolve(t,e=null){const i=E(this,Kf,LA).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in u(this,Gn)){const{data:i}=u(this,Gn)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}b(this,Gn,Object.create(null))}*[Symbol.iterator](){for(const t in u(this,Gn)){const{data:e}=u(this,Gn)[t];e!==jh&&(yield[t,e])}}}Gn=new WeakMap,Kf=new WeakSet,LA=function(t){var e;return(e=u(this,Gn))[t]||(e[t]={...Promise.withResolvers(),data:jh})};const hU=1e5,Vx=30;var Zx,Sr,Mn,Wf,Qf,Wo,ra,Zf,Jf,Qo,bc,Ac,wr,Sc,tp,wc,Zo,ep,np,ne,Ec,Jo,ip,Er,Tc,Ga,l2,u2,OA,ui,xm,PA,c2,h2;let df=(ne=class{constructor({textContentSource:t,container:e,viewport:i}){w(this,Ga);w(this,Sr,Promise.withResolvers());w(this,Mn,null);w(this,Wf,!1);w(this,Qf,!!((Zx=globalThis.FontInspector)!=null&&Zx.enabled));w(this,Wo,null);w(this,ra,null);w(this,Zf,0);w(this,Jf,0);w(this,Qo,null);w(this,bc,null);w(this,Ac,0);w(this,wr,0);w(this,Sc,Object.create(null));w(this,tp,[]);w(this,wc,null);w(this,Zo,[]);w(this,ep,new WeakMap);w(this,np,null);var l;if(t instanceof ReadableStream)b(this,wc,t);else if(typeof t=="object")b(this,wc,new ReadableStream({start(c){c.enqueue(t),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');b(this,Mn,b(this,bc,e)),b(this,wr,i.scale*ns.pixelRatio),b(this,Ac,i.rotation),b(this,ra,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:a,pageX:r,pageY:o}=i.rawDims;b(this,np,[1,0,0,-1,-r,o+a]),b(this,Jf,s),b(this,Zf,a),E(l=ne,ui,c2).call(l),so(e,i),u(this,Sr).promise.finally(()=>{u(ne,Tc).delete(this),b(this,ra,null),b(this,Sc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=ze.platform;return ut(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{u(this,Qo).read().then(({value:e,done:i})=>{if(i){u(this,Sr).resolve();return}u(this,Wo)??b(this,Wo,e.lang),Object.assign(u(this,Sc),e.styles),E(this,Ga,l2).call(this,e.items),t()},u(this,Sr).reject)};return b(this,Qo,u(this,wc).getReader()),u(ne,Tc).add(this),t(),u(this,Sr).promise}update({viewport:t,onBefore:e=null}){var a;const i=t.scale*ns.pixelRatio,s=t.rotation;if(s!==u(this,Ac)&&(e==null||e(),b(this,Ac,s),so(u(this,bc),{rotation:s})),i!==u(this,wr)){e==null||e(),b(this,wr,i);const r={div:null,properties:null,ctx:E(a=ne,ui,xm).call(a,u(this,Wo))};for(const o of u(this,Zo))r.properties=u(this,ep).get(o),r.div=o,E(this,Ga,OA).call(this,r)}}cancel(){var e;const t=new Ua("TextLayer task cancelled.");(e=u(this,Qo))==null||e.cancel(t).catch(()=>{}),b(this,Qo,null),u(this,Sr).reject(t)}get textDivs(){return u(this,Zo)}get textContentItemsStr(){return u(this,tp)}static cleanup(){if(!(u(this,Tc).size>0)){u(this,Ec).clear();for(const{canvas:t}of u(this,Jo).values())t.remove();u(this,Jo).clear()}}},Sr=new WeakMap,Mn=new WeakMap,Wf=new WeakMap,Qf=new WeakMap,Wo=new WeakMap,ra=new WeakMap,Zf=new WeakMap,Jf=new WeakMap,Qo=new WeakMap,bc=new WeakMap,Ac=new WeakMap,wr=new WeakMap,Sc=new WeakMap,tp=new WeakMap,wc=new WeakMap,Zo=new WeakMap,ep=new WeakMap,np=new WeakMap,Ec=new WeakMap,Jo=new WeakMap,ip=new WeakMap,Er=new WeakMap,Tc=new WeakMap,Ga=new WeakSet,l2=function(t){var s,a;if(u(this,Wf))return;(a=u(this,ra)).ctx??(a.ctx=E(s=ne,ui,xm).call(s,u(this,Wo)));const e=u(this,Zo),i=u(this,tp);for(const r of t){if(e.length>hU){tt("Ignoring additional textDivs for performance reasons."),b(this,Wf,!0);return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const o=u(this,Mn);b(this,Mn,document.createElement("span")),u(this,Mn).classList.add("markedContent"),r.id!==null&&u(this,Mn).setAttribute("id",`${r.id}`),o.append(u(this,Mn))}else r.type==="endMarkedContent"&&b(this,Mn,u(this,Mn).parentNode);continue}i.push(r.str),E(this,Ga,u2).call(this,r)}},u2=function(t){var m;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};u(this,Zo).push(e);const s=G.transform(u(this,np),t.transform);let a=Math.atan2(s[1],s[0]);const r=u(this,Sc)[t.fontName];r.vertical&&(a+=Math.PI/2);let o=u(this,Qf)&&r.fontSubstitution||r.fontFamily;o=ne.fontFamilyMap.get(o)||o;const l=Math.hypot(s[2],s[3]),c=l*E(m=ne,ui,h2).call(m,o,r,u(this,Wo));let h,d;a===0?(h=s[4],d=s[5]-c):(h=s[4]+c*Math.sin(a),d=s[5]-c*Math.cos(a));const f="calc(var(--total-scale-factor) *",p=e.style;u(this,Mn)===u(this,bc)?(p.left=`${(100*h/u(this,Jf)).toFixed(2)}%`,p.top=`${(100*d/u(this,Zf)).toFixed(2)}%`):(p.left=`${f}${h.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(u(ne,Er)*l).toFixed(2)}px)`,p.fontFamily=o,i.fontSize=l,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,u(this,Qf)&&(e.dataset.fontName=r.fontSubstitutionLoadedName||t.fontName),a!==0&&(i.angle=a*(180/Math.PI));let y=!1;if(t.str.length>1)y=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const S=Math.abs(t.transform[0]),g=Math.abs(t.transform[3]);S!==g&&Math.max(S,g)/Math.min(S,g)>1.5&&(y=!0)}if(y&&(i.canvasWidth=r.vertical?t.height:t.width),u(this,ep).set(e,i),u(this,ra).div=e,u(this,ra).properties=i,E(this,Ga,OA).call(this,u(this,ra)),i.hasText&&u(this,Mn).append(e),i.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),u(this,Mn).append(S)}},OA=function(t){var o;const{div:e,properties:i,ctx:s}=t,{style:a}=e;let r="";if(u(ne,Er)>1&&(r=`scale(${1/u(ne,Er)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:l}=a,{canvasWidth:c,fontSize:h}=i;E(o=ne,ui,PA).call(o,s,h*u(this,wr),l);const{width:d}=s.measureText(e.textContent);d>0&&(r=`scaleX(${c*u(this,wr)/d}) ${r}`)}i.angle!==0&&(r=`rotate(${i.angle}deg) ${r}`),r.length>0&&(a.transform=r)},ui=new WeakSet,xm=function(t=null){let e=u(this,Jo).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,Jo).set(t,e),u(this,ip).set(e,{size:0,family:""})}return e},PA=function(t,e,i){const s=u(this,ip).get(t);e===s.size&&i===s.family||(t.font=`${e}px ${i}`,s.size=e,s.family=i)},c2=function(){if(u(this,Er)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),b(this,Er,t.getBoundingClientRect().height),t.remove()},h2=function(t,e,i){const s=u(this,Ec).get(t);if(s)return s;const a=E(this,ui,xm).call(this,i);a.canvas.width=a.canvas.height=Vx,E(this,ui,PA).call(this,a,Vx,t);const r=a.measureText(""),o=r.fontBoundingBoxAscent,l=Math.abs(r.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let c=.8;return o?c=o/(o+l):(ze.platform.isFirefox&&tt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?c=e.ascent:e.descent&&(c=1+e.descent)),u(this,Ec).set(t,c),c},w(ne,ui),w(ne,Ec,new Map),w(ne,Jo,new Map),w(ne,ip,new WeakMap),w(ne,Er,null),w(ne,Tc,new Set),ne);class ff{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function s(a){var l;if(!a)return;let r=null;const o=a.name;if(o==="#text")r=a.value;else if(ff.shouldBuildText(o))(l=a==null?void 0:a.attributes)!=null&&l.textContent?r=a.attributes.textContent:a.value&&(r=a.value);else return;if(r!==null&&e.push({str:r}),!!a.children)for(const c of a.children)s(c)}return s(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const dU=100;function pE(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const t=new NA,{docId:e}=t,i=n.url?wH(n.url):null,s=n.data?EH(n.data):null,a=n.httpHeaders||null,r=n.withCredentials===!0,o=n.password??null,l=n.range instanceof gE?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let h=n.worker instanceof yh?n.worker:null;const d=n.verbosity,f=typeof n.docBaseUrl=="string"&&!gg(n.docBaseUrl)?n.docBaseUrl:null,p=Gg(n.cMapUrl),y=n.cMapPacked!==!1,m=n.CMapReaderFactory||(bn?DH:Cx),S=Gg(n.iccUrl),g=Gg(n.standardFontDataUrl),v=n.StandardFontDataFactory||(bn?LH:Rx),A=Gg(n.wasmUrl),T=n.WasmFactory||(bn?OH:Mx),x=n.stopAtErrors!==!0,_=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,C=n.isEvalSupported!==!1,M=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!bn,D=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!bn&&(ze.platform.isFirefox||!globalThis.chrome),O=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,N=typeof n.disableFontFace=="boolean"?n.disableFontFace:bn,q=n.fontExtraProperties===!0,$=n.enableXfa===!0,X=n.ownerDocument||globalThis.document,Z=n.disableRange===!0,L=n.disableStream===!0,P=n.disableAutoFetch===!0,I=n.pdfBug===!0,Q=n.CanvasFactory||(bn?MH:_H),nt=n.FilterFactory||(bn?RH:CH),Jt=n.enableHWA===!0,gt=n.useWasm!==!1,ht=l?l.length:n.length??NaN,zt=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!bn&&!N,Ot=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(m===Cx&&v===Rx&&T===Mx&&p&&g&&A&&Zh(p,document.baseURI)&&Zh(g,document.baseURI)&&Zh(A,document.baseURI)),pe=null;sH(d);const mt={canvasFactory:new Q({ownerDocument:X,enableHWA:Jt}),filterFactory:new nt({docId:e,ownerDocument:X}),cMapReaderFactory:Ot?null:new m({baseUrl:p,isCompressed:y}),standardFontDataFactory:Ot?null:new v({baseUrl:g}),wasmFactory:Ot?null:new T({baseUrl:A})};h||(h=yh.create({verbosity:d,port:Ri.workerPort}),t._worker=h);const Je={docId:e,apiVersion:"5.3.31",data:s,password:o,disableAutoFetch:P,rangeChunkSize:c,length:ht,docBaseUrl:f,enableXfa:$,evaluatorOptions:{maxImageSize:_,disableFontFace:N,ignoreErrors:x,isEvalSupported:C,isOffscreenCanvasSupported:M,isImageDecoderSupported:D,canvasMaxAreaInBytes:O,fontExtraProperties:q,useSystemFonts:zt,useWasm:gt,useWorkerFetch:Ot,cMapUrl:p,iccUrl:S,standardFontDataUrl:g,wasmUrl:A}},tn={ownerDocument:X,pdfBug:I,styleElement:pe,loadingParams:{disableAutoFetch:P,enableXfa:$}};return h.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Ht=h.messageHandler.sendWithPromise("GetDocRequest",Je,s?[s.buffer]:null);let Fs;if(l)Fs=new $H(l,{disableRange:Z,disableStream:L});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");const Vs=Zh(i)?ZH:bn?lU:iU;Fs=new Vs({url:i,length:ht,httpHeaders:a,withCredentials:r,rangeChunkSize:c,disableRange:Z,disableStream:L})}return Ht.then(Vs=>{if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const dn=new id(e,Vs,h.port),Pt=new gU(dn,t,Fs,tn,mt);t._transport=Pt,dn.send("Ready",null)})}).catch(t._capability.reject),t}var jy;const Gy=class Gy{constructor(){B(this,"_capability",Promise.withResolvers());B(this,"_transport",null);B(this,"_worker",null);B(this,"docId",`d${fn(Gy,jy)._++}`);B(this,"destroyed",!1);B(this,"onPassword",null);B(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t,e,i,s;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(a){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,a}this._transport=null,(s=this._worker)==null||s.destroy(),this._worker=null}async getData(){return this._transport.getData()}};jy=new WeakMap,w(Gy,jy,0);let NA=Gy;var tl,sp,ap,rp,op,Jx;let gE=(Jx=class{constructor(t,e,i=!1,s=null){w(this,tl,Promise.withResolvers());w(this,sp,[]);w(this,ap,[]);w(this,rp,[]);w(this,op,[]);this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=s}addRangeListener(t){u(this,op).push(t)}addProgressListener(t){u(this,rp).push(t)}addProgressiveReadListener(t){u(this,ap).push(t)}addProgressiveDoneListener(t){u(this,sp).push(t)}onDataRange(t,e){for(const i of u(this,op))i(t,e)}onDataProgress(t,e){u(this,tl).promise.then(()=>{for(const i of u(this,rp))i(t,e)})}onDataProgressiveRead(t){u(this,tl).promise.then(()=>{for(const e of u(this,ap))e(t)})}onDataProgressiveDone(){u(this,tl).promise.then(()=>{for(const t of u(this,sp))t()})}transportReady(){u(this,tl).resolve()}requestDataRange(t,e){Rt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},tl=new WeakMap,sp=new WeakMap,ap=new WeakMap,rp=new WeakMap,op=new WeakMap,Jx);class fU{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ut(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var oa,el,ld;class pU{constructor(t,e,i,s=!1){w(this,el);w(this,oa,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=s?new Tx:null,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new o2,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:a=!1}={}){return new pg({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:s,dontFlip:a})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ut(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:i="display",annotationMode:s=_s.ENABLE,transform:a=null,background:r=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:h=null,isEditing:d=!1}){var T,x;(T=this._stats)==null||T.time("Overall");const f=this._transport.getRenderingIntent(i,s,h,d),{renderingIntent:p,cacheKey:y}=f;b(this,oa,!1),o||(o=this._transport.getOptionalContentConfig(p));let m=this._intentStates.get(y);m||(m=Object.create(null),this._intentStates.set(y,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const S=!!(p&ti.PRINT);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(x=this._stats)==null||x.time("Page Request"),this._pumpOperatorList(f));const g=_=>{var C;m.renderTasks.delete(v),S&&b(this,oa,!0),E(this,el,ld).call(this),_?(v.capability.reject(_),this._abortOperatorList({intentState:m,reason:_ instanceof Error?_:new Error(_)})):v.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(C=globalThis.Stats)!=null&&C.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},v=new kA({callback:g,params:{canvasContext:t,viewport:e,transform:a,background:r},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!S,pdfBug:this._pdfBug,pageColors:c});(m.renderTasks||(m.renderTasks=new Set)).add(v);const A=v.task;return Promise.all([m.displayReadyCapability.promise,o]).then(([_,C])=>{var M;if(this.destroyed){g();return}if((M=this._stats)==null||M.time("Rendering"),!(C.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");v.initializeGraphics({transparency:_,optionalContentConfig:C}),v.operatorListChanged()}).catch(g),A}getOperatorList({intent:t="display",annotationMode:e=_s.ENABLE,printAnnotationStorage:i=null,isEditing:s=!1}={}){var c;function a(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const r=this._transport.getRenderingIntent(t,e,i,s,!0);let o=this._intentStates.get(r.cacheKey);o||(o=Object.create(null),this._intentStates.set(r.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=a,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(r)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>ff.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,s){function a(){r.read().then(function({value:l,done:c}){if(c){i(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),a()},s)}const r=e.getReader(),o={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),b(this,oa,!1),Promise.all(t)}cleanup(t=!1){b(this,oa,!0);const e=E(this,el,ld).call(this);return t&&e&&this._stats&&(this._stats=new Tx),e}_startRenderPage(t,e){var s,a;const i=this._intentStates.get(e);i&&((s=this._stats)==null||s.timeEnd("Page Request"),(a=i.displayReadyCapability)==null||a.resolve(t))}_renderPageChunk(t,e){for(let i=0,s=t.length;i<s;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&E(this,el,ld).call(this)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:s}){const{map:a,transfer:r}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:a,modifiedIds:s},r).getReader(),c=this._intentStates.get(e);c.streamReader=l;const h=()=>{l.read().then(({value:d,done:f})=>{if(f){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),h())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const f of c.renderTasks)f.operatorListChanged();E(this,el,ld).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};h()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof xv){let s=dU;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new Ua(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,a]of this._intentStates)if(a===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}oa=new WeakMap,el=new WeakSet,ld=function(){if(!u(this,oa)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),b(this,oa,!1),!0};var Tr,Hi,la,nl,qy,il,sl,En,_m,d2,f2,ud,xc,Cm;const Ut=class Ut{constructor({name:t=null,port:e=null,verbosity:i=aH()}={}){w(this,En);w(this,Tr,Promise.withResolvers());w(this,Hi,null);w(this,la,null);w(this,nl,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(u(Ut,sl).has(e))throw new Error("Cannot use more than one PDFWorker per port.");u(Ut,sl).set(e,this),E(this,En,d2).call(this,e)}else E(this,En,f2).call(this)}get promise(){return u(this,Tr).promise}get port(){return u(this,la)}get messageHandler(){return u(this,Hi)}destroy(){var t,e;this.destroyed=!0,(t=u(this,nl))==null||t.terminate(),b(this,nl,null),u(Ut,sl).delete(u(this,la)),b(this,la,null),(e=u(this,Hi))==null||e.destroy(),b(this,Hi,null)}static create(t){const e=u(this,sl).get(t==null?void 0:t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Ut(t)}static get workerSrc(){if(Ri.workerSrc)return Ri.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ut(this,"_setupFakeWorkerGlobal",(async()=>u(this,xc,Cm)?u(this,xc,Cm):(await import(this.workerSrc)).WorkerMessageHandler)())}};Tr=new WeakMap,Hi=new WeakMap,la=new WeakMap,nl=new WeakMap,qy=new WeakMap,il=new WeakMap,sl=new WeakMap,En=new WeakSet,_m=function(){u(this,Tr).resolve(),u(this,Hi).send("configure",{verbosity:this.verbosity})},d2=function(t){b(this,la,t),b(this,Hi,new id("main","worker",t)),u(this,Hi).on("ready",()=>{}),E(this,En,_m).call(this)},f2=function(){if(u(Ut,il)||u(Ut,xc,Cm)){E(this,En,ud).call(this);return}let{workerSrc:t}=Ut;try{Ut._isSameOrigin(window.location,t)||(t=Ut._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new id("main","worker",e),s=()=>{a.abort(),i.destroy(),e.terminate(),this.destroyed?u(this,Tr).reject(new Error("Worker was destroyed")):E(this,En,ud).call(this)},a=new AbortController;e.addEventListener("error",()=>{u(this,nl)||s()},{signal:a.signal}),i.on("test",o=>{if(a.abort(),this.destroyed||!o){s();return}b(this,Hi,i),b(this,la,e),b(this,nl,e),E(this,En,_m).call(this)}),i.on("ready",o=>{if(a.abort(),this.destroyed){s();return}try{r()}catch{E(this,En,ud).call(this)}});const r=()=>{const o=new Uint8Array;i.send("test",o,[o.buffer])};r();return}catch{Tv("The worker has been disabled.")}E(this,En,ud).call(this)},ud=function(){u(Ut,il)||(tt("Setting up fake worker."),b(Ut,il,!0)),Ut._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){u(this,Tr).reject(new Error("Worker was destroyed"));return}const e=new xH;b(this,la,e);const i=`fake${fn(Ut,qy)._++}`,s=new id(i+"_worker",i,e);t.setup(s,e),b(this,Hi,new id(i,i+"_worker",e)),E(this,En,_m).call(this)}).catch(t=>{u(this,Tr).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},xc=new WeakSet,Cm=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},w(Ut,xc),w(Ut,qy,0),w(Ut,il,!1),w(Ut,sl,new WeakMap),bn&&(b(Ut,il,!0),Ri.workerSrc||(Ri.workerSrc="./pdf.worker.mjs")),Ut._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const s=new URL(e,i);return i.origin===s.origin},Ut._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Ut.fromPort=t=>{if(pH("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Ut.create(t)};let yh=Ut;var ua,vs,_c,Cc,ca,al,cd;class gU{constructor(t,e,i,s,a){w(this,al);w(this,ua,new Map);w(this,vs,new Map);w(this,_c,new Map);w(this,Cc,new Map);w(this,ca,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new o2,this.fontLoader=new AH({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return ut(this,"annotationStorage",new hE)}getRenderingIntent(t,e=_s.ENABLE,i=null,s=!1,a=!1){let r=ti.DISPLAY,o=SA;switch(t){case"any":r=ti.ANY;break;case"display":break;case"print":r=ti.PRINT;break;default:tt(`getRenderingIntent - invalid intent: ${t}`)}const l=r&ti.PRINT&&i instanceof GL?i:this.annotationStorage;switch(e){case _s.DISABLE:r+=ti.ANNOTATIONS_DISABLE;break;case _s.ENABLE:break;case _s.ENABLE_FORMS:r+=ti.ANNOTATIONS_FORMS;break;case _s.ENABLE_STORAGE:r+=ti.ANNOTATIONS_STORAGE,o=l.serializable;break;default:tt(`getRenderingIntent - invalid annotationMode: ${e}`)}s&&(r+=ti.IS_EDITING),a&&(r+=ti.OPLIST);const{ids:c,hash:h}=l.modifiedIds,d=[r,o.hash,h];return{renderingIntent:r,cacheKey:d.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=u(this,ca))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of u(this,vs).values())t.push(s._destroy());u(this,vs).clear(),u(this,_c).clear(),u(this,Cc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var s,a;this.commonObjs.clear(),this.fontLoader.clear(),u(this,ua).clear(),this.filterFactory.destroy(),df.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new Ua("Worker was terminated.")),(a=this.messageHandler)==null||a.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,s)=>{ve(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},s.onPull=()=>{this._fullReader.read().then(function({value:a,done:r}){if(r){s.close();return}ve(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{this._fullReader.cancel(a),s.ready.catch(r=>{if(!this.destroyed)throw r})}}),t.on("ReaderHeadersReady",async i=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:a,contentLength:r}=this._fullReader;return(!s||!a)&&(this._lastProgress&&((o=e.onProgress)==null||o.call(e,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=e.onProgress)==null||c.call(e,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:s,isRangeSupported:a,contentLength:r}}),t.on("GetRangeReader",(i,s)=>{ve(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(i.begin,i.end);if(!a){s.close();return}s.onPull=()=>{a.read().then(function({value:r,done:o}){if(o){s.close();return}ve(r instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{a.cancel(r),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new fU(i,this))}),t.on("DocException",i=>{e._capability.reject(_n(i))}),t.on("PasswordRequest",i=>{b(this,ca,Promise.withResolvers());try{if(!e.onPassword)throw _n(i);const s=a=>{a instanceof Error?u(this,ca).reject(a):u(this,ca).resolve({password:a})};e.onPassword(s,i.code)}catch(s){u(this,ca).reject(s)}return u(this,ca).promise}),t.on("DataLoaded",i=>{var s;(s=e.onProgress)==null||s.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;u(this,vs).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,s,a])=>{var r;if(this.destroyed||this.commonObjs.has(i))return null;switch(s){case"Font":if("error"in a){const h=a.error;tt(`Error during font loading: ${h}`),this.commonObjs.resolve(i,h);break}const o=this._params.pdfBug&&((r=globalThis.FontInspector)!=null&&r.enabled)?(h,d)=>globalThis.FontInspector.fontAdded(h,d):null,l=new SH(a,o);this.fontLoader.bind(l).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!l.fontExtraProperties&&l.data&&(l.data=null),this.commonObjs.resolve(i,l)});break;case"CopyLocalImage":const{imageRef:c}=a;ve(c,"The imageRef must be defined.");for(const h of u(this,vs).values())for(const[,d]of h.objs)if((d==null?void 0:d.ref)===c)return d.dataLen?(this.commonObjs.resolve(i,structuredClone(d)),d.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,a);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([i,s,a,r])=>{var l;if(this.destroyed)return;const o=u(this,vs).get(s);if(!o.objs.has(i)){if(o._intentStates.size===0){(l=r==null?void 0:r.bitmap)==null||l.close();return}switch(a){case"Image":case"Pattern":o.objs.resolve(i,r);break;default:throw new Error(`Got unknown object type ${a}`)}}}),t.on("DocProgress",i=>{var s;this.destroyed||(s=e.onProgress)==null||s.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[i.type];if(!s)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&tt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=u(this,_c).get(e);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&u(this,Cc).set(a.refStr,t);const r=new pU(e,a,this,this._params.pdfBug);return u(this,vs).set(e,r),r});return u(this,_c).set(e,s),s}getPageIndex(t){return wA(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return E(this,al,cd).call(this,"GetFieldObjects")}hasJSActions(){return E(this,al,cd).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return E(this,al,cd).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return E(this,al,cd).call(this,"GetOptionalContentConfig").then(e=>new YH(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=u(this,ua).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(s=>{var a,r;return{info:s[0],metadata:s[1]?new qH(s[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((r=this._fullReader)==null?void 0:r.contentLength)??null}});return u(this,ua).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of u(this,vs).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),u(this,ua).clear(),this.filterFactory.destroy(!0),df.cleanup()}}cachedPageNumber(t){if(!wA(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return u(this,Cc).get(e)??null}}ua=new WeakMap,vs=new WeakMap,_c=new WeakMap,Cc=new WeakMap,ca=new WeakMap,al=new WeakSet,cd=function(t,e=null){const i=u(this,ua).get(t);if(i)return i;const s=this.messageHandler.sendWithPromise(t,e);return u(this,ua).set(t,s),s};var xr;class mU{constructor(t){w(this,xr,null);B(this,"onContinue",null);B(this,"onError",null);b(this,xr,t)}get promise(){return u(this,xr).capability.promise}cancel(t=0){u(this,xr).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=u(this,xr).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=u(this,xr);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}xr=new WeakMap;var _r,rl;const To=class To{constructor({callback:t,params:e,objs:i,commonObjs:s,annotationCanvasMap:a,operatorList:r,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:h=!1,pdfBug:d=!1,pageColors:f=null}){w(this,_r,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=r,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new mU(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var o,l;if(this.cancelled)return;if(this._canvas){if(u(To,rl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(To,rl).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:s,transform:a,background:r}=this.params;this.gfx=new $u(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:s,transparency:t,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(t=null,e=0){var i,s,a;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),u(this,_r)&&(window.cancelAnimationFrame(u(this,_r)),b(this,_r,null)),u(To,rl).delete(this._canvas),t||(t=new xv(`Rendering cancelled, page ${this._pageIndex+1}`,e)),this.callback(t),(a=(s=this.task).onError)==null||a.call(s,t)}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?b(this,_r,window.requestAnimationFrame(()=>{b(this,_r,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(To,rl).delete(this._canvas),this.callback())))}};_r=new WeakMap,rl=new WeakMap,w(To,rl,new WeakSet);let kA=To;const p2="5.3.31",g2="47ad820d9";function zx(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Gh(n){return Math.max(0,Math.min(255,255*n))}class Hx{static CMYK_G([t,e,i,s]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Gh(t),[t,t,t]}static G_HTML([t]){const e=zx(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(Gh)}static RGB_HTML(t){return`#${t.map(zx).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,i+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,i,s]){return[Gh(1-Math.min(1,t+s)),Gh(1-Math.min(1,i+s)),Gh(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const s=1-t,a=1-e,r=1-i,o=Math.min(s,a,r);return["CMYK",s,a,r,o]}}class yU{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),i||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Rt("Abstract method `_createSVG` called.")}}class pf extends yU{_createSVG(t){return document.createElementNS(js,t)}}class mE{static setupStorage(t,e,i,s,a){const r=s.getValue(e,{value:null});switch(i.name){case"textarea":if(r.value!==null&&(t.textContent=r.value),a==="print")break;t.addEventListener("input",o=>{s.setValue(e,{value:o.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(r.value===i.attributes.xfaOn?t.setAttribute("checked",!0):r.value===i.attributes.xfaOff&&t.removeAttribute("checked"),a==="print")break;t.addEventListener("change",o=>{s.setValue(e,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(r.value!==null&&t.setAttribute("value",r.value),a==="print")break;t.addEventListener("input",o=>{s.setValue(e,{value:o.target.value})})}break;case"select":if(r.value!==null){t.setAttribute("value",r.value);for(const o of i.children)o.attributes.value===r.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}t.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;s.setValue(e,{value:c})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:s,linkService:a}){const{attributes:r}=e,o=t instanceof HTMLAnchorElement;r.type==="radio"&&(r.name=`${r.name}-${s}`);for(const[l,c]of Object.entries(r))if(c!=null)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&t.setAttribute(l,c)}o&&a.addLinkAttributes(t,r.href,r.newWindow),i&&r.dataId&&this.setupStorage(t,r.dataId,e,i)}static render(t){var d,f;const e=t.annotationStorage,i=t.linkService,s=t.xfaHtml,a=t.intent||"display",r=document.createElement(s.name);s.attributes&&this.setAttributes({html:r,element:s,intent:a,linkService:i});const o=a!=="richText",l=t.div;if(l.append(r),t.viewport){const p=`matrix(${t.viewport.transform.join(",")})`;l.style.transform=p}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(s.children.length===0){if(s.value){const p=document.createTextNode(s.value);r.append(p),o&&ff.shouldBuildText(s.name)&&c.push(p)}return{textDivs:c}}const h=[[s,-1,r]];for(;h.length>0;){const[p,y,m]=h.at(-1);if(y+1===p.children.length){h.pop();continue}const S=p.children[++h.at(-1)[1]];if(S===null)continue;const{name:g}=S;if(g==="#text"){const A=document.createTextNode(S.value);c.push(A),m.append(A);continue}const v=(d=S==null?void 0:S.attributes)!=null&&d.xmlns?document.createElementNS(S.attributes.xmlns,g):document.createElement(g);if(m.append(v),S.attributes&&this.setAttributes({html:v,element:S,storage:e,intent:a,linkService:i}),((f=S.children)==null?void 0:f.length)>0)h.push([S,-1,v]);else if(S.value){const A=document.createTextNode(S.value);o&&ff.shouldBuildText(g)&&c.push(A),v.append(A)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const vg=1e3,vU=9,$l=new WeakSet;class Ux{static create(t){switch(t.data.annotationType){case le.LINK:return new m2(t);case le.TEXT:return new bU(t);case le.WIDGET:switch(t.data.fieldType){case"Tx":return new AU(t);case"Btn":return t.data.radioButton?new b2(t):t.data.checkBox?new wU(t):new EU(t);case"Ch":return new TU(t);case"Sig":return new SU(t)}return new iu(t);case le.POPUP:return new IA(t);case le.FREETEXT:return new T2(t);case le.LINE:return new _U(t);case le.SQUARE:return new CU(t);case le.CIRCLE:return new RU(t);case le.POLYLINE:return new x2(t);case le.CARET:return new DU(t);case le.INK:return new yE(t);case le.POLYGON:return new MU(t);case le.HIGHLIGHT:return new _2(t);case le.UNDERLINE:return new LU(t);case le.SQUIGGLY:return new OU(t);case le.STRIKEOUT:return new PU(t);case le.STAMP:return new C2(t);case le.FILEATTACHMENT:return new NU(t);default:return new fe(t)}}}var ol,Rc,Mc,lp,BA;const TE=class TE{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:s=!1}={}){w(this,lp);w(this,ol,null);w(this,Rc,!1);w(this,Mc,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:i}){return!!(t!=null&&t.str||e!=null&&e.str||i!=null&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return TE._hasPopupData(this.data)}updateEdited(t){var i;if(!this.container)return;u(this,ol)||b(this,ol,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&E(this,lp,BA).call(this,e),(i=u(this,Mc))==null||i.popup.updateEdited(t)}resetEdited(){var t;u(this,ol)&&(E(this,lp,BA).call(this,u(this,ol).rect),(t=u(this,Mc))==null||t.popup.resetEdited(),b(this,ol,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:s}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",e.id),this instanceof iu||(a.tabIndex=vg);const{style:r}=a;if(r.zIndex=this.parent.zIndex++,e.alternativeText&&(a.title=e.alternativeText),e.noRotate&&a.classList.add("norotate"),!e.rect||this instanceof IA){const{rotation:m}=e;return!e.hasOwnCanvas&&m!==0&&this.setRotation(m,a),a}const{width:o,height:l}=this;if(!t&&e.borderStyle.width>0){r.borderWidth=`${e.borderStyle.width}px`;const m=e.borderStyle.horizontalCornerRadius,S=e.borderStyle.verticalCornerRadius;if(m>0||S>0){const v=`calc(${m}px * var(--total-scale-factor)) / calc(${S}px * var(--total-scale-factor))`;r.borderRadius=v}else if(this instanceof b2){const v=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;r.borderRadius=v}switch(e.borderStyle.style){case du.SOLID:r.borderStyle="solid";break;case du.DASHED:r.borderStyle="dashed";break;case du.BEVELED:tt("Unimplemented border style: beveled");break;case du.INSET:tt("Unimplemented border style: inset");break;case du.UNDERLINE:r.borderBottomStyle="solid";break}const g=e.borderColor||null;g?(b(this,Rc,!0),r.borderColor=G.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):r.borderWidth=0}const c=G.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:h,pageHeight:d,pageX:f,pageY:p}=s.rawDims;r.left=`${100*(c[0]-f)/h}%`,r.top=`${100*(c[1]-p)/d}%`;const{rotation:y}=e;return e.hasOwnCanvas||y===0?(r.width=`${100*o/h}%`,r.height=`${100*l/d}%`):this.setRotation(y,a),a}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:s}=this.parent.viewport.rawDims;let{width:a,height:r}=this;t%180!==0&&([a,r]=[r,a]),e.style.width=`${100*a/i}%`,e.style.height=`${100*r/s}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,s)=>{const a=s.detail[e],r=a[0],o=a.slice(1);s.target.style[i]=Hx[`${r}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[i]:Hx[`${r}_rgb`](o)})};return ut(this,"_commonActions",{display:e=>{const{display:i}=e.detail,s=i%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const s of Object.keys(e.detail)){const a=t[s]||i[s];a==null||a(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[s,a]of Object.entries(e)){const r=i[s];if(r){const o={detail:{[s]:a},target:t};r(o),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,s,a]=this.data.rect.map(m=>Math.fround(m));if(t.length===8){const[m,S,g,v]=t.subarray(2,6);if(s===m&&a===S&&e===g&&i===v)return}const{style:r}=this.container;let o;if(u(this,Rc)){const{borderColor:m,borderWidth:S}=r;r.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const l=s-e,c=a-i,{svgFactory:h}=this,d=h.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const f=h.createElement("defs");d.append(f);const p=h.createElement("clipPath"),y=`clippath_${this.data.id}`;p.setAttribute("id",y),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let m=2,S=t.length;m<S;m+=8){const g=t[m],v=t[m+1],A=t[m+2],T=t[m+3],x=h.createElement("rect"),_=(A-e)/l,C=(a-v)/c,M=(g-A)/l,D=(v-T)/c;x.setAttribute("x",_),x.setAttribute("y",C),x.setAttribute("width",M),x.setAttribute("height",D),p.append(x),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${_}" y="${C}" width="${M}" height="${D}"/>`)}u(this,Rc)&&(o.push("</g></svg>')"),r.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${y})`}_createPopup(){const{data:t}=this,e=b(this,Mc,new IA({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){Rt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:a,id:r,exportValues:o}of s){if(a===-1||r===e)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${r}"]`);if(c&&!$l.has(c)){tt(`_getElementsByName - element not allowed: ${r}`);continue}i.push({id:r,exportValue:l,domElement:c})}return i}for(const s of document.getElementsByName(t)){const{exportValue:a}=s,r=s.getAttribute("data-element-id");r!==e&&$l.has(s)&&i.push({id:r,exportValue:a,domElement:s})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};ol=new WeakMap,Rc=new WeakMap,Mc=new WeakMap,lp=new WeakSet,BA=function(t){const{container:{style:e},data:{rect:i,rotation:s},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:r,pageX:o,pageY:l}}}}=this;i==null||i.splice(0,4,...t),e.left=`${100*(t[0]-o)/a}%`,e.top=`${100*(r-t[3]+l)/r}%`,s===0?(e.width=`${100*(t[2]-t[0])/a}%`,e.height=`${100*(t[3]-t[1])/r}%`):this.setRotation(s)};let fe=TE;var ii,Ao,y2,v2;class m2 extends fe{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});w(this,ii);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,s=document.createElement("a");s.setAttribute("data-element-id",e.id);let a=!1;return e.url?(i.addLinkAttributes(s,e.url,e.newWindow),a=!0):e.action?(this._bindNamedAction(s,e.action),a=!0):e.attachment?(E(this,ii,y2).call(this,s,e.attachment,e.attachmentDest),a=!0):e.setOCGState?(E(this,ii,v2).call(this,s,e.setOCGState),a=!0):e.dest?(this._bindLink(s,e.dest),a=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,e),a=!0),e.resetForm?(this._bindResetFormAction(s,e.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(s,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(s),this.container}_bindLink(e,i){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&E(this,ii,Ao).call(this)}_bindNamedAction(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),E(this,ii,Ao).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(i.actions)){const r=s.get(a);r&&(e[r]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:a}}),!1})}e.onclick||(e.onclick=()=>!1),E(this,ii,Ao).call(this)}_bindResetFormAction(e,i){const s=e.onclick;if(s||(e.href=this.linkService.getAnchorUrl("")),E(this,ii,Ao).call(this),!this._fieldObjects){tt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(e.onclick=()=>!1);return}e.onclick=()=>{var d;s==null||s();const{fields:a,refs:r,include:o}=i,l=[];if(a.length!==0||r.length!==0){const f=new Set(r);for(const p of a){const y=this._fieldObjects[p]||[];for(const{id:m}of y)f.add(m)}for(const p of Object.values(this._fieldObjects))for(const y of p)f.has(y.id)===o&&l.push(y)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,h=[];for(const f of l){const{id:p}=f;switch(h.push(p),f.type){case"text":{const m=f.defaultValue||"";c.setValue(p,{value:m});break}case"checkbox":case"radiobutton":{const m=f.defaultValue===f.exportValues;c.setValue(p,{value:m});break}case"combobox":case"listbox":{const m=f.defaultValue||"";c.setValue(p,{value:m});break}default:continue}const y=document.querySelector(`[data-element-id="${p}"]`);if(y){if(!$l.has(y)){tt(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}ii=new WeakSet,Ao=function(){this.container.setAttribute("data-internal-link","")},y2=function(e,i,s=null){e.href=this.linkService.getAnchorUrl(""),i.description&&(e.title=i.description),e.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(i.content,i.filename,s),!1},E(this,ii,Ao).call(this)},v2=function(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),E(this,ii,Ao).call(this)};class bU extends fe{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class iu extends fe{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return ze.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,s,a){i.includes("mouse")?t.addEventListener(i,r=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(r),shift:r.shiftKey,modifier:this._getKeyModifier(r)}})}):t.addEventListener(i,r=>{var o;if(i==="blur"){if(!e.focused||!r.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}a&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(r)}}))})}_setEventListeners(t,e,i,s){var a,r,o;for(const[l,c]of i)(c==="Action"||(a=this.data.actions)!=null&&a[c])&&((c==="Focus"||c==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,l,c,s),c==="Focus"&&!((r=this.data.actions)!=null&&r.Blur)?this._setEventListener(t,e,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":G.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||vU,a=t.style;let r;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),h=Math.round(c/(O0*s))||1,d=c/h;r=Math.min(s,l(d/O0))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);r=Math.min(s,l(c/O0))}a.fontSize=`calc(${r}px * var(--total-scale-factor))`,a.color=G.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(a.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class AU extends iu{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,s){const a=this.annotationStorage;for(const r of this._getElementsByName(t.name,t.id))r.domElement&&(r.domElement[e]=i),a.setValue(r.id,{[s]:i})}render(){var s,a;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let o=r.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=r.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const h={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=c??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",c??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),$l.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=vg,this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",f=>{t.setValue(e,{value:f.target.value}),this.setPropertyOnSiblings(i,"value",f.target.value,"value"),h.formattedValue=null}),i.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";i.value=h.userValue=p,h.formattedValue=null});let d=f=>{const{formattedValue:p}=h;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",p=>{var m;if(h.focused)return;const{target:y}=p;h.userValue&&(y.value=h.userValue),h.lastCommittedValue=y.value,h.commitKey=1,(m=this.data.actions)!=null&&m.Focus||(h.focused=!0)}),i.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const y={value(m){h.userValue=m.detail.value??"",t.setValue(e,{value:h.userValue.toString()}),m.target.value=h.userValue},formattedValue(m){const{formattedValue:S}=m.detail;h.formattedValue=S,S!=null&&m.target!==document.activeElement&&(m.target.value=S),t.setValue(e,{formattedValue:S})},selRange(m){m.target.setSelectionRange(...m.detail.selRange)},charLimit:m=>{var A;const{charLimit:S}=m.detail,{target:g}=m;if(S===0){g.removeAttribute("maxLength");return}g.setAttribute("maxLength",S);let v=h.userValue;!v||v.length<=S||(v=v.slice(0,S),g.value=h.userValue=v,t.setValue(e,{value:v}),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:v,willCommit:!0,commitKey:1,selStart:g.selectionStart,selEnd:g.selectionEnd}}))}};this._dispatchEventFromSandbox(y,p)}),i.addEventListener("keydown",p=>{var S;h.commitKey=1;let y=-1;if(p.key==="Escape"?y=0:p.key==="Enter"&&!this.data.multiLine?y=2:p.key==="Tab"&&(h.commitKey=3),y===-1)return;const{value:m}=p.target;h.lastCommittedValue!==m&&(h.lastCommittedValue=m,h.userValue=m,(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:m,willCommit:!0,commitKey:y,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=d;d=null,i.addEventListener("blur",p=>{var m,S;if(!h.focused||!p.relatedTarget)return;(m=this.data.actions)!=null&&m.Blur||(h.focused=!1);const{value:y}=p.target;h.userValue=y,h.lastCommittedValue!==y&&((S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:y,willCommit:!0,commitKey:h.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(a=this.data.actions)!=null&&a.Keystroke&&i.addEventListener("beforeinput",p=>{var x;h.lastCommittedValue=null;const{data:y,target:m}=p,{value:S,selectionStart:g,selectionEnd:v}=m;let A=g,T=v;switch(p.inputType){case"deleteWordBackward":{const _=S.substring(0,g).match(/\w*[^\w]*$/);_&&(A-=_[0].length);break}case"deleteWordForward":{const _=S.substring(g).match(/^[^\w]*\w*/);_&&(T+=_[0].length);break}case"deleteContentBackward":g===v&&(A-=1);break;case"deleteContentForward":g===v&&(T+=1);break}p.preventDefault(),(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,change:y||"",willCommit:!1,selStart:A,selEnd:T}})}),this._setEventListeners(i,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&i.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${p}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class SU extends iu{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class wU extends iu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let s=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(i,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return $l.add(a),a.setAttribute("data-element-id",i),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=e.fieldName,s&&a.setAttribute("checked",!0),a.setAttribute("exportValue",e.exportValue),a.tabIndex=vg,a.addEventListener("change",r=>{const{name:o,checked:l}=r.target;for(const c of this._getElementsByName(o,i)){const h=l&&c.exportValue===e.exportValue;c.domElement&&(c.domElement.checked=h),t.setValue(c.id,{value:h})}t.setValue(i,{value:l})}),a.addEventListener("resetform",r=>{const o=e.defaultFieldValue||"Off";r.target.checked=o===e.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",r=>{const o={value(l){l.target.checked=l.detail.value!=="Off",t.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,r)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],r=>r.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class b2 extends iu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let s=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(i,{value:s})),s)for(const r of this._getElementsByName(e.fieldName,i))t.setValue(r.id,{value:!1});const a=document.createElement("input");if($l.add(a),a.setAttribute("data-element-id",i),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=e.fieldName,s&&a.setAttribute("checked",!0),a.tabIndex=vg,a.addEventListener("change",r=>{const{name:o,checked:l}=r.target;for(const c of this._getElementsByName(o,i))t.setValue(c.id,{value:!1});t.setValue(i,{value:l})}),a.addEventListener("resetform",r=>{const o=e.defaultFieldValue;r.target.checked=o!=null&&o===e.buttonValue}),this.enableScripting&&this.hasJSActions){const r=e.buttonValue;a.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const h=r===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const f=h&&d.id===i;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class EU extends m2{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class TU extends iu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");$l.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=vg;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",h=>{const d=this.data.defaultFieldValue;for(const f of s.options)f.selected=f.value===d});for(const h of this.data.options){const d=document.createElement("option");d.textContent=h.displayValue,d.value=h.exportValue,i.value.includes(h.exportValue)&&(d.setAttribute("selected",!0),a=!1),s.append(d)}let r=null;if(a){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),s.prepend(h),r=()=>{h.remove(),s.removeEventListener("input",r),r=null},s.addEventListener("input",r)}const o=h=>{const d=h?"value":"textContent",{options:f,multiple:p}=s;return p?Array.prototype.filter.call(f,y=>y.selected).map(y=>y[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let l=o(!1);const c=h=>{const d=h.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",h=>{const d={value(f){r==null||r();const p=f.detail.value,y=new Set(Array.isArray(p)?p:[p]);for(const m of s.options)m.selected=y.has(m.value);t.setValue(e,{value:o(!0)}),l=o(!1)},multipleSelection(f){s.multiple=!0},remove(f){const p=s.options,y=f.detail.remove;p[y].selected=!1,s.remove(y),p.length>0&&Array.prototype.findIndex.call(p,S=>S.selected)===-1&&(p[0].selected=!0),t.setValue(e,{value:o(!0),items:c(f)}),l=o(!1)},clear(f){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),l=o(!1)},insert(f){const{index:p,displayValue:y,exportValue:m}=f.detail.insert,S=s.children[p],g=document.createElement("option");g.textContent=y,g.value=m,S?S.before(g):s.append(g),t.setValue(e,{value:o(!0),items:c(f)}),l=o(!1)},items(f){const{items:p}=f.detail;for(;s.length!==0;)s.remove(0);for(const y of p){const{displayValue:m,exportValue:S}=y,g=document.createElement("option");g.textContent=m,g.value=S,s.append(g)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:o(!0),items:c(f)}),l=o(!1)},indices(f){const p=new Set(f.detail.indices);for(const y of f.target.options)y.selected=p.has(y.index);t.setValue(e,{value:o(!0)}),l=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,h)}),s.addEventListener("input",h=>{var p;const d=o(!0),f=o(!1);t.setValue(e,{value:d}),h.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:l,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):s.addEventListener("input",function(h){t.setValue(e,{value:o(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class IA extends fe{constructor(t){const{data:e,elements:i}=t;super(t,{isRenderable:fe._hasPopupData(e)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new xU({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",e.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(i=>`${uE}${i}`).join(",")),this.container}}var Dc,Xy,Yy,Lc,Oc,te,ha,Pc,up,cp,Nc,da,Ui,fa,hp,pa,dp,ll,ul,Mt,Rm,FA,A2,S2,w2,E2,Mm,Dm,VA;class xU{constructor({container:t,color:e,elements:i,titleObj:s,modificationDate:a,contentsObj:r,richText:o,parent:l,rect:c,parentRect:h,open:d}){w(this,Mt);w(this,Dc,E(this,Mt,w2).bind(this));w(this,Xy,E(this,Mt,VA).bind(this));w(this,Yy,E(this,Mt,Dm).bind(this));w(this,Lc,E(this,Mt,Mm).bind(this));w(this,Oc,null);w(this,te,null);w(this,ha,null);w(this,Pc,null);w(this,up,null);w(this,cp,null);w(this,Nc,null);w(this,da,!1);w(this,Ui,null);w(this,fa,null);w(this,hp,null);w(this,pa,null);w(this,dp,null);w(this,ll,null);w(this,ul,!1);var f;b(this,te,t),b(this,dp,s),b(this,ha,r),b(this,pa,o),b(this,cp,l),b(this,Oc,e),b(this,hp,c),b(this,Nc,h),b(this,up,i),b(this,Pc,Cv.toDateObject(a)),this.trigger=i.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",u(this,Lc)),p.addEventListener("mouseenter",u(this,Yy)),p.addEventListener("mouseleave",u(this,Xy)),p.classList.add("popupTriggerArea");for(const p of i)(f=p.container)==null||f.addEventListener("keydown",u(this,Dc));u(this,te).hidden=!0,d&&E(this,Mt,Mm).call(this)}render(){if(u(this,Ui))return;const t=b(this,Ui,document.createElement("div"));if(t.className="popup",u(this,Oc)){const a=t.style.outlineColor=G.makeHexColor(...u(this,Oc));t.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`}const e=document.createElement("span");e.className="header";const i=document.createElement("h1");if(e.append(i),{dir:i.dir,str:i.textContent}=u(this,dp),t.append(e),u(this,Pc)){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,Pc).valueOf()})),e.append(a)}const s=u(this,Mt,Rm);if(s)mE.render({xfaHtml:s,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(u(this,ha));t.append(a)}u(this,te).append(t)}_formatContents({str:t,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const s=t.split(/(?:\r\n?|\n)/);for(let a=0,r=s.length;a<r;++a){const o=s[a];i.append(document.createTextNode(o)),a<r-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:t,popupContent:e}){var i;u(this,ll)||b(this,ll,{contentsObj:u(this,ha),richText:u(this,pa)}),t&&b(this,fa,null),e&&(b(this,pa,E(this,Mt,S2).call(this,e)),b(this,ha,null)),(i=u(this,Ui))==null||i.remove(),b(this,Ui,null)}resetEdited(){var t;u(this,ll)&&({contentsObj:fn(this,ha)._,richText:fn(this,pa)._}=u(this,ll),b(this,ll,null),(t=u(this,Ui))==null||t.remove(),b(this,Ui,null),b(this,fa,null))}forceHide(){b(this,ul,this.isVisible),u(this,ul)&&(u(this,te).hidden=!0)}maybeShow(){u(this,ul)&&(u(this,Ui)||E(this,Mt,Dm).call(this),b(this,ul,!1),u(this,te).hidden=!1)}get isVisible(){return u(this,te).hidden===!1}}Dc=new WeakMap,Xy=new WeakMap,Yy=new WeakMap,Lc=new WeakMap,Oc=new WeakMap,te=new WeakMap,ha=new WeakMap,Pc=new WeakMap,up=new WeakMap,cp=new WeakMap,Nc=new WeakMap,da=new WeakMap,Ui=new WeakMap,fa=new WeakMap,hp=new WeakMap,pa=new WeakMap,dp=new WeakMap,ll=new WeakMap,ul=new WeakMap,Mt=new WeakSet,Rm=function(){const t=u(this,pa),e=u(this,ha);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&u(this,pa).html||null},FA=function(){var t,e,i;return((i=(e=(t=u(this,Mt,Rm))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},A2=function(){var t,e,i;return((i=(e=(t=u(this,Mt,Rm))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},S2=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},s={style:{color:u(this,Mt,A2),fontSize:u(this,Mt,FA)?`calc(${u(this,Mt,FA)}px * var(--total-scale-factor))`:""}};for(const a of t.split(`
`))e.push({name:"span",value:a,attributes:s});return i},w2=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&u(this,da))&&E(this,Mt,Mm).call(this)},E2=function(){if(u(this,fa)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:s,pageY:a}}}=u(this,cp);let r=!!u(this,Nc),o=r?u(this,Nc):u(this,hp);for(const y of u(this,up))if(!o||G.intersect(y.data.rect,o)!==null){o=y.data.rect,r=!0;break}const l=G.normalizeRect([o[0],t[3]-o[1]+t[1],o[2],t[3]-o[3]+t[1]]),h=r?o[2]-o[0]+5:0,d=l[0]+h,f=l[1];b(this,fa,[100*(d-s)/e,100*(f-a)/i]);const{style:p}=u(this,te);p.left=`${u(this,fa)[0]}%`,p.top=`${u(this,fa)[1]}%`},Mm=function(){b(this,da,!u(this,da)),u(this,da)?(E(this,Mt,Dm).call(this),u(this,te).addEventListener("click",u(this,Lc)),u(this,te).addEventListener("keydown",u(this,Dc))):(E(this,Mt,VA).call(this),u(this,te).removeEventListener("click",u(this,Lc)),u(this,te).removeEventListener("keydown",u(this,Dc)))},Dm=function(){u(this,Ui)||this.render(),this.isVisible?u(this,da)&&u(this,te).classList.add("focused"):(E(this,Mt,E2).call(this),u(this,te).hidden=!1,u(this,te).style.zIndex=parseInt(u(this,te).style.zIndex)+1e3)},VA=function(){u(this,te).classList.remove("focused"),!(u(this,da)||!this.isVisible)&&(u(this,te).hidden=!0,u(this,te).style.zIndex=parseInt(u(this,te).style.zIndex)-1e3)};class T2 extends fe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=J.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var fp;class _U extends fe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});w(this,fp,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:i,height:s}=this,a=this.svgFactory.create(i,s,!0),r=b(this,fp,this.svgFactory.createElement("svg:line"));return r.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),r.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),r.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),r.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),r.setAttribute("stroke-width",e.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),a.append(r),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,fp)}addHighlightArea(){this.container.classList.add("highlightArea")}}fp=new WeakMap;var pp;class CU extends fe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});w(this,pp,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:i,height:s}=this,a=this.svgFactory.create(i,s,!0),r=e.borderStyle.width,o=b(this,pp,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",r/2),o.setAttribute("y",r/2),o.setAttribute("width",i-r),o.setAttribute("height",s-r),o.setAttribute("stroke-width",r||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,pp)}addHighlightArea(){this.container.classList.add("highlightArea")}}pp=new WeakMap;var gp;class RU extends fe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});w(this,gp,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:i,height:s}=this,a=this.svgFactory.create(i,s,!0),r=e.borderStyle.width,o=b(this,gp,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",i/2),o.setAttribute("cy",s/2),o.setAttribute("rx",i/2-r/2),o.setAttribute("ry",s/2-r/2),o.setAttribute("stroke-width",r||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,gp)}addHighlightArea(){this.container.classList.add("highlightArea")}}gp=new WeakMap;var mp;class x2 extends fe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});w(this,mp,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:s,popupRef:a},width:r,height:o}=this;if(!i)return this.container;const l=this.svgFactory.create(r,o,!0);let c=[];for(let d=0,f=i.length;d<f;d+=2){const p=i[d]-e[0],y=e[3]-i[d+1];c.push(`${p},${y}`)}c=c.join(" ");const h=b(this,mp,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",c),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,mp)}addHighlightArea(){this.container.classList.add("highlightArea")}}mp=new WeakMap;class MU extends x2{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class DU extends fe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var yp,cl,vp,zA;class yE extends fe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});w(this,vp);w(this,yp,null);w(this,cl,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?J.HIGHLIGHT:J.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:i,inkLists:s,borderStyle:a,popupRef:r}}=this,{transform:o,width:l,height:c}=E(this,vp,zA).call(this,i,e),h=this.svgFactory.create(l,c,!0),d=b(this,yp,this.svgFactory.createElement("svg:g"));h.append(d),d.setAttribute("stroke-width",a.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",o);for(let f=0,p=s.length;f<p;f++){const y=this.svgFactory.createElement(this.svgElementName);u(this,cl).push(y),y.setAttribute("points",s[f].join(",")),d.append(y)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:i,points:s,rect:a}=e,r=u(this,yp);if(i>=0&&r.setAttribute("stroke-width",i||1),s)for(let o=0,l=u(this,cl).length;o<l;o++)u(this,cl)[o].setAttribute("points",s[o].join(","));if(a){const{transform:o,width:l,height:c}=E(this,vp,zA).call(this,this.data.rotation,a);r.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),r.setAttribute("transform",o)}}getElementsToTriggerPopup(){return u(this,cl)}addHighlightArea(){this.container.classList.add("highlightArea")}}yp=new WeakMap,cl=new WeakMap,vp=new WeakSet,zA=function(e,i){switch(e){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class _2 extends fe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=J.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class LU extends fe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class OU extends fe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class PU extends fe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class C2 extends fe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=J.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var bp,Ap,HA;class NU extends fe{constructor(e){var s;super(e,{isRenderable:!0});w(this,Ap);w(this,bp,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let s;i.hasAppearance||i.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),s.addEventListener("dblclick",E(this,Ap,HA).bind(this)),b(this,bp,s);const{isMac:a}=ze.platform;return e.addEventListener("keydown",r=>{r.key==="Enter"&&(a?r.metaKey:r.ctrlKey)&&E(this,Ap,HA).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),e.append(s),e}getElementsToTriggerPopup(){return u(this,bp)}addHighlightArea(){this.container.classList.add("highlightArea")}}bp=new WeakMap,Ap=new WeakSet,HA=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Sp,hl,Cr,wp,lo,UA,jA,kc;let vE=(kc=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:s,page:a,viewport:r,structTreeLayer:o}){w(this,lo);w(this,Sp,null);w(this,hl,null);w(this,Cr,new Map);w(this,wp,null);this.div=t,b(this,Sp,e),b(this,hl,i),b(this,wp,o||null),this.page=a,this.viewport=r,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return u(this,Cr).size>0}async render(t){var r;const{annotations:e}=t,i=this.div;so(i,this.viewport);const s=new Map,a={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new pf,annotationStorage:t.annotationStorage||new hE,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const o of e){if(o.noHTML)continue;const l=o.annotationType===le.POPUP;if(l){const d=s.get(o.id);if(!d)continue;a.elements=d}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;a.data=o;const c=Ux.create(a);if(!c.isRenderable)continue;if(!l&&o.popupRef){const d=s.get(o.popupRef);d?d.push(c):s.set(o.popupRef,[c])}const h=c.render();o.hidden&&(h.style.visibility="hidden"),await E(this,lo,UA).call(this,h,o.id),c._isEditable&&(u(this,Cr).set(c.data.id,c),(r=this._annotationEditorUIManager)==null||r.renderAnnotationElement(c))}E(this,lo,jA).call(this)}async addLinkAnnotations(t,e){const i={data:null,layer:this.div,linkService:e,svgFactory:new pf,parent:this};for(const s of t){s.borderStyle||(s.borderStyle=kc._defaultBorderStyle),i.data=s;const a=Ux.create(i);if(!a.isRenderable)continue;const r=a.render();await E(this,lo,UA).call(this,r,s.id)}}update({viewport:t}){const e=this.div;this.viewport=t,so(e,{rotation:t.rotation}),E(this,lo,jA).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(u(this,Cr).values())}getEditableAnnotation(t){return u(this,Cr).get(t)}static get _defaultBorderStyle(){return ut(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:du.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Sp=new WeakMap,hl=new WeakMap,Cr=new WeakMap,wp=new WeakMap,lo=new WeakSet,UA=async function(t,e){var r,o;const i=t.firstChild||t,s=i.id=`${uE}${e}`,a=await((r=u(this,wp))==null?void 0:r.getAriaAttributes(s));if(a)for(const[l,c]of a)i.setAttribute(l,c);this.div.append(t),(o=u(this,Sp))==null||o.moveElementInDOM(this.div,t,i,!1)},jA=function(){var e;if(!u(this,hl))return;const t=this.div;for(const[i,s]of u(this,hl)){const a=t.querySelector(`[data-annotation-id="${i}"]`);if(!a)continue;s.className="annotationContent";const{firstChild:r}=a;r?r.nodeName==="CANVAS"?r.replaceWith(s):r.classList.contains("annotationContent")?r.after(s):r.before(s):a.append(s);const o=u(this,Cr).get(i);o&&(o._hasNoCanvas?((e=this._annotationEditorUIManager)==null||e.setMissingCanvas(i,a.id,s),o._hasNoCanvas=!1):o.canvas=s)}u(this,hl).clear()},kc);const $g=/\r\n?|\n/g;var ji,qn,Ep,dl,Xn,Ae,R2,M2,D2,Lm,Pa,Om,Pm,L2,qA,O2;const Nt=class Nt extends kt{constructor(e){super({...e,name:"freeTextEditor"});w(this,Ae);w(this,ji);w(this,qn,"");w(this,Ep,`${this.id}-editor`);w(this,dl,null);w(this,Xn);b(this,ji,e.color||Nt._defaultColor||kt._defaultLineColor),b(this,Xn,e.fontSize||Nt._defaultFontSize)}static get _keyboardManager(){const e=Nt.prototype,i=r=>r.isEmpty(),s=ao.TRANSLATE_SMALL,a=ao.TRANSLATE_BIG;return ut(this,"_keyboardManager",new mg([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[a,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,a],checker:i}]]))}static initialize(e,i){kt.initialize(e,i);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case ct.FREETEXT_SIZE:Nt._defaultFontSize=i;break;case ct.FREETEXT_COLOR:Nt._defaultColor=i;break}}updateParams(e,i){switch(e){case ct.FREETEXT_SIZE:E(this,Ae,R2).call(this,i);break;case ct.FREETEXT_COLOR:E(this,Ae,M2).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ct.FREETEXT_SIZE,Nt._defaultFontSize],[ct.FREETEXT_COLOR,Nt._defaultColor||kt._defaultLineColor]]}get propertiesToUpdate(){return[[ct.FREETEXT_SIZE,u(this,Xn)],[ct.FREETEXT_COLOR,u(this,ji)]]}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-Nt._internalPadding*e,-(Nt._internalPadding+u(this,Xn))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),b(this,dl,new AbortController);const e=this._uiManager.combinedSignal(u(this,dl));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,Ep)),this._isDraggable=!0,(e=u(this,dl))==null||e.abort(),b(this,dl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var i;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=u(this,qn),i=b(this,qn,E(this,Ae,D2).call(this).trimEnd());if(e===i)return;const s=a=>{if(b(this,qn,a),!a){this.remove();return}E(this,Ae,Pm).call(this),this._uiManager.rebuild(this),E(this,Ae,Lm).call(this)};this.addCommands({cmd:()=>{s(i)},undo:()=>{s(e)},mustExec:!1}),E(this,Ae,Lm).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Nt._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,i;(this._isCopy||this.annotationElementId)&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,Ep)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${u(this,Xn)}px * var(--total-scale-factor))`,s.color=u(this,ji),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,r]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[h,d]=this.pageDimensions,[f,p]=this.pageTranslation;let y,m;switch(this.rotation){case 0:y=e+(o[0]-f)/h,m=i+this.height-(o[1]-p)/d;break;case 90:y=e+(o[0]-f)/h,m=i-(o[1]-p)/d,[l,c]=[c,-l];break;case 180:y=e-this.width+(o[0]-f)/h,m=i-(o[1]-p)/d,[l,c]=[-l,-c];break;case 270:y=e+(o[0]-f-this.height*d)/h,m=i+(o[1]-p-this.width*h)/d,[l,c]=[-c,l];break}this.setAt(y*a,m*r,l,c)}else this._moveAfterPaste(e,i);E(this,Ae,Pm).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var y,m,S;const i=e.clipboardData||window.clipboardData,{types:s}=i;if(s.length===1&&s[0]==="text/plain")return;e.preventDefault();const a=E(y=Nt,Pa,qA).call(y,i.getData("text")||"").replaceAll($g,`
`);if(!a)return;const r=window.getSelection();if(!r.rangeCount)return;this.editorDiv.normalize(),r.deleteFromDocument();const o=r.getRangeAt(0);if(!a.includes(`
`)){o.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),r.collapseToStart();return}const{startContainer:l,startOffset:c}=o,h=[],d=[];if(l.nodeType===Node.TEXT_NODE){const g=l.parentElement;if(d.push(l.nodeValue.slice(c).replaceAll($g,"")),g!==this.editorDiv){let v=h;for(const A of this.editorDiv.childNodes){if(A===g){v=d;continue}v.push(E(m=Nt,Pa,Om).call(m,A))}}h.push(l.nodeValue.slice(0,c).replaceAll($g,""))}else if(l===this.editorDiv){let g=h,v=0;for(const A of this.editorDiv.childNodes)v++===c&&(g=d),g.push(E(S=Nt,Pa,Om).call(S,A))}b(this,qn,`${h.join(`
`)}${a}${d.join(`
`)}`),E(this,Ae,Pm).call(this);const f=new Range;let p=Math.sumPrecise(h.map(g=>g.length));for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const v=g.nodeValue.length;if(p<=v){f.setStart(g,p),f.setEnd(g,p);break}p-=v}r.removeAllRanges(),r.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(e,i,s){var o;let a=null;if(e instanceof T2){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:h,rotation:d,id:f,popupRef:p},textContent:y,textPosition:m,parent:{page:{pageNumber:S}}}=e;if(!y||y.length===0)return null;a=e={annotationType:J.FREETEXT,color:Array.from(c),fontSize:l,value:y.join(`
`),position:m,pageIndex:S-1,rect:h.slice(0),rotation:d,id:f,deleted:!1,popupRef:p}}const r=await super.deserialize(e,i,s);return b(r,Xn,e.fontSize),b(r,ji,G.makeHexColor(...e.color)),b(r,qn,E(o=Nt,Pa,qA).call(o,e.value)),r.annotationElementId=e.id||null,r._initialData=a,r}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Nt._internalPadding*this.parentScale,s=this.getRect(i,i),a=kt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,ji)),r={annotationType:J.FREETEXT,color:a,fontSize:u(this,Xn),value:E(this,Ae,L2).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(r.isCopy=!0,r):this.annotationElementId&&!E(this,Ae,O2).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e);if(this.deleted)return i;const{style:s}=i;s.fontSize=`calc(${u(this,Xn)}px * var(--total-scale-factor))`,s.color=u(this,ji),i.replaceChildren();for(const r of u(this,qn).split(`
`)){const o=document.createElement("div");o.append(r?document.createTextNode(r):document.createElement("br")),i.append(o)}const a=Nt._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(a,a),popupContent:u(this,qn)}),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};ji=new WeakMap,qn=new WeakMap,Ep=new WeakMap,dl=new WeakMap,Xn=new WeakMap,Ae=new WeakSet,R2=function(e){const i=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-u(this,Xn))*this.parentScale),b(this,Xn,a),E(this,Ae,Lm).call(this)},s=u(this,Xn);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ct.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},M2=function(e){const i=a=>{b(this,ji,this.editorDiv.style.color=a)},s=u(this,ji);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ct.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},D2=function(){var s;const e=[];this.editorDiv.normalize();let i=null;for(const a of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(e.push(E(s=Nt,Pa,Om).call(s,a)),i=a);return e.join(`
`)},Lm=function(){const[e,i]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:a,div:r}=this,o=r.style.display,l=r.classList.contains("hidden");r.classList.remove("hidden"),r.style.display="hidden",a.div.append(this.div),s=r.getBoundingClientRect(),r.remove(),r.style.display=o,r.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=s.width/e,this.height=s.height/i):(this.width=s.height/e,this.height=s.width/i),this.fixAndSetPosition()},Pa=new WeakSet,Om=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll($g,"")},Pm=function(){if(this.editorDiv.replaceChildren(),!!u(this,qn))for(const e of u(this,qn).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},L2=function(){return u(this,qn).replaceAll(""," ")},qA=function(e){return e.replaceAll(" ","")},O2=function(e){const{value:i,fontSize:s,color:a,pageIndex:r}=this._initialData;return this._hasBeenMoved||e.value!==i||e.fontSize!==s||e.color.some((o,l)=>o!==a[l])||e.pageIndex!==r},w(Nt,Pa),B(Nt,"_freeTextDefaultContent",""),B(Nt,"_internalPadding",0),B(Nt,"_defaultColor",null),B(Nt,"_defaultFontSize",10),B(Nt,"_type","freetext"),B(Nt,"_editorType",J.FREETEXT);let GA=Nt;class H{toSVGPath(){Rt("Abstract method `toSVGPath` must be implemented.")}get box(){Rt("Abstract getter `box` must be implemented.")}serialize(t,e){Rt("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,s,a,r){r||(r=new Float32Array(t.length));for(let o=0,l=t.length;o<l;o+=2)r[o]=e+t[o]*s,r[o+1]=i+t[o+1]*a;return r}static _rescaleAndSwap(t,e,i,s,a,r){r||(r=new Float32Array(t.length));for(let o=0,l=t.length;o<l;o+=2)r[o]=e+t[o+1]*s,r[o+1]=i+t[o]*a;return r}static _translate(t,e,i,s){s||(s=new Float32Array(t.length));for(let a=0,r=t.length;a<r;a+=2)s[a]=e+t[a],s[a+1]=i+t[a+1];return s}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,s,a){switch(a){case 90:return[1-e/i,t/s];case 180:return[1-t/i,1-e/s];case 270:return[e/i,1-t/s];default:return[t/i,e/s]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,s,a,r){return[(t+5*i)/6,(e+5*s)/6,(5*i+a)/6,(5*s+r)/6,(i+a)/2,(s+r)/2]}}B(H,"PRECISION",1e-4);var Yn,Gi,Bc,Ic,bs,rt,fl,pl,Tp,xp,Fc,Vc,Rr,_p,$y,Ky,_e,hd,P2,N2,k2,B2,I2,F2;const Ys=class Ys{constructor({x:t,y:e},i,s,a,r,o=0){w(this,_e);w(this,Yn);w(this,Gi,[]);w(this,Bc);w(this,Ic);w(this,bs,[]);w(this,rt,new Float32Array(18));w(this,fl);w(this,pl);w(this,Tp);w(this,xp);w(this,Fc);w(this,Vc);w(this,Rr,[]);b(this,Yn,i),b(this,Vc,a*s),b(this,Ic,r),u(this,rt).set([NaN,NaN,NaN,NaN,t,e],6),b(this,Bc,o),b(this,xp,u(Ys,_p)*s),b(this,Tp,u(Ys,Ky)*s),b(this,Fc,s),u(this,Rr).push(t,e)}isEmpty(){return isNaN(u(this,rt)[8])}add({x:t,y:e}){var D;b(this,fl,t),b(this,pl,e);const[i,s,a,r]=u(this,Yn);let[o,l,c,h]=u(this,rt).subarray(8,12);const d=t-c,f=e-h,p=Math.hypot(d,f);if(p<u(this,Tp))return!1;const y=p-u(this,xp),m=y/p,S=m*d,g=m*f;let v=o,A=l;o=c,l=h,c+=S,h+=g,(D=u(this,Rr))==null||D.push(t,e);const T=-g/y,x=S/y,_=T*u(this,Vc),C=x*u(this,Vc);return u(this,rt).set(u(this,rt).subarray(2,8),0),u(this,rt).set([c+_,h+C],4),u(this,rt).set(u(this,rt).subarray(14,18),12),u(this,rt).set([c-_,h-C],16),isNaN(u(this,rt)[6])?(u(this,bs).length===0&&(u(this,rt).set([o+_,l+C],2),u(this,bs).push(NaN,NaN,NaN,NaN,(o+_-i)/a,(l+C-s)/r),u(this,rt).set([o-_,l-C],14),u(this,Gi).push(NaN,NaN,NaN,NaN,(o-_-i)/a,(l-C-s)/r)),u(this,rt).set([v,A,o,l,c,h],6),!this.isEmpty()):(u(this,rt).set([v,A,o,l,c,h],6),Math.abs(Math.atan2(A-l,v-o)-Math.atan2(g,S))<Math.PI/2?([o,l,c,h]=u(this,rt).subarray(2,6),u(this,bs).push(NaN,NaN,NaN,NaN,((o+c)/2-i)/a,((l+h)/2-s)/r),[o,l,v,A]=u(this,rt).subarray(14,18),u(this,Gi).push(NaN,NaN,NaN,NaN,((v+o)/2-i)/a,((A+l)/2-s)/r),!0):([v,A,o,l,c,h]=u(this,rt).subarray(0,6),u(this,bs).push(((v+5*o)/6-i)/a,((A+5*l)/6-s)/r,((5*o+c)/6-i)/a,((5*l+h)/6-s)/r,((o+c)/2-i)/a,((l+h)/2-s)/r),[c,h,o,l,v,A]=u(this,rt).subarray(12,18),u(this,Gi).push(((v+5*o)/6-i)/a,((A+5*l)/6-s)/r,((5*o+c)/6-i)/a,((5*l+h)/6-s)/r,((o+c)/2-i)/a,((l+h)/2-s)/r),!0))}toSVGPath(){if(this.isEmpty())return"";const t=u(this,bs),e=u(this,Gi);if(isNaN(u(this,rt)[6])&&!this.isEmpty())return E(this,_e,P2).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let s=6;s<t.length;s+=6)isNaN(t[s])?i.push(`L${t[s+4]} ${t[s+5]}`):i.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);E(this,_e,k2).call(this,i);for(let s=e.length-6;s>=6;s-=6)isNaN(e[s])?i.push(`L${e[s+4]} ${e[s+5]}`):i.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);return E(this,_e,N2).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,s,a,r){return new V2(t,e,i,s,a,r)}getOutlines(){var d;const t=u(this,bs),e=u(this,Gi),i=u(this,rt),[s,a,r,o]=u(this,Yn),l=new Float32Array((((d=u(this,Rr))==null?void 0:d.length)??0)+2);for(let f=0,p=l.length-2;f<p;f+=2)l[f]=(u(this,Rr)[f]-s)/r,l[f+1]=(u(this,Rr)[f+1]-a)/o;if(l[l.length-2]=(u(this,fl)-s)/r,l[l.length-1]=(u(this,pl)-a)/o,isNaN(i[6])&&!this.isEmpty())return E(this,_e,B2).call(this,l);const c=new Float32Array(u(this,bs).length+24+u(this,Gi).length);let h=t.length;for(let f=0;f<h;f+=2){if(isNaN(t[f])){c[f]=c[f+1]=NaN;continue}c[f]=t[f],c[f+1]=t[f+1]}h=E(this,_e,F2).call(this,c,h);for(let f=e.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(e[f+p])){c[h]=c[h+1]=NaN,h+=2;continue}c[h]=e[f+p],c[h+1]=e[f+p+1],h+=2}return E(this,_e,I2).call(this,c,h),this.newFreeDrawOutline(c,l,u(this,Yn),u(this,Fc),u(this,Bc),u(this,Ic))}};Yn=new WeakMap,Gi=new WeakMap,Bc=new WeakMap,Ic=new WeakMap,bs=new WeakMap,rt=new WeakMap,fl=new WeakMap,pl=new WeakMap,Tp=new WeakMap,xp=new WeakMap,Fc=new WeakMap,Vc=new WeakMap,Rr=new WeakMap,_p=new WeakMap,$y=new WeakMap,Ky=new WeakMap,_e=new WeakSet,hd=function(){const t=u(this,rt).subarray(4,6),e=u(this,rt).subarray(16,18),[i,s,a,r]=u(this,Yn);return[(u(this,fl)+(t[0]-e[0])/2-i)/a,(u(this,pl)+(t[1]-e[1])/2-s)/r,(u(this,fl)+(e[0]-t[0])/2-i)/a,(u(this,pl)+(e[1]-t[1])/2-s)/r]},P2=function(){const[t,e,i,s]=u(this,Yn),[a,r,o,l]=E(this,_e,hd).call(this);return`M${(u(this,rt)[2]-t)/i} ${(u(this,rt)[3]-e)/s} L${(u(this,rt)[4]-t)/i} ${(u(this,rt)[5]-e)/s} L${a} ${r} L${o} ${l} L${(u(this,rt)[16]-t)/i} ${(u(this,rt)[17]-e)/s} L${(u(this,rt)[14]-t)/i} ${(u(this,rt)[15]-e)/s} Z`},N2=function(t){const e=u(this,Gi);t.push(`L${e[4]} ${e[5]} Z`)},k2=function(t){const[e,i,s,a]=u(this,Yn),r=u(this,rt).subarray(4,6),o=u(this,rt).subarray(16,18),[l,c,h,d]=E(this,_e,hd).call(this);t.push(`L${(r[0]-e)/s} ${(r[1]-i)/a} L${l} ${c} L${h} ${d} L${(o[0]-e)/s} ${(o[1]-i)/a}`)},B2=function(t){const e=u(this,rt),[i,s,a,r]=u(this,Yn),[o,l,c,h]=E(this,_e,hd).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(e[2]-i)/a,(e[3]-s)/r,NaN,NaN,NaN,NaN,(e[4]-i)/a,(e[5]-s)/r,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,(e[16]-i)/a,(e[17]-s)/r,NaN,NaN,NaN,NaN,(e[14]-i)/a,(e[15]-s)/r],0),this.newFreeDrawOutline(d,t,u(this,Yn),u(this,Fc),u(this,Bc),u(this,Ic))},I2=function(t,e){const i=u(this,Gi);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},F2=function(t,e){const i=u(this,rt).subarray(4,6),s=u(this,rt).subarray(16,18),[a,r,o,l]=u(this,Yn),[c,h,d,f]=E(this,_e,hd).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-a)/o,(i[1]-r)/l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(s[0]-a)/o,(s[1]-r)/l],e),e+=24},w(Ys,_p,8),w(Ys,$y,2),w(Ys,Ky,u(Ys,_p)+u(Ys,$y));let My=Ys;var zc,gl,ga,Cp,$n,Rp,ce,Wy,z2;class V2 extends H{constructor(e,i,s,a,r,o){super();w(this,Wy);w(this,zc);w(this,gl,new Float32Array(4));w(this,ga);w(this,Cp);w(this,$n);w(this,Rp);w(this,ce);b(this,ce,e),b(this,$n,i),b(this,zc,s),b(this,Rp,a),b(this,ga,r),b(this,Cp,o),this.lastPoint=[NaN,NaN],E(this,Wy,z2).call(this,o);const[l,c,h,d]=u(this,gl);for(let f=0,p=e.length;f<p;f+=2)e[f]=(e[f]-l)/h,e[f+1]=(e[f+1]-c)/d;for(let f=0,p=i.length;f<p;f+=2)i[f]=(i[f]-l)/h,i[f+1]=(i[f+1]-c)/d}toSVGPath(){const e=[`M${u(this,ce)[4]} ${u(this,ce)[5]}`];for(let i=6,s=u(this,ce).length;i<s;i+=6){if(isNaN(u(this,ce)[i])){e.push(`L${u(this,ce)[i+4]} ${u(this,ce)[i+5]}`);continue}e.push(`C${u(this,ce)[i]} ${u(this,ce)[i+1]} ${u(this,ce)[i+2]} ${u(this,ce)[i+3]} ${u(this,ce)[i+4]} ${u(this,ce)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,s,a],r){const o=s-e,l=a-i;let c,h;switch(r){case 0:c=H._rescale(u(this,ce),e,a,o,-l),h=H._rescale(u(this,$n),e,a,o,-l);break;case 90:c=H._rescaleAndSwap(u(this,ce),e,i,o,l),h=H._rescaleAndSwap(u(this,$n),e,i,o,l);break;case 180:c=H._rescale(u(this,ce),s,i,-o,l),h=H._rescale(u(this,$n),s,i,-o,l);break;case 270:c=H._rescaleAndSwap(u(this,ce),s,a,-o,-l),h=H._rescaleAndSwap(u(this,$n),s,a,-o,-l);break}return{outline:Array.from(c),points:[Array.from(h)]}}get box(){return u(this,gl)}newOutliner(e,i,s,a,r,o=0){return new My(e,i,s,a,r,o)}getNewOutline(e,i){const[s,a,r,o]=u(this,gl),[l,c,h,d]=u(this,zc),f=r*h,p=o*d,y=s*h+l,m=a*d+c,S=this.newOutliner({x:u(this,$n)[0]*f+y,y:u(this,$n)[1]*p+m},u(this,zc),u(this,Rp),e,u(this,Cp),i??u(this,ga));for(let g=2;g<u(this,$n).length;g+=2)S.add({x:u(this,$n)[g]*f+y,y:u(this,$n)[g+1]*p+m});return S.getOutlines()}}zc=new WeakMap,gl=new WeakMap,ga=new WeakMap,Cp=new WeakMap,$n=new WeakMap,Rp=new WeakMap,ce=new WeakMap,Wy=new WeakSet,z2=function(e){const i=u(this,ce);let s=i[4],a=i[5];const r=[s,a,s,a];let o=s,l=a;const c=e?Math.max:Math.min;for(let d=6,f=i.length;d<f;d+=6){const p=i[d+4],y=i[d+5];if(isNaN(i[d]))G.pointBoundingBox(p,y,r),l<y?(o=p,l=y):l===y&&(o=c(o,p));else{const m=[1/0,1/0,-1/0,-1/0];G.bezierBoundingBox(s,a,...i.slice(d,d+6),m),G.rectBoundingBox(...m,r),l<m[3]?(o=m[2],l=m[3]):l===m[3]&&(o=c(o,m[2]))}s=p,a=y}const h=u(this,gl);h[0]=r[0]-u(this,ga),h[1]=r[1]-u(this,ga),h[2]=r[2]-r[0]+2*u(this,ga),h[3]=r[3]-r[1]+2*u(this,ga),this.lastPoint=[o,l]};var Mp,Dp,Mr,qi,Tn,H2,Nm,U2,j2,YA;class XA{constructor(t,e=0,i=0,s=!0){w(this,Tn);w(this,Mp);w(this,Dp);w(this,Mr,[]);w(this,qi,[]);const a=[1/0,1/0,-1/0,-1/0],r=10**-4;for(const{x:p,y,width:m,height:S}of t){const g=Math.floor((p-e)/r)*r,v=Math.ceil((p+m+e)/r)*r,A=Math.floor((y-e)/r)*r,T=Math.ceil((y+S+e)/r)*r,x=[g,A,T,!0],_=[v,A,T,!1];u(this,Mr).push(x,_),G.rectBoundingBox(g,A,v,T,a)}const o=a[2]-a[0]+2*i,l=a[3]-a[1]+2*i,c=a[0]-i,h=a[1]-i,d=u(this,Mr).at(s?-1:-2),f=[d[0],d[2]];for(const p of u(this,Mr)){const[y,m,S]=p;p[0]=(y-c)/o,p[1]=(m-h)/l,p[2]=(S-h)/l}b(this,Mp,new Float32Array([c,h,o,l])),b(this,Dp,f)}getOutlines(){u(this,Mr).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of u(this,Mr))e[3]?(t.push(...E(this,Tn,YA).call(this,e)),E(this,Tn,U2).call(this,e)):(E(this,Tn,j2).call(this,e),t.push(...E(this,Tn,YA).call(this,e)));return E(this,Tn,H2).call(this,t)}}Mp=new WeakMap,Dp=new WeakMap,Mr=new WeakMap,qi=new WeakMap,Tn=new WeakSet,H2=function(t){const e=[],i=new Set;for(const r of t){const[o,l,c]=r;e.push([o,l,r],[o,c,r])}e.sort((r,o)=>r[1]-o[1]||r[0]-o[0]);for(let r=0,o=e.length;r<o;r+=2){const l=e[r][2],c=e[r+1][2];l.push(c),c.push(l),i.add(l),i.add(c)}const s=[];let a;for(;i.size>0;){const r=i.values().next().value;let[o,l,c,h,d]=r;i.delete(r);let f=o,p=l;for(a=[o,c],s.push(a);;){let y;if(i.has(h))y=h;else if(i.has(d))y=d;else break;i.delete(y),[o,l,c,h,d]=y,f!==o&&(a.push(f,p,o,p===l?l:c),f=o),p=p===l?c:l}a.push(f,p)}return new kU(s,u(this,Mp),u(this,Dp))},Nm=function(t){const e=u(this,qi);let i=0,s=e.length-1;for(;i<=s;){const a=i+s>>1,r=e[a][0];if(r===t)return a;r<t?i=a+1:s=a-1}return s+1},U2=function([,t,e]){const i=E(this,Tn,Nm).call(this,t);u(this,qi).splice(i,0,[t,e])},j2=function([,t,e]){const i=E(this,Tn,Nm).call(this,t);for(let s=i;s<u(this,qi).length;s++){const[a,r]=u(this,qi)[s];if(a!==t)break;if(a===t&&r===e){u(this,qi).splice(s,1);return}}for(let s=i-1;s>=0;s--){const[a,r]=u(this,qi)[s];if(a!==t)break;if(a===t&&r===e){u(this,qi).splice(s,1);return}}},YA=function(t){const[e,i,s]=t,a=[[e,i,s]],r=E(this,Tn,Nm).call(this,s);for(let o=0;o<r;o++){const[l,c]=u(this,qi)[o];for(let h=0,d=a.length;h<d;h++){const[,f,p]=a[h];if(!(c<=f||p<=l)){if(f>=l){if(p>c)a[h][1]=c;else{if(d===1)return[];a.splice(h,1),h--,d--}continue}a[h][2]=l,p>c&&a.push([e,c,p])}}}return a};var Lp,Hc;class kU extends H{constructor(e,i,s){super();w(this,Lp);w(this,Hc);b(this,Hc,e),b(this,Lp,i),this.lastPoint=s}toSVGPath(){const e=[];for(const i of u(this,Hc)){let[s,a]=i;e.push(`M${s} ${a}`);for(let r=2;r<i.length;r+=2){const o=i[r],l=i[r+1];o===s?(e.push(`V${l}`),a=l):l===a&&(e.push(`H${o}`),s=o)}e.push("Z")}return e.join(" ")}serialize([e,i,s,a],r){const o=[],l=s-e,c=a-i;for(const h of u(this,Hc)){const d=new Array(h.length);for(let f=0;f<h.length;f+=2)d[f]=e+h[f]*l,d[f+1]=a-h[f+1]*c;o.push(d)}return o}get box(){return u(this,Lp)}get classNamesForOutlining(){return["highlightOutline"]}}Lp=new WeakMap,Hc=new WeakMap;class $A extends My{newFreeDrawOutline(t,e,i,s,a,r){return new BU(t,e,i,s,a,r)}}class BU extends V2{newOutliner(t,e,i,s,a,r=0){return new $A(t,e,i,s,a,r)}}var Xi,ml,Uc,Ee,Op,jc,Pp,Np,Dr,Yi,Gc,kp,Ct,KA,WA,QA,So,G2,Za;const Cn=class Cn{constructor({editor:t=null,uiManager:e=null}){w(this,Ct);w(this,Xi,null);w(this,ml,null);w(this,Uc);w(this,Ee,null);w(this,Op,!1);w(this,jc,!1);w(this,Pp,null);w(this,Np);w(this,Dr,null);w(this,Yi,null);w(this,Gc);var i;t?(b(this,jc,!1),b(this,Gc,ct.HIGHLIGHT_COLOR),b(this,Pp,t)):(b(this,jc,!0),b(this,Gc,ct.HIGHLIGHT_DEFAULT_COLOR)),b(this,Yi,(t==null?void 0:t._uiManager)||e),b(this,Np,u(this,Yi)._eventBus),b(this,Uc,(t==null?void 0:t.color)||((i=u(this,Yi))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),u(Cn,kp)||b(Cn,kp,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return ut(this,"_keyboardManager",new mg([[["Escape","mac+Escape"],Cn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Cn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Cn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Cn.prototype._moveToPrevious],[["Home","mac+Home"],Cn.prototype._moveToBeginning],[["End","mac+End"],Cn.prototype._moveToEnd]]))}renderButton(){const t=b(this,Xi,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=u(this,Yi)._signal;t.addEventListener("click",E(this,Ct,So).bind(this),{signal:e}),t.addEventListener("keydown",E(this,Ct,QA).bind(this),{signal:e});const i=b(this,ml,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=u(this,Uc),t.append(i),t}renderMainDropdown(){const t=b(this,Ee,E(this,Ct,KA).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===u(this,Xi)){E(this,Ct,So).call(this,t);return}const e=t.target.getAttribute("data-color");e&&E(this,Ct,WA).call(this,e,t)}_moveToNext(t){var e,i;if(!u(this,Ct,Za)){E(this,Ct,So).call(this,t);return}if(t.target===u(this,Xi)){(e=u(this,Ee).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=u(this,Ee))==null?void 0:e.firstChild)||t.target===u(this,Xi)){u(this,Ct,Za)&&this._hideDropdownFromKeyboard();return}u(this,Ct,Za)||E(this,Ct,So).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!u(this,Ct,Za)){E(this,Ct,So).call(this,t);return}(e=u(this,Ee).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!u(this,Ct,Za)){E(this,Ct,So).call(this,t);return}(e=u(this,Ee).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=u(this,Ee))==null||t.classList.add("hidden"),(e=u(this,Dr))==null||e.abort(),b(this,Dr,null)}_hideDropdownFromKeyboard(){var t;if(!u(this,jc)){if(!u(this,Ct,Za)){(t=u(this,Pp))==null||t.unselect();return}this.hideDropdown(),u(this,Xi).focus({preventScroll:!0,focusVisible:u(this,Op)})}}updateColor(t){if(u(this,ml)&&(u(this,ml).style.backgroundColor=t),!u(this,Ee))return;const e=u(this,Yi).highlightColors.values();for(const i of u(this,Ee).children)i.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=u(this,Xi))==null||t.remove(),b(this,Xi,null),b(this,ml,null),(e=u(this,Ee))==null||e.remove(),b(this,Ee,null)}};Xi=new WeakMap,ml=new WeakMap,Uc=new WeakMap,Ee=new WeakMap,Op=new WeakMap,jc=new WeakMap,Pp=new WeakMap,Np=new WeakMap,Dr=new WeakMap,Yi=new WeakMap,Gc=new WeakMap,kp=new WeakMap,Ct=new WeakSet,KA=function(){const t=document.createElement("div"),e=u(this,Yi)._signal;t.addEventListener("contextmenu",ki,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,s]of u(this,Yi).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",s),a.title=i,a.setAttribute("data-l10n-id",u(Cn,kp)[i]);const r=document.createElement("span");a.append(r),r.className="swatch",r.style.backgroundColor=s,a.setAttribute("aria-selected",s===u(this,Uc)),a.addEventListener("click",E(this,Ct,WA).bind(this,s),{signal:e}),t.append(a)}return t.addEventListener("keydown",E(this,Ct,QA).bind(this),{signal:e}),t},WA=function(t,e){e.stopPropagation(),u(this,Np).dispatch("switchannotationeditorparams",{source:this,type:u(this,Gc),value:t})},QA=function(t){Cn._keyboardManager.exec(this,t)},So=function(t){if(u(this,Ct,Za)){this.hideDropdown();return}if(b(this,Op,t.detail===0),u(this,Dr)||(b(this,Dr,new AbortController),window.addEventListener("pointerdown",E(this,Ct,G2).bind(this),{signal:u(this,Yi).combinedSignal(u(this,Dr))})),u(this,Ee)){u(this,Ee).classList.remove("hidden");return}const e=b(this,Ee,E(this,Ct,KA).call(this));u(this,Xi).append(e)},G2=function(t){var e;(e=u(this,Ee))!=null&&e.contains(t.target)||this.hideDropdown()},Za=function(){return u(this,Ee)&&!u(this,Ee).classList.contains("hidden")},w(Cn,kp,null);let gf=Cn;var qc,Bp,ma,yl,Xc,Dn,Ip,Fp,vl,vi,Kn,Ge,Yc,ya,rn,$c,bi,Vp,et,ZA,km,q2,X2,Y2,JA,wo,Mi,yu,$2,Bm,dd,K2,W2,Q2,Z2,J2;const yt=class yt extends kt{constructor(e){super({...e,name:"highlightEditor"});w(this,et);w(this,qc,null);w(this,Bp,0);w(this,ma);w(this,yl,null);w(this,Xc,null);w(this,Dn,null);w(this,Ip,null);w(this,Fp,0);w(this,vl,null);w(this,vi,null);w(this,Kn,null);w(this,Ge,!1);w(this,Yc,null);w(this,ya);w(this,rn,null);w(this,$c,"");w(this,bi);w(this,Vp,"");this.color=e.color||yt._defaultColor,b(this,bi,e.thickness||yt._defaultThickness),b(this,ya,e.opacity||yt._defaultOpacity),b(this,ma,e.boxes||null),b(this,Vp,e.methodOfCreation||""),b(this,$c,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(b(this,Ge,!0),E(this,et,km).call(this,e),E(this,et,wo).call(this)):u(this,ma)&&(b(this,qc,e.anchorNode),b(this,Bp,e.anchorOffset),b(this,Ip,e.focusNode),b(this,Fp,e.focusOffset),E(this,et,ZA).call(this),E(this,et,wo).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=yt.prototype;return ut(this,"_keyboardManager",new mg([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,Ge)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,bi),methodOfCreation:u(this,Vp)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var s;kt.initialize(e,i),yt._defaultColor||(yt._defaultColor=((s=i.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case ct.HIGHLIGHT_DEFAULT_COLOR:yt._defaultColor=i;break;case ct.HIGHLIGHT_THICKNESS:yt._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return u(this,Yc)}updateParams(e,i){switch(e){case ct.HIGHLIGHT_COLOR:E(this,et,q2).call(this,i);break;case ct.HIGHLIGHT_THICKNESS:E(this,et,X2).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ct.HIGHLIGHT_DEFAULT_COLOR,yt._defaultColor],[ct.HIGHLIGHT_THICKNESS,yt._defaultThickness]]}get propertiesToUpdate(){return[[ct.HIGHLIGHT_COLOR,this.color||yt._defaultColor],[ct.HIGHLIGHT_THICKNESS,u(this,bi)||yt._defaultThickness],[ct.HIGHLIGHT_FREE,u(this,Ge)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(b(this,Xc,new gf({editor:this})),e.addColorPicker(u(this,Xc))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(E(this,et,dd).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,E(this,et,dd).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){E(this,et,JA).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(E(this,et,wo).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let i=!1;this.parent&&!e?E(this,et,JA).call(this):e&&(E(this,et,wo).call(this,e),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var a,r,o;const{drawLayer:i}=this.parent;let s;u(this,Ge)?(e=(e-this.rotation+360)%360,s=E(a=yt,Mi,yu).call(a,u(this,vi).box,e)):s=E(r=yt,Mi,yu).call(r,[this.x,this.y,this.width,this.height],e),i.updateProperties(u(this,Kn),{bbox:s,root:{"data-main-rotation":e}}),i.updateProperties(u(this,rn),{bbox:E(o=yt,Mi,yu).call(o,u(this,Dn).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();u(this,$c)&&(e.setAttribute("aria-label",u(this,$c)),e.setAttribute("role","mark")),u(this,Ge)?e.classList.add("free"):this.div.addEventListener("keydown",E(this,et,$2).bind(this),{signal:this._uiManager._signal});const i=b(this,vl,document.createElement("div"));e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=u(this,yl);const[s,a]=this.parentDimensions;return this.setDims(this.width*s,this.height*a),vL(this,u(this,vl),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(u(this,rn),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(u(this,rn),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:E(this,et,Bm).call(this,!0);break;case 1:case 3:E(this,et,Bm).call(this,!1);break}}select(){var e;super.select(),u(this,rn)&&((e=this.parent)==null||e.drawLayer.updateProperties(u(this,rn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),u(this,rn)&&((e=this.parent)==null||e.drawLayer.updateProperties(u(this,rn),{rootClass:{selected:!1}}),u(this,Ge)||E(this,et,Bm).call(this,!1))}get _mustFixPosition(){return!u(this,Ge)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(u(this,Kn),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(u(this,rn),{rootClass:{hidden:!e}}))}static startHighlighting(e,i,{target:s,x:a,y:r}){const{x:o,y:l,width:c,height:h}=s.getBoundingClientRect(),d=new AbortController,f=e.combinedSignal(d),p=y=>{d.abort(),E(this,Mi,Z2).call(this,e,y)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",de,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",ki,{signal:f}),s.addEventListener("pointermove",E(this,Mi,Q2).bind(this,e),{signal:f}),this._freeHighlight=new $A({x:a,y:r},[o,l,c,h],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,i,s){var m,S,g,v;let a=null;if(e instanceof _2){const{data:{quadPoints:A,rect:T,rotation:x,id:_,color:C,opacity:M,popupRef:D},parent:{page:{pageNumber:O}}}=e;a=e={annotationType:J.HIGHLIGHT,color:Array.from(C),opacity:M,quadPoints:A,boxes:null,pageIndex:O-1,rect:T.slice(0),rotation:x,id:_,deleted:!1,popupRef:D}}else if(e instanceof yE){const{data:{inkLists:A,rect:T,rotation:x,id:_,color:C,borderStyle:{rawWidth:M},popupRef:D},parent:{page:{pageNumber:O}}}=e;a=e={annotationType:J.HIGHLIGHT,color:Array.from(C),thickness:M,inkLists:A,boxes:null,pageIndex:O-1,rect:T.slice(0),rotation:x,id:_,deleted:!1,popupRef:D}}const{color:r,quadPoints:o,inkLists:l,opacity:c}=e,h=await super.deserialize(e,i,s);h.color=G.makeHexColor(...r),b(h,ya,c||1),l&&b(h,bi,e.thickness),h.annotationElementId=e.id||null,h._initialData=a;const[d,f]=h.pageDimensions,[p,y]=h.pageTranslation;if(o){const A=b(h,ma,[]);for(let T=0;T<o.length;T+=8)A.push({x:(o[T]-p)/d,y:1-(o[T+1]-y)/f,width:(o[T+2]-o[T])/d,height:(o[T+1]-o[T+5])/f});E(m=h,et,ZA).call(m),E(S=h,et,wo).call(S),h.rotate(h.rotation)}else if(l){b(h,Ge,!0);const A=l[0],T={x:A[0]-p,y:f-(A[1]-y)},x=new $A(T,[0,0,d,f],1,u(h,bi)/2,!0,.001);for(let M=0,D=A.length;M<D;M+=2)T.x=A[M]-p,T.y=f-(A[M+1]-y),x.add(T);const{id:_,clipPathId:C}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:x.toSVGPath()}},!0,!0);E(g=h,et,km).call(g,{highlightOutlines:x.getOutlines(),highlightId:_,clipPathId:C}),E(v=h,et,wo).call(v),h.rotate(h.parentRotation)}return h}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),s=kt._colorManager.convert(this.color),a={annotationType:J.HIGHLIGHT,color:s,opacity:u(this,ya),thickness:u(this,bi),quadPoints:E(this,et,K2).call(this),outlines:E(this,et,W2).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:E(this,et,dd).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!E(this,et,J2).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};qc=new WeakMap,Bp=new WeakMap,ma=new WeakMap,yl=new WeakMap,Xc=new WeakMap,Dn=new WeakMap,Ip=new WeakMap,Fp=new WeakMap,vl=new WeakMap,vi=new WeakMap,Kn=new WeakMap,Ge=new WeakMap,Yc=new WeakMap,ya=new WeakMap,rn=new WeakMap,$c=new WeakMap,bi=new WeakMap,Vp=new WeakMap,et=new WeakSet,ZA=function(){const e=new XA(u(this,ma),.001);b(this,vi,e.getOutlines()),[this.x,this.y,this.width,this.height]=u(this,vi).box;const i=new XA(u(this,ma),.0025,.001,this._uiManager.direction==="ltr");b(this,Dn,i.getOutlines());const{lastPoint:s}=u(this,Dn);b(this,Yc,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},km=function({highlightOutlines:e,highlightId:i,clipPathId:s}){var d,f;if(b(this,vi,e),b(this,Dn,e.getNewOutline(u(this,bi)/2+1.5,.0025)),i>=0)b(this,Kn,i),b(this,yl,s),this.parent.drawLayer.finalizeDraw(i,{bbox:e.box,path:{d:e.toSVGPath()}}),b(this,rn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:u(this,Dn).box,path:{d:u(this,Dn).toSVGPath()}},!0));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(u(this,Kn),{bbox:E(d=yt,Mi,yu).call(d,u(this,vi).box,(p-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(u(this,rn),{bbox:E(f=yt,Mi,yu).call(f,u(this,Dn).box,p),path:{d:u(this,Dn).toSVGPath()}})}const[r,o,l,c]=e.box;switch(this.rotation){case 0:this.x=r,this.y=o,this.width=l,this.height=c;break;case 90:{const[p,y]=this.parentDimensions;this.x=o,this.y=1-r,this.width=l*y/p,this.height=c*p/y;break}case 180:this.x=1-r,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[p,y]=this.parentDimensions;this.x=1-o,this.y=r,this.width=l*y/p,this.height=c*p/y;break}}const{lastPoint:h}=u(this,Dn);b(this,Yc,[(h[0]-r)/l,(h[1]-o)/c])},q2=function(e){const i=(r,o)=>{var l,c;this.color=r,b(this,ya,o),(l=this.parent)==null||l.drawLayer.updateProperties(u(this,Kn),{root:{fill:r,"fill-opacity":o}}),(c=u(this,Xc))==null||c.updateColor(r)},s=this.color,a=u(this,ya);this.addCommands({cmd:i.bind(this,e,yt._defaultOpacity),undo:i.bind(this,s,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ct.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},X2=function(e){const i=u(this,bi),s=a=>{b(this,bi,a),E(this,et,Y2).call(this,a)};this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ct.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},Y2=function(e){if(!u(this,Ge))return;E(this,et,km).call(this,{highlightOutlines:u(this,vi).getNewOutline(e/2)}),this.fixAndSetPosition();const[i,s]=this.parentDimensions;this.setDims(this.width*i,this.height*s)},JA=function(){u(this,Kn)===null||!this.parent||(this.parent.drawLayer.remove(u(this,Kn)),b(this,Kn,null),this.parent.drawLayer.remove(u(this,rn)),b(this,rn,null))},wo=function(e=this.parent){u(this,Kn)===null&&({id:fn(this,Kn)._,clipPathId:fn(this,yl)._}=e.drawLayer.draw({bbox:u(this,vi).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":u(this,ya)},rootClass:{highlight:!0,free:u(this,Ge)},path:{d:u(this,vi).toSVGPath()}},!1,!0),b(this,rn,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:u(this,Ge)},bbox:u(this,Dn).box,path:{d:u(this,Dn).toSVGPath()}},u(this,Ge))),u(this,vl)&&(u(this,vl).style.clipPath=u(this,yl)))},Mi=new WeakSet,yu=function([e,i,s,a],r){switch(r){case 90:return[1-i-a,e,a,s];case 180:return[1-e-s,1-i-a,s,a];case 270:return[i,1-e-s,a,s]}return[e,i,s,a]},$2=function(e){yt._keyboardManager.exec(this,e)},Bm=function(e){if(!u(this,qc))return;const i=window.getSelection();e?i.setPosition(u(this,qc),u(this,Bp)):i.setPosition(u(this,Ip),u(this,Fp))},dd=function(){return u(this,Ge)?this.rotation:0},K2=function(){if(u(this,Ge))return null;const[e,i]=this.pageDimensions,[s,a]=this.pageTranslation,r=u(this,ma),o=new Float32Array(r.length*8);let l=0;for(const{x:c,y:h,width:d,height:f}of r){const p=c*e+s,y=(1-h)*i+a;o[l]=o[l+4]=p,o[l+1]=o[l+3]=y,o[l+2]=o[l+6]=p+d*e,o[l+5]=o[l+7]=y-f*i,l+=8}return o},W2=function(e){return u(this,vi).serialize(e,E(this,et,dd).call(this))},Q2=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},Z2=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},J2=function(e){const{color:i}=this._initialData;return e.color.some((s,a)=>s!==i[a])},w(yt,Mi),B(yt,"_defaultColor",null),B(yt,"_defaultOpacity",1),B(yt,"_defaultThickness",12),B(yt,"_type","highlight"),B(yt,"_editorType",J.HIGHLIGHT),B(yt,"_freeHighlightId",-1),B(yt,"_freeHighlight",null),B(yt,"_freeHighlightClipId","");let Dy=yt;var bl;class tO{constructor(){w(this,bl,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){u(this,bl)[t]=e}toSVGProperties(){const t=u(this,bl);return b(this,bl,Object.create(null)),{root:t}}reset(){b(this,bl,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){Rt("Not implemented")}}bl=new WeakMap;var Wn,Kc,Le,Al,Sl,Lr,Or,Pr,wl,ft,tS,eS,nS,fd,eO,Im,pd,vu;const U=class U extends kt{constructor(e){super(e);w(this,ft);w(this,Wn,null);w(this,Kc);B(this,"_drawId",null);b(this,Kc,e.mustBeCommitted||!1),this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(E(this,ft,tS).call(this,e),E(this,ft,fd).call(this))}static _mergeSVGProperties(e,i){const s=new Set(Object.keys(e));for(const[a,r]of Object.entries(i))s.has(a)?Object.assign(e[a],r):e[a]=r;return e}static getDefaultDrawingOptions(e){Rt("Not implemented")}static get typesMap(){Rt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,i){const s=this.typesMap.get(e);s&&this._defaultDrawingOptions.updateProperty(s,i),this._currentParent&&(u(U,Le).updateProperty(s,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,i){const s=this.constructor.typesMap.get(e);s&&this._updateProperty(e,s,i)}static get defaultPropertiesToUpdate(){const e=[],i=this._defaultDrawingOptions;for(const[s,a]of this.typesMap)e.push([s,i[a]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:i}=this;for(const[s,a]of this.constructor.typesMap)e.push([s,i[a]]);return e}_updateProperty(e,i,s){const a=this._drawingOptions,r=a[i],o=l=>{var h;a.updateProperty(i,l);const c=u(this,Wn).updateProperty(i,l);c&&E(this,ft,pd).call(this,c),(h=this.parent)==null||h.drawLayer.updateProperties(this._drawId,a.toSVGProperties())};this.addCommands({cmd:o.bind(this,s),undo:o.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,U._mergeSVGProperties(u(this,Wn).getPathResizingSVGProperties(E(this,ft,Im).call(this)),{bbox:E(this,ft,vu).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,U._mergeSVGProperties(u(this,Wn).getPathResizedSVGProperties(E(this,ft,Im).call(this)),{bbox:E(this,ft,vu).call(this)}))}_onTranslating(e,i){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{bbox:E(this,ft,vu).call(this)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,U._mergeSVGProperties(u(this,Wn).getPathTranslatedSVGProperties(E(this,ft,Im).call(this),this.parentDimensions),{bbox:E(this,ft,vu).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,u(this,Kc)&&(b(this,Kc,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){E(this,ft,nS).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(E(this,ft,fd).call(this),E(this,ft,pd).call(this,u(this,Wn).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let i=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),E(this,ft,nS).call(this)):e&&(this._uiManager.addShouldRescale(this),E(this,ft,fd).call(this,e),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,U._mergeSVGProperties({bbox:E(this,ft,vu).call(this)},u(this,Wn).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&E(this,ft,pd).call(this,u(this,Wn).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,i;this._isCopy&&(e=this.x,i=this.y);const s=super.render();s.classList.add("draw");const a=document.createElement("div");s.append(a),a.setAttribute("aria-hidden","true"),a.className="internal";const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,i),s}static createDrawerInstance(e,i,s,a,r){Rt("Not implemented")}static startDrawing(e,i,s,a){var S;const{target:r,offsetX:o,offsetY:l,pointerId:c,pointerType:h}=a;if(u(U,Or)&&u(U,Or)!==h)return;const{viewport:{rotation:d}}=e,{width:f,height:p}=r.getBoundingClientRect(),y=b(U,Al,new AbortController),m=e.combinedSignal(y);if(u(U,Lr)||b(U,Lr,c),u(U,Or)??b(U,Or,h),window.addEventListener("pointerup",g=>{var v;u(U,Lr)===g.pointerId?this._endDraw(g):(v=u(U,Pr))==null||v.delete(g.pointerId)},{signal:m}),window.addEventListener("pointercancel",g=>{var v;u(U,Lr)===g.pointerId?this._currentParent.endDrawingSession():(v=u(U,Pr))==null||v.delete(g.pointerId)},{signal:m}),window.addEventListener("pointerdown",g=>{u(U,Or)===g.pointerType&&((u(U,Pr)||b(U,Pr,new Set)).add(g.pointerId),u(U,Le).isCancellable()&&(u(U,Le).removeLastElement(),u(U,Le).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",ki,{signal:m}),r.addEventListener("pointermove",this._drawMove.bind(this),{signal:m}),r.addEventListener("touchmove",g=>{g.timeStamp===u(U,wl)&&de(g)},{signal:m}),e.toggleDrawing(),(S=i._editorUndoBar)==null||S.hide(),u(U,Le)){e.drawLayer.updateProperties(this._currentDrawId,u(U,Le).startNew(o,l,f,p,d));return}i.updateUIForDefaultProperties(this),b(U,Le,this.createDrawerInstance(o,l,f,p,d)),b(U,Sl,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(u(U,Sl).toSVGProperties(),u(U,Le).defaultSVGProperties),!0,!1)}static _drawMove(e){var r;if(b(U,wl,-1),!u(U,Le))return;const{offsetX:i,offsetY:s,pointerId:a}=e;if(u(U,Lr)===a){if(((r=u(U,Pr))==null?void 0:r.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,u(U,Le).add(i,s)),b(U,wl,e.timeStamp),de(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,b(U,Le,null),b(U,Sl,null),b(U,Or,null),b(U,wl,NaN)),u(U,Al)&&(u(U,Al).abort(),b(U,Al,null),b(U,Lr,NaN),b(U,Pr,null))}static _endDraw(e){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(e==null?void 0:e.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,u(U,Le).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const s=u(U,Le),a=this._currentDrawId,r=s.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(a,s.setLastElement(r))},undo:()=>{i.drawLayer.updateProperties(a,s.removeLastElement())},mustExec:!1,type:ct.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(ct.DRAW_STEP),!u(U,Le).isEmpty()){const{pageDimensions:[s,a],scale:r}=i,o=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:u(U,Le).getOutlines(s*r,a*r,r,this._INNER_MARGIN),drawingOptions:u(U,Sl),mustBeCommitted:!e});return this._cleanup(!0),o}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,i,s,a,r,o){Rt("Not implemented")}static async deserialize(e,i,s){var d,f;const{rawDims:{pageWidth:a,pageHeight:r,pageX:o,pageY:l}}=i.viewport,c=this.deserializeDraw(o,l,a,r,this._INNER_MARGIN,e),h=await super.deserialize(e,i,s);return h.createDrawingOptions(e),E(d=h,ft,tS).call(d,{drawOutlines:c}),E(f=h,ft,fd).call(f),h.onScaleChanging(),h.rotate(),h}serializeDraw(e){const[i,s]=this.pageTranslation,[a,r]=this.pageDimensions;return u(this,Wn).serialize([i,s,a,r],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Wn=new WeakMap,Kc=new WeakMap,Le=new WeakMap,Al=new WeakMap,Sl=new WeakMap,Lr=new WeakMap,Or=new WeakMap,Pr=new WeakMap,wl=new WeakMap,ft=new WeakSet,tS=function({drawOutlines:e,drawId:i,drawingOptions:s}){b(this,Wn,e),this._drawingOptions||(this._drawingOptions=s),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,e.defaultProperties)):this._drawId=E(this,ft,eS).call(this,e,this.parent),E(this,ft,pd).call(this,e.box)},eS=function(e,i){const{id:s}=i.drawLayer.draw(U._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return s},nS=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},fd=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=E(this,ft,eS).call(this,u(this,Wn),e)}},eO=function([e,i,s,a]){const{parentDimensions:[r,o],rotation:l}=this;switch(l){case 90:return[i,1-e,s*(o/r),a*(r/o)];case 180:return[1-e,1-i,s,a];case 270:return[1-i,e,s*(o/r),a*(r/o)];default:return[e,i,s,a]}},Im=function(){const{x:e,y:i,width:s,height:a,parentDimensions:[r,o],rotation:l}=this;switch(l){case 90:return[1-i,e,s*(r/o),a*(o/r)];case 180:return[1-e,1-i,s,a];case 270:return[i,1-e,s*(r/o),a*(o/r)];default:return[e,i,s,a]}},pd=function(e){if([this.x,this.y,this.width,this.height]=E(this,ft,eO).call(this,e),this.div){this.fixAndSetPosition();const[i,s]=this.parentDimensions;this.setDims(this.width*i,this.height*s)}this._onResized()},vu=function(){const{x:e,y:i,width:s,height:a,rotation:r,parentRotation:o,parentDimensions:[l,c]}=this;switch((r*4+o)/90){case 1:return[1-i-a,e,a,s];case 2:return[1-e-s,1-i-a,s,a];case 3:return[i,1-e-s,a,s];case 4:return[e,i-s*(l/c),a*(c/l),s*(l/c)];case 5:return[1-i,e,s*(l/c),a*(c/l)];case 6:return[1-e-a*(c/l),1-i,a*(c/l),s*(l/c)];case 7:return[i-s*(l/c),1-e-a*(c/l),s*(l/c),a*(c/l)];case 8:return[e-s,i-a,s,a];case 9:return[1-i,e-s,a,s];case 10:return[1-e,1-i,s,a];case 11:return[i-a,1-e,a,s];case 12:return[e-a*(c/l),i,a*(c/l),s*(l/c)];case 13:return[1-i-s*(l/c),e-a*(c/l),s*(l/c),a*(c/l)];case 14:return[1-e,1-i-s*(l/c),a*(c/l),s*(l/c)];case 15:return[i,1-e,s*(l/c),a*(c/l)];default:return[e,i,s,a]}},B(U,"_currentDrawId",-1),B(U,"_currentParent",null),w(U,Le,null),w(U,Al,null),w(U,Sl,null),w(U,Lr,NaN),w(U,Or,null),w(U,Pr,null),w(U,wl,NaN),B(U,"_INNER_MARGIN",3);let Ly=U;var As,Oe,Pe,El,Wc,mn,qe,Ai,Tl,xl,_l,Qc,Fm;class IU{constructor(t,e,i,s,a,r){w(this,Qc);w(this,As,new Float64Array(6));w(this,Oe);w(this,Pe);w(this,El);w(this,Wc);w(this,mn);w(this,qe,"");w(this,Ai,0);w(this,Tl,new bg);w(this,xl);w(this,_l);b(this,xl,i),b(this,_l,s),b(this,El,a),b(this,Wc,r),[t,e]=E(this,Qc,Fm).call(this,t,e);const o=b(this,Oe,[NaN,NaN,NaN,NaN,t,e]);b(this,mn,[t,e]),b(this,Pe,[{line:o,points:u(this,mn)}]),u(this,As).set(o,0)}updateProperty(t,e){t==="stroke-width"&&b(this,Wc,e)}isEmpty(){return!u(this,Pe)||u(this,Pe).length===0}isCancellable(){return u(this,mn).length<=10}add(t,e){[t,e]=E(this,Qc,Fm).call(this,t,e);const[i,s,a,r]=u(this,As).subarray(2,6),o=t-a,l=e-r;return Math.hypot(u(this,xl)*o,u(this,_l)*l)<=2?null:(u(this,mn).push(t,e),isNaN(i)?(u(this,As).set([a,r,t,e],2),u(this,Oe).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(u(this,As)[0])&&u(this,Oe).splice(6,6),u(this,As).set([i,s,a,r,t,e],0),u(this,Oe).push(...H.createBezierPoints(i,s,a,r,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(u(this,mn).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,s,a){b(this,xl,i),b(this,_l,s),b(this,El,a),[t,e]=E(this,Qc,Fm).call(this,t,e);const r=b(this,Oe,[NaN,NaN,NaN,NaN,t,e]);b(this,mn,[t,e]);const o=u(this,Pe).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),u(this,Pe).push({line:r,points:u(this,mn)}),u(this,As).set(r,0),b(this,Ai,0),this.toSVGPath(),null}getLastElement(){return u(this,Pe).at(-1)}setLastElement(t){return u(this,Pe)?(u(this,Pe).push(t),b(this,Oe,t.line),b(this,mn,t.points),b(this,Ai,0),{path:{d:this.toSVGPath()}}):u(this,Tl).setLastElement(t)}removeLastElement(){if(!u(this,Pe))return u(this,Tl).removeLastElement();u(this,Pe).pop(),b(this,qe,"");for(let t=0,e=u(this,Pe).length;t<e;t++){const{line:i,points:s}=u(this,Pe)[t];b(this,Oe,i),b(this,mn,s),b(this,Ai,0),this.toSVGPath()}return{path:{d:u(this,qe)}}}toSVGPath(){const t=H.svgRound(u(this,Oe)[4]),e=H.svgRound(u(this,Oe)[5]);if(u(this,mn).length===2)return b(this,qe,`${u(this,qe)} M ${t} ${e} Z`),u(this,qe);if(u(this,mn).length<=6){const s=u(this,qe).lastIndexOf("M");b(this,qe,`${u(this,qe).slice(0,s)} M ${t} ${e}`),b(this,Ai,6)}if(u(this,mn).length===4){const s=H.svgRound(u(this,Oe)[10]),a=H.svgRound(u(this,Oe)[11]);return b(this,qe,`${u(this,qe)} L ${s} ${a}`),b(this,Ai,12),u(this,qe)}const i=[];u(this,Ai)===0&&(i.push(`M ${t} ${e}`),b(this,Ai,6));for(let s=u(this,Ai),a=u(this,Oe).length;s<a;s+=6){const[r,o,l,c,h,d]=u(this,Oe).slice(s,s+6).map(H.svgRound);i.push(`C${r} ${o} ${l} ${c} ${h} ${d}`)}return b(this,qe,u(this,qe)+i.join(" ")),b(this,Ai,u(this,Oe).length),u(this,qe)}getOutlines(t,e,i,s){const a=u(this,Pe).at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),u(this,Tl).build(u(this,Pe),t,e,i,u(this,El),u(this,Wc),s),b(this,As,null),b(this,Oe,null),b(this,Pe,null),b(this,qe,null),u(this,Tl)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}As=new WeakMap,Oe=new WeakMap,Pe=new WeakMap,El=new WeakMap,Wc=new WeakMap,mn=new WeakMap,qe=new WeakMap,Ai=new WeakMap,Tl=new WeakMap,xl=new WeakMap,_l=new WeakMap,Qc=new WeakSet,Fm=function(t,e){return H._normalizePoint(t,e,u(this,xl),u(this,_l),u(this,El))};var yn,zp,Hp,Qn,Ss,ws,Zc,Jc,Cl,Ke,qs,nO,iO,sO;class bg extends H{constructor(){super(...arguments);w(this,Ke);w(this,yn);w(this,zp,0);w(this,Hp);w(this,Qn);w(this,Ss);w(this,ws);w(this,Zc);w(this,Jc);w(this,Cl)}build(e,i,s,a,r,o,l){b(this,Ss,i),b(this,ws,s),b(this,Zc,a),b(this,Jc,r),b(this,Cl,o),b(this,Hp,l??0),b(this,Qn,e),E(this,Ke,iO).call(this)}get thickness(){return u(this,Cl)}setLastElement(e){return u(this,Qn).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return u(this,Qn).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:i}of u(this,Qn)){if(e.push(`M${H.svgRound(i[4])} ${H.svgRound(i[5])}`),i.length===6){e.push("Z");continue}if(i.length===12&&isNaN(i[6])){e.push(`L${H.svgRound(i[10])} ${H.svgRound(i[11])}`);continue}for(let s=6,a=i.length;s<a;s+=6){const[r,o,l,c,h,d]=i.subarray(s,s+6).map(H.svgRound);e.push(`C${r} ${o} ${l} ${c} ${h} ${d}`)}}return e.join("")}serialize([e,i,s,a],r){const o=[],l=[],[c,h,d,f]=E(this,Ke,nO).call(this);let p,y,m,S,g,v,A,T,x;switch(u(this,Jc)){case 0:x=H._rescale,p=e,y=i+a,m=s,S=-a,g=e+c*s,v=i+(1-h-f)*a,A=e+(c+d)*s,T=i+(1-h)*a;break;case 90:x=H._rescaleAndSwap,p=e,y=i,m=s,S=a,g=e+h*s,v=i+c*a,A=e+(h+f)*s,T=i+(c+d)*a;break;case 180:x=H._rescale,p=e+s,y=i,m=-s,S=a,g=e+(1-c-d)*s,v=i+h*a,A=e+(1-c)*s,T=i+(h+f)*a;break;case 270:x=H._rescaleAndSwap,p=e+s,y=i+a,m=-s,S=-a,g=e+(1-h-f)*s,v=i+(1-c-d)*a,A=e+(1-h)*s,T=i+(1-c)*a;break}for(const{line:_,points:C}of u(this,Qn))o.push(x(_,p,y,m,S,r?new Array(_.length):null)),l.push(x(C,p,y,m,S,r?new Array(C.length):null));return{lines:o,points:l,rect:[g,v,A,T]}}static deserialize(e,i,s,a,r,{paths:{lines:o,points:l},rotation:c,thickness:h}){const d=[];let f,p,y,m,S;switch(c){case 0:S=H._rescale,f=-e/s,p=i/a+1,y=1/s,m=-1/a;break;case 90:S=H._rescaleAndSwap,f=-i/a,p=-e/s,y=1/a,m=1/s;break;case 180:S=H._rescale,f=e/s+1,p=-i/a,y=-1/s,m=1/a;break;case 270:S=H._rescaleAndSwap,f=i/a+1,p=e/s+1,y=-1/a,m=-1/s;break}if(!o){o=[];for(const v of l){const A=v.length;if(A===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,v[0],v[1]]));continue}if(A===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,v[0],v[1],NaN,NaN,NaN,NaN,v[2],v[3]]));continue}const T=new Float32Array(3*(A-2));o.push(T);let[x,_,C,M]=v.subarray(0,4);T.set([NaN,NaN,NaN,NaN,x,_],0);for(let D=4;D<A;D+=2){const O=v[D],N=v[D+1];T.set(H.createBezierPoints(x,_,C,M,O,N),(D-2)*3),[x,_,C,M]=[C,M,O,N]}}}for(let v=0,A=o.length;v<A;v++)d.push({line:S(o[v].map(T=>T??NaN),f,p,y,m),points:S(l[v].map(T=>T??NaN),f,p,y,m)});const g=new this.prototype.constructor;return g.build(d,s,a,1,c,h,r),g}get box(){return u(this,yn)}updateProperty(e,i){return e==="stroke-width"?E(this,Ke,sO).call(this,i):null}updateParentDimensions([e,i],s){const[a,r]=E(this,Ke,qs).call(this);b(this,Ss,e),b(this,ws,i),b(this,Zc,s);const[o,l]=E(this,Ke,qs).call(this),c=o-a,h=l-r,d=u(this,yn);return d[0]-=c,d[1]-=h,d[2]+=2*c,d[3]+=2*h,d}updateRotation(e){return b(this,zp,e),{path:{transform:this.rotationTransform}}}get viewBox(){return u(this,yn).map(H.svgRound).join(" ")}get defaultProperties(){const[e,i]=u(this,yn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${H.svgRound(e)} ${H.svgRound(i)}`}}}get rotationTransform(){const[,,e,i]=u(this,yn);let s=0,a=0,r=0,o=0,l=0,c=0;switch(u(this,zp)){case 90:a=i/e,r=-e/i,l=e;break;case 180:s=-1,o=-1,l=e,c=i;break;case 270:a=-i/e,r=e/i,c=i;break;default:return""}return`matrix(${s} ${a} ${r} ${o} ${H.svgRound(l)} ${H.svgRound(c)})`}getPathResizingSVGProperties([e,i,s,a]){const[r,o]=E(this,Ke,qs).call(this),[l,c,h,d]=u(this,yn);if(Math.abs(h-r)<=H.PRECISION||Math.abs(d-o)<=H.PRECISION){const S=e+s/2-(l+h/2),g=i+a/2-(c+d/2);return{path:{"transform-origin":`${H.svgRound(e)} ${H.svgRound(i)}`,transform:`${this.rotationTransform} translate(${S} ${g})`}}}const f=(s-2*r)/(h-2*r),p=(a-2*o)/(d-2*o),y=h/s,m=d/a;return{path:{"transform-origin":`${H.svgRound(l)} ${H.svgRound(c)}`,transform:`${this.rotationTransform} scale(${y} ${m}) translate(${H.svgRound(r)} ${H.svgRound(o)}) scale(${f} ${p}) translate(${H.svgRound(-r)} ${H.svgRound(-o)})`}}}getPathResizedSVGProperties([e,i,s,a]){const[r,o]=E(this,Ke,qs).call(this),l=u(this,yn),[c,h,d,f]=l;if(l[0]=e,l[1]=i,l[2]=s,l[3]=a,Math.abs(d-r)<=H.PRECISION||Math.abs(f-o)<=H.PRECISION){const g=e+s/2-(c+d/2),v=i+a/2-(h+f/2);for(const{line:A,points:T}of u(this,Qn))H._translate(A,g,v,A),H._translate(T,g,v,T);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${H.svgRound(e)} ${H.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(s-2*r)/(d-2*r),y=(a-2*o)/(f-2*o),m=-p*(c+r)+e+r,S=-y*(h+o)+i+o;if(p!==1||y!==1||m!==0||S!==0)for(const{line:g,points:v}of u(this,Qn))H._rescale(g,m,S,p,y,g),H._rescale(v,m,S,p,y,v);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${H.svgRound(e)} ${H.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,i],s){const[a,r]=s,o=u(this,yn),l=e-o[0],c=i-o[1];if(u(this,Ss)===a&&u(this,ws)===r)for(const{line:h,points:d}of u(this,Qn))H._translate(h,l,c,h),H._translate(d,l,c,d);else{const h=u(this,Ss)/a,d=u(this,ws)/r;b(this,Ss,a),b(this,ws,r);for(const{line:f,points:p}of u(this,Qn))H._rescale(f,l,c,h,d,f),H._rescale(p,l,c,h,d,p);o[2]*=h,o[3]*=d}return o[0]=e,o[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${H.svgRound(e)} ${H.svgRound(i)}`}}}get defaultSVGProperties(){const e=u(this,yn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${H.svgRound(e[0])} ${H.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}yn=new WeakMap,zp=new WeakMap,Hp=new WeakMap,Qn=new WeakMap,Ss=new WeakMap,ws=new WeakMap,Zc=new WeakMap,Jc=new WeakMap,Cl=new WeakMap,Ke=new WeakSet,qs=function(e=u(this,Cl)){const i=u(this,Hp)+e/2*u(this,Zc);return u(this,Jc)%180===0?[i/u(this,Ss),i/u(this,ws)]:[i/u(this,ws),i/u(this,Ss)]},nO=function(){const[e,i,s,a]=u(this,yn),[r,o]=E(this,Ke,qs).call(this,0);return[e+r,i+o,s-2*r,a-2*o]},iO=function(){const e=b(this,yn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:a}of u(this,Qn)){if(a.length<=12){for(let l=4,c=a.length;l<c;l+=6)G.pointBoundingBox(a[l],a[l+1],e);continue}let r=a[4],o=a[5];for(let l=6,c=a.length;l<c;l+=6){const[h,d,f,p,y,m]=a.subarray(l,l+6);G.bezierBoundingBox(r,o,h,d,f,p,y,m,e),r=y,o=m}}const[i,s]=E(this,Ke,qs).call(this);e[0]=ln(e[0]-i,0,1),e[1]=ln(e[1]-s,0,1),e[2]=ln(e[2]+i,0,1),e[3]=ln(e[3]+s,0,1),e[2]-=e[0],e[3]-=e[1]},sO=function(e){const[i,s]=E(this,Ke,qs).call(this);b(this,Cl,e);const[a,r]=E(this,Ke,qs).call(this),[o,l]=[a-i,r-s],c=u(this,yn);return c[0]-=o,c[1]-=l,c[2]+=2*o,c[3]+=2*l,c};class Mv extends tO{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:kt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Mv(this._viewParameters);return t.updateAll(this),t}}var Qy,aO;const Vu=class Vu extends Ly{constructor(e){super({...e,name:"inkEditor"});w(this,Qy);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,i){kt.initialize(e,i),this._defaultDrawingOptions=new Mv(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return ut(this,"typesMap",new Map([[ct.INK_THICKNESS,"stroke-width"],[ct.INK_COLOR,"stroke"],[ct.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,i,s,a,r){return new IU(e,i,s,a,r,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,i,s,a,r,o){return bg.deserialize(e,i,s,a,r,o)}static async deserialize(e,i,s){let a=null;if(e instanceof yE){const{data:{inkLists:o,rect:l,rotation:c,id:h,color:d,opacity:f,borderStyle:{rawWidth:p},popupRef:y},parent:{page:{pageNumber:m}}}=e;a=e={annotationType:J.INK,color:Array.from(d),thickness:p,opacity:f,paths:{points:o},boxes:null,pageIndex:m-1,rect:l.slice(0),rotation:c,id:h,deleted:!1,popupRef:y}}const r=await super.deserialize(e,i,s);return r.annotationElementId=e.id||null,r._initialData=a,r}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:i,parent:s}=this;i.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(e,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:i,opacity:s}){this._drawingOptions=Vu.getDefaultDrawingOptions({stroke:G.makeHexColor(...e),"stroke-width":i,"stroke-opacity":s})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:s,rect:a}=this.serializeDraw(e),{_drawingOptions:{stroke:r,"stroke-opacity":o,"stroke-width":l}}=this,c={annotationType:J.INK,color:kt._colorManager.convert(r),opacity:o,thickness:l,paths:{lines:i,points:s},pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(c.isCopy=!0,c):this.annotationElementId&&!E(this,Qy,aO).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(e){const{points:i,rect:s}=this.serializeDraw(!1);return e.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:i}),null}};Qy=new WeakSet,aO=function(e){const{color:i,thickness:s,opacity:a,pageIndex:r}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((o,l)=>o!==i[l])||e.thickness!==s||e.opacity!==a||e.pageIndex!==r},B(Vu,"_type","ink"),B(Vu,"_editorType",J.INK),B(Vu,"_defaultDrawingOptions",null);let iS=Vu;class sS extends bg{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Kg=8,qh=3;var Rl,At,aS,$i,rO,oO,rS,Vm,lO,uO,cO,oS,lS,hO;class Cs{static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:s},a,r,o,l){let c=new OffscreenCanvas(1,1),h=c.getContext("2d",{alpha:!1});const d=200,f=h.font=`${i} ${s} ${d}px ${e}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:y,actualBoundingBoxAscent:m,actualBoundingBoxDescent:S,fontBoundingBoxAscent:g,fontBoundingBoxDescent:v,width:A}=h.measureText(t),T=1.5,x=Math.ceil(Math.max(Math.abs(p)+Math.abs(y)||0,A)*T),_=Math.ceil(Math.max(Math.abs(m)+Math.abs(S)||d,Math.abs(g)+Math.abs(v)||d)*T);c=new OffscreenCanvas(x,_),h=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=f,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,x,_),h.fillStyle="black",h.fillText(t,x*(T-1)/2,_*(3-T)/2);const C=E(this,At,oS).call(this,h.getImageData(0,0,x,_).data),M=E(this,At,cO).call(this,C),D=E(this,At,lS).call(this,M),O=E(this,At,rS).call(this,C,x,_,D);return this.processDrawnLines({lines:{curves:O,width:x,height:_},pageWidth:a,pageHeight:r,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(t,e,i,s,a){const[r,o,l]=E(this,At,hO).call(this,t),[c,h]=E(this,At,uO).call(this,r,o,l,Math.hypot(o,l)*u(this,Rl).sigmaSFactor,u(this,Rl).sigmaR,u(this,Rl).kernelSize),d=E(this,At,lS).call(this,h),f=E(this,At,rS).call(this,c,o,l,d);return this.processDrawnLines({lines:{curves:f,width:o,height:l},pageWidth:e,pageHeight:i,rotation:s,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:s,innerMargin:a,mustSmooth:r,areContours:o}){s%180!==0&&([e,i]=[i,e]);const{curves:l,width:c,height:h}=t,d=t.thickness??0,f=[],p=Math.min(e/c,i/h),y=p/e,m=p/i,S=[];for(const{points:v}of l){const A=r?E(this,At,lO).call(this,v):v;if(!A)continue;S.push(A);const T=A.length,x=new Float32Array(T),_=new Float32Array(3*(T===2?2:T-2));if(f.push({line:_,points:x}),T===2){x[0]=A[0]*y,x[1]=A[1]*m,_.set([NaN,NaN,NaN,NaN,x[0],x[1]],0);continue}let[C,M,D,O]=A;C*=y,M*=m,D*=y,O*=m,x.set([C,M,D,O],0),_.set([NaN,NaN,NaN,NaN,C,M],0);for(let N=4;N<T;N+=2){const q=x[N]=A[N]*y,$=x[N+1]=A[N+1]*m;_.set(H.createBezierPoints(C,M,D,O,q,$),(N-2)*3),[C,M,D,O]=[D,O,q,$]}}if(f.length===0)return null;const g=o?new sS:new bg;return g.build(f,e,i,1,s,o?0:d,a),{outline:g,newCurves:S,areContours:o,thickness:d,width:c,height:h}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:s,height:a}){let r=1/0,o=-1/0,l=0;for(const A of t){l+=A.length;for(let T=2,x=A.length;T<x;T++){const _=A[T]-A[T-2];r=Math.min(r,_),o=Math.max(o,_)}}let c;r>=-128&&o<=127?c=Int8Array:r>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const h=t.length,d=Kg+qh*h,f=new Uint32Array(d);let p=0;f[p++]=d*Uint32Array.BYTES_PER_ELEMENT+(l-2*h)*c.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=s,f[p++]=a,f[p++]=e?0:1,f[p++]=Math.max(0,Math.floor(i??0)),f[p++]=h,f[p++]=c.BYTES_PER_ELEMENT;for(const A of t)f[p++]=A.length-2,f[p++]=A[0],f[p++]=A[1];const y=new CompressionStream("deflate-raw"),m=y.writable.getWriter();await m.ready,m.write(f);const S=c.prototype.constructor;for(const A of t){const T=new S(A.length-2);for(let x=2,_=A.length;x<_;x++)T[x-2]=A[x]-A[x-2];m.write(T)}m.close();const g=await new Response(y.readable).arrayBuffer(),v=new Uint8Array(g);return oL(v)}static async decompressSignature(t){try{const e=fH(t),{readable:i,writable:s}=new DecompressionStream("deflate-raw"),a=s.getWriter();await a.ready,a.write(e).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let r=null,o=0;for await(const A of i)r||(r=new Uint8Array(new Uint32Array(A.buffer,0,4)[0])),r.set(A,o),o+=A.length;const l=new Uint32Array(r.buffer,0,r.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const h=l[2],d=l[3],f=l[4]===0,p=l[5],y=l[6],m=l[7],S=[],g=(Kg+qh*y)*Uint32Array.BYTES_PER_ELEMENT;let v;switch(m){case Int8Array.BYTES_PER_ELEMENT:v=new Int8Array(r.buffer,g);break;case Int16Array.BYTES_PER_ELEMENT:v=new Int16Array(r.buffer,g);break;case Int32Array.BYTES_PER_ELEMENT:v=new Int32Array(r.buffer,g);break}o=0;for(let A=0;A<y;A++){const T=l[qh*A+Kg],x=new Float32Array(T+2);S.push(x);for(let _=0;_<qh-1;_++)x[_]=l[qh*A+Kg+_+1];for(let _=0;_<T;_++)x[_+2]=x[_]+v[o++]}return{areContours:f,thickness:p,outlines:S,width:h,height:d}}catch(e){return tt(`decompressSignature: ${e}`),null}}}Rl=new WeakMap,At=new WeakSet,aS=function(t,e,i,s){return i-=t,s-=e,i===0?s>0?0:4:i===1?s+6:2-s},$i=new WeakMap,rO=function(t,e,i,s,a,r,o){const l=E(this,At,aS).call(this,i,s,a,r);for(let c=0;c<8;c++){const h=(-c+l-o+16)%8,d=u(this,$i)[2*h],f=u(this,$i)[2*h+1];if(t[(i+d)*e+(s+f)]!==0)return h}return-1},oO=function(t,e,i,s,a,r,o){const l=E(this,At,aS).call(this,i,s,a,r);for(let c=0;c<8;c++){const h=(c+l+o+16)%8,d=u(this,$i)[2*h],f=u(this,$i)[2*h+1];if(t[(i+d)*e+(s+f)]!==0)return h}return-1},rS=function(t,e,i,s){const a=t.length,r=new Int32Array(a);for(let h=0;h<a;h++)r[h]=t[h]<=s?1:0;for(let h=1;h<i-1;h++)r[h*e]=r[h*e+e-1]=0;for(let h=0;h<e;h++)r[h]=r[e*i-1-h]=0;let o=1,l;const c=[];for(let h=1;h<i-1;h++){l=1;for(let d=1;d<e-1;d++){const f=h*e+d,p=r[f];if(p===0)continue;let y=h,m=d;if(p===1&&r[f-1]===0)o+=1,m-=1;else if(p>=1&&r[f+1]===0)o+=1,m+=1,p>1&&(l=p);else{p!==1&&(l=Math.abs(p));continue}const S=[d,h],g=m===d+1,v={isHole:g,points:S,id:o,parent:0};c.push(v);let A;for(const N of c)if(N.id===l){A=N;break}A?A.isHole?v.parent=g?A.parent:l:v.parent=g?l:A.parent:v.parent=g?l:0;const T=E(this,At,rO).call(this,r,e,h,d,y,m,0);if(T===-1){r[f]=-o,r[f]!==1&&(l=Math.abs(r[f]));continue}let x=u(this,$i)[2*T],_=u(this,$i)[2*T+1];const C=h+x,M=d+_;y=C,m=M;let D=h,O=d;for(;;){const N=E(this,At,oO).call(this,r,e,D,O,y,m,1);x=u(this,$i)[2*N],_=u(this,$i)[2*N+1];const q=D+x,$=O+_;S.push($,q);const X=D*e+O;if(r[X+1]===0?r[X]=-o:r[X]===1&&(r[X]=o),q===h&&$===d&&D===C&&O===M){r[f]!==1&&(l=Math.abs(r[f]));break}else y=D,m=O,D=q,O=$}}}return c},Vm=function(t,e,i,s){if(i-e<=4){for(let C=e;C<i-2;C+=2)s.push(t[C],t[C+1]);return}const a=t[e],r=t[e+1],o=t[i-4]-a,l=t[i-3]-r,c=Math.hypot(o,l),h=o/c,d=l/c,f=h*r-d*a,p=l/o,y=1/c,m=Math.atan(p),S=Math.cos(m),g=Math.sin(m),v=y*(Math.abs(S)+Math.abs(g)),A=y*(1-v+v**2),T=Math.max(Math.atan(Math.abs(g+S)*A),Math.atan(Math.abs(g-S)*A));let x=0,_=e;for(let C=e+2;C<i-2;C+=2){const M=Math.abs(f-h*t[C+1]+d*t[C]);M>x&&(_=C,x=M)}x>(c*T)**2?(E(this,At,Vm).call(this,t,e,_+2,s),E(this,At,Vm).call(this,t,_,i,s)):s.push(a,r)},lO=function(t){const e=[],i=t.length;return E(this,At,Vm).call(this,t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e},uO=function(t,e,i,s,a,r){const o=new Float32Array(r**2),l=-2*s**2,c=r>>1;for(let m=0;m<r;m++){const S=(m-c)**2;for(let g=0;g<r;g++)o[m*r+g]=Math.exp((S+(g-c)**2)/l)}const h=new Float32Array(256),d=-2*a**2;for(let m=0;m<256;m++)h[m]=Math.exp(m**2/d);const f=t.length,p=new Uint8Array(f),y=new Uint32Array(256);for(let m=0;m<i;m++)for(let S=0;S<e;S++){const g=m*e+S,v=t[g];let A=0,T=0;for(let _=0;_<r;_++){const C=m+_-c;if(!(C<0||C>=i))for(let M=0;M<r;M++){const D=S+M-c;if(D<0||D>=e)continue;const O=t[C*e+D],N=o[_*r+M]*h[Math.abs(O-v)];A+=O*N,T+=N}}const x=p[g]=Math.round(A/T);y[x]++}return[p,y]},cO=function(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e},oS=function(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let s=-1/0,a=1/0;for(let o=0,l=i.length;o<l;o++){if(t[(o<<2)+3]===0){s=i[o]=255;continue}const h=i[o]=t[o<<2];h>s&&(s=h),h<a&&(a=h)}const r=255/(s-a);for(let o=0;o<e;o++)i[o]=(i[o]-a)*r;return i},lS=function(t){let e,i=-1/0,s=-1/0;const a=t.findIndex(l=>l!==0);let r=a,o=a;for(e=a;e<256;e++){const l=t[e];l>i&&(e-r>s&&(s=e-r,o=e-1),i=l,r=e)}for(e=o-1;e>=0&&!(t[e]>t[e+1]);e--);return e},hO=function(t){const e=t,{width:i,height:s}=t,{maxDim:a}=u(this,Rl);let r=i,o=s;if(i>a||s>a){let f=i,p=s,y=Math.log2(Math.max(i,s)/a);const m=Math.floor(y);y=y===m?m-1:m;for(let g=0;g<y;g++){r=Math.ceil(f/2),o=Math.ceil(p/2);const v=new OffscreenCanvas(r,o);v.getContext("2d").drawImage(t,0,0,f,p,0,0,r,o),f=r,p=o,t!==e&&t.close(),t=v.transferToImageBitmap()}const S=Math.min(a/r,a/o);r=Math.round(r*S),o=Math.round(o*S)}const c=new OffscreenCanvas(r,o).getContext("2d",{willReadFrequently:!0});c.filter="grayscale(1)",c.drawImage(t,0,0,t.width,t.height,0,0,r,o);const h=c.getImageData(0,0,r,o).data;return[E(this,At,oS).call(this,h),r,o]},w(Cs,At),w(Cs,Rl,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),w(Cs,$i,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class bE extends tO{constructor(){super(),super.updateProperties({fill:kt._defaultLineColor,"stroke-width":0})}clone(){const t=new bE;return t.updateAll(this),t}}class AE extends Mv{constructor(t){super(t),super.updateProperties({stroke:kt._defaultLineColor,"stroke-width":1})}clone(){const t=new AE(this._viewParameters);return t.updateAll(this),t}}var Nr,Zn,kr,Br;const zn=class zn extends Ly{constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"});w(this,Nr,!1);w(this,Zn,null);w(this,kr,null);w(this,Br,null);this._willKeepAspectRatio=!0,b(this,kr,e.signatureData||null),b(this,Zn,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,i){kt.initialize(e,i),this._defaultDrawingOptions=new bE,this._defaultDrawnSignatureOptions=new AE(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return ut(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!u(this,Zn)}}static computeTelemetryFinalData(e){const i=e.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,i;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,e=this.x,i=this.y),super.render(),this._drawId===null)if(u(this,kr)){const{lines:a,mustSmooth:r,areContours:o,description:l,uuid:c,heightInPage:h}=u(this,kr),{rawDims:{pageWidth:d,pageHeight:f},rotation:p}=this.parent.viewport,y=Cs.processDrawnLines({lines:a,pageWidth:d,pageHeight:f,rotation:p,innerMargin:zn._INNER_MARGIN,mustSmooth:r,areContours:o});this.addSignature(y,h,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return s&&(this._isCopy=!0,this._moveAfterPaste(e,i)),this.div}setUuid(e){b(this,Br,e),this.addEditToolbar()}getUuid(){return u(this,Br)}get description(){return u(this,Zn)}set description(e){b(this,Zn,e),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(e)})}getSignaturePreview(){const{newCurves:e,areContours:i,thickness:s,width:a,height:r}=u(this,kr),o=Math.max(a,r),l=Cs.processDrawnLines({lines:{curves:e.map(c=>({points:c})),thickness:s,width:a,height:r},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:l.outline}}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.signatureManager&&u(this,Zn)!==null&&(await e.addEditSignatureButton(this._uiManager.signatureManager,u(this,Br),u(this,Zn)),e.show()),e):null}addSignature(e,i,s,a){const{x:r,y:o}=this,{outline:l}=b(this,kr,e);b(this,Nr,l instanceof sS),b(this,Zn,s),this.div.setAttribute("data-l10n-args",JSON.stringify({description:s}));let c;u(this,Nr)?c=zn.getDefaultDrawingOptions():(c=zn._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[h,d]=this.parentDimensions,[,f]=this.pageDimensions;let p=i/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(h*this.width,d*this.height),this.x=r,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return Cs.process(e,i,s,a,zn._INNER_MARGIN)}getFromText(e,i){const{rawDims:{pageWidth:s,pageHeight:a},rotation:r}=this.parent.viewport;return Cs.extractContoursFromText(e,i,s,a,r,zn._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return Cs.processDrawnLines({lines:e,pageWidth:i,pageHeight:s,rotation:a,innerMargin:zn._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:i}){e?this._drawingOptions=zn.getDefaultDrawingOptions():(this._drawingOptions=zn._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:i,points:s,rect:a}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":r}}=this,o={annotationType:J.SIGNATURE,isSignature:!0,areContours:u(this,Nr),color:[0,0,0],thickness:u(this,Nr)?0:r,pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(o.paths={lines:i,points:s},o.uuid=u(this,Br),o.isCopy=!0):o.lines=i,u(this,Zn)&&(o.accessibilityData={type:"Figure",alt:u(this,Zn)}),o}static deserializeDraw(e,i,s,a,r,o){return o.areContours?sS.deserialize(e,i,s,a,r,o):bg.deserialize(e,i,s,a,r,o)}static async deserialize(e,i,s){var r;const a=await super.deserialize(e,i,s);return b(a,Nr,e.areContours),b(a,Zn,((r=e.accessibilityData)==null?void 0:r.alt)||""),b(a,Br,e.uuid),a}};Nr=new WeakMap,Zn=new WeakMap,kr=new WeakMap,Br=new WeakMap,B(zn,"_type","signature"),B(zn,"_editorType",J.SIGNATURE),B(zn,"_defaultDrawingOptions",null);let uS=zn;var jt,Ne,Ir,va,Fr,th,ba,Ml,Es,Jn,eh,pt,gd,md,zm,Hm,Um,hS,jm,dO;class cS extends kt{constructor(e){super({...e,name:"stampEditor"});w(this,pt);w(this,jt,null);w(this,Ne,null);w(this,Ir,null);w(this,va,null);w(this,Fr,null);w(this,th,"");w(this,ba,null);w(this,Ml,!1);w(this,Es,null);w(this,Jn,!1);w(this,eh,!1);b(this,va,e.bitmapUrl),b(this,Fr,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,i){kt.initialize(e,i)}static isHandlingMimeForPasting(e){return Cy.includes(e)}static paste(e,i){i.pasteEditor({mode:J.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:r,height:o}=e||this.copyCanvas(null,null,!0).imageData,l=await s.guess({name:"altText",request:{data:a,width:r,height:o,channels:a.length/(r*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),i&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var e;u(this,Ne)&&(b(this,jt,null),this._uiManager.imageManager.deleteId(u(this,Ne)),(e=u(this,ba))==null||e.remove(),b(this,ba,null),u(this,Es)&&(clearTimeout(u(this,Es)),b(this,Es,null))),super.remove()}rebuild(){if(!this.parent){u(this,Ne)&&E(this,pt,zm).call(this);return}super.rebuild(),this.div!==null&&(u(this,Ne)&&u(this,ba)===null&&E(this,pt,zm).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(u(this,Ir)||u(this,jt)||u(this,va)||u(this,Fr)||u(this,Ne)||u(this,Ml))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;return this._isCopy&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),u(this,Ml)||(u(this,jt)?E(this,pt,Hm).call(this):E(this,pt,zm).call(this)),this._isCopy&&this._moveAfterPaste(e,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,i){const{id:s,bitmap:a}=this._uiManager.imageManager.getFromCanvas(e,i);i.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(b(this,Ne,s),a&&b(this,jt,a),b(this,Ml,!1),E(this,pt,Hm).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;u(this,Es)!==null&&clearTimeout(u(this,Es)),b(this,Es,setTimeout(()=>{b(this,Es,null),E(this,pt,hS).call(this)},200))}copyCanvas(e,i,s=!1){var p;e||(e=224);const{width:a,height:r}=u(this,jt),o=new ns;let l=u(this,jt),c=a,h=r,d=null;if(i){if(a>i||r>i){const M=Math.min(i/a,i/r);c=Math.floor(a*M),h=Math.floor(r*M)}d=document.createElement("canvas");const y=d.width=Math.ceil(c*o.sx),m=d.height=Math.ceil(h*o.sy);u(this,Jn)||(l=E(this,pt,Um).call(this,y,m));const S=d.getContext("2d");S.filter=this._uiManager.hcmFilter;let g="white",v="#cfcfd8";this._uiManager.hcmFilter!=="none"?v="black":(p=window.matchMedia)!=null&&p.call(window,"(prefers-color-scheme: dark)").matches&&(g="#8f8f9d",v="#42414d");const A=15,T=A*o.sx,x=A*o.sy,_=new OffscreenCanvas(T*2,x*2),C=_.getContext("2d");C.fillStyle=g,C.fillRect(0,0,T*2,x*2),C.fillStyle=v,C.fillRect(0,0,T,x),C.fillRect(T,x,T,x),S.fillStyle=S.createPattern(_,"repeat"),S.fillRect(0,0,y,m),S.drawImage(l,0,0,l.width,l.height,0,0,y,m)}let f=null;if(s){let y,m;if(o.symmetric&&l.width<e&&l.height<e)y=l.width,m=l.height;else if(l=u(this,jt),a>e||r>e){const v=Math.min(e/a,e/r);y=Math.floor(a*v),m=Math.floor(r*v),u(this,Jn)||(l=E(this,pt,Um).call(this,y,m))}const g=new OffscreenCanvas(y,m).getContext("2d",{willReadFrequently:!0});g.drawImage(l,0,0,l.width,l.height,0,0,y,m),f={width:y,height:m,data:g.getImageData(0,0,y,m).data}}return{canvas:d,width:c,height:h,imageData:f}}static async deserialize(e,i,s){var S;let a=null,r=!1;if(e instanceof C2){const{data:{rect:g,rotation:v,id:A,structParent:T,popupRef:x},container:_,parent:{page:{pageNumber:C}},canvas:M}=e;let D,O;M?(delete e.canvas,{id:D,bitmap:O}=s.imageManager.getFromCanvas(_.id,M),M.remove()):(r=!0,e._hasNoCanvas=!0);const N=((S=await i._structTree.getAriaAttributes(`${uE}${A}`))==null?void 0:S.get("aria-label"))||"";a=e={annotationType:J.STAMP,bitmapId:D,bitmap:O,pageIndex:C-1,rect:g.slice(0),rotation:v,id:A,deleted:!1,accessibilityData:{decorative:!1,altText:N},isSvg:!1,structParent:T,popupRef:x}}const o=await super.deserialize(e,i,s),{rect:l,bitmap:c,bitmapUrl:h,bitmapId:d,isSvg:f,accessibilityData:p}=e;r?(s.addMissingCanvas(e.id,o),b(o,Ml,!0)):d&&s.imageManager.isValidId(d)?(b(o,Ne,d),c&&b(o,jt,c)):b(o,va,h),b(o,Jn,f);const[y,m]=o.pageDimensions;return o.width=(l[2]-l[0])/y,o.height=(l[3]-l[1])/m,o.annotationElementId=e.id||null,p&&(o.altTextData=p),o._initialData=a,b(o,eh,!!a),o}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:J.STAMP,bitmapId:u(this,Ne),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,Jn),structTreeParentId:this._structTreeParentId};if(e)return s.bitmapUrl=E(this,pt,jm).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:a,altText:r}=this.serializeAltText(!1);if(!a&&r&&(s.accessibilityData={type:"Figure",alt:r}),this.annotationElementId){const l=E(this,pt,dO).call(this,s);if(l.isSame)return null;l.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,i===null)return s;i.stamps||(i.stamps=new Map);const o=u(this,Jn)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!i.stamps.has(u(this,Ne)))i.stamps.set(u(this,Ne),{area:o,serialized:s}),s.bitmap=E(this,pt,jm).call(this,!1);else if(u(this,Jn)){const l=i.stamps.get(u(this,Ne));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=E(this,pt,jm).call(this,!1))}return s}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}jt=new WeakMap,Ne=new WeakMap,Ir=new WeakMap,va=new WeakMap,Fr=new WeakMap,th=new WeakMap,ba=new WeakMap,Ml=new WeakMap,Es=new WeakMap,Jn=new WeakMap,eh=new WeakMap,pt=new WeakSet,gd=function(e,i=!1){if(!e){this.remove();return}b(this,jt,e.bitmap),i||(b(this,Ne,e.id),b(this,Jn,e.isSvg)),e.file&&b(this,th,e.file.name),E(this,pt,Hm).call(this)},md=function(){if(b(this,Ir,null),this._uiManager.enableWaiting(!1),!!u(this,ba)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,jt)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,jt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},zm=function(){if(u(this,Ne)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,Ne)).then(s=>E(this,pt,gd).call(this,s,!0)).finally(()=>E(this,pt,md).call(this));return}if(u(this,va)){const s=u(this,va);b(this,va,null),this._uiManager.enableWaiting(!0),b(this,Ir,this._uiManager.imageManager.getFromUrl(s).then(a=>E(this,pt,gd).call(this,a)).finally(()=>E(this,pt,md).call(this)));return}if(u(this,Fr)){const s=u(this,Fr);b(this,Fr,null),this._uiManager.enableWaiting(!0),b(this,Ir,this._uiManager.imageManager.getFromFile(s).then(a=>E(this,pt,gd).call(this,a)).finally(()=>E(this,pt,md).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Cy.join(",");const i=this._uiManager._signal;b(this,Ir,new Promise(s=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),E(this,pt,gd).call(this,a)}s()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),s()},{signal:i})}).finally(()=>E(this,pt,md).call(this))),e.click()},Hm=function(){var d;const{div:e}=this;let{width:i,height:s}=u(this,jt);const[a,r]=this.pageDimensions,o=.75;if(this.width)i=this.width*a,s=this.height*r;else if(i>o*a||s>o*r){const f=Math.min(o*a/i,o*r/s);i*=f,s*=f}const[l,c]=this.parentDimensions;this.setDims(i*l/a,s*c/r),this._uiManager.enableWaiting(!1);const h=b(this,ba,document.createElement("canvas"));h.setAttribute("role","img"),this.addContainer(h),this.width=i/a,this.height=s/r,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),E(this,pt,hS).call(this),u(this,eh)||(this.parent.addUndoableEditor(this),b(this,eh,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,th)&&this.div.setAttribute("aria-description",u(this,th))},Um=function(e,i){const{width:s,height:a}=u(this,jt);let r=s,o=a,l=u(this,jt);for(;r>2*e||o>2*i;){const c=r,h=o;r>2*e&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),o>2*i&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const d=new OffscreenCanvas(r,o);d.getContext("2d").drawImage(l,0,0,c,h,0,0,r,o),l=d.transferToImageBitmap()}return l},hS=function(){const[e,i]=this.parentDimensions,{width:s,height:a}=this,r=new ns,o=Math.ceil(s*e*r.sx),l=Math.ceil(a*i*r.sy),c=u(this,ba);if(!c||c.width===o&&c.height===l)return;c.width=o,c.height=l;const h=u(this,Jn)?u(this,jt):E(this,pt,Um).call(this,o,l),d=c.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(h,0,0,h.width,h.height,0,0,o,l)},jm=function(e){if(e){if(u(this,Jn)){const a=this._uiManager.imageManager.getSvgUrl(u(this,Ne));if(a)return a}const i=document.createElement("canvas");return{width:i.width,height:i.height}=u(this,jt),i.getContext("2d").drawImage(u(this,jt),0,0),i.toDataURL()}if(u(this,Jn)){const[i,s]=this.pageDimensions,a=Math.round(this.width*i*ja.PDF_TO_CSS_UNITS),r=Math.round(this.height*s*ja.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(a,r);return o.getContext("2d").drawImage(u(this,jt),0,0,u(this,jt).width,u(this,jt).height,0,0,a,r),o.transferToImageBitmap()}return structuredClone(u(this,jt))},dO=function(e){var o;const{pageIndex:i,accessibilityData:{altText:s}}=this._initialData,a=e.pageIndex===i,r=(((o=e.accessibilityData)==null?void 0:o.alt)||"")===s;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&a&&r,isSameAltText:r}},B(cS,"_type","stamp"),B(cS,"_editorType",J.STAMP);var Dl,nh,Ts,Vr,Aa,Si,zr,ih,Ll,Ki,Sa,on,wa,j,Hr,qt,fO,ls,dS,fS,Gm;const Ii=class Ii{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:s,accessibilityManager:a,annotationLayer:r,drawLayer:o,textLayer:l,viewport:c,l10n:h}){w(this,qt);w(this,Dl);w(this,nh,!1);w(this,Ts,null);w(this,Vr,null);w(this,Aa,null);w(this,Si,new Map);w(this,zr,!1);w(this,ih,!1);w(this,Ll,!1);w(this,Ki,null);w(this,Sa,null);w(this,on,null);w(this,wa,null);w(this,j);const d=[...u(Ii,Hr).values()];if(!Ii._initialized){Ii._initialized=!0;for(const f of d)f.initialize(h,t)}t.registerEditorTypes(d),b(this,j,t),this.pageIndex=e,this.div=i,b(this,Dl,a),b(this,Ts,r),this.viewport=c,b(this,on,l),this.drawLayer=o,this._structTree=s,u(this,j).addLayer(this)}get isEmpty(){return u(this,Si).size===0}get isInvisible(){return this.isEmpty&&u(this,j).getMode()===J.NONE}updateToolbar(t){u(this,j).updateToolbar(t)}updateMode(t=u(this,j).getMode()){switch(E(this,qt,Gm).call(this),t){case J.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case J.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case J.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const i of u(Ii,Hr).values())e.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=u(this,on))==null?void 0:e.div)}setEditingState(t){u(this,j).setEditingState(t)}addCommands(t){u(this,j).addCommands(t)}cleanUndoStack(t){u(this,j).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=u(this,Ts))==null||e.div.classList.toggle("disabled",!t)}async enable(){b(this,Ll,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const i of u(this,Si).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(u(this,j).removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!u(this,Ts)){b(this,Ll,!1);return}const e=u(this,Ts).getEditableAnnotations();for(const i of e){if(i.hide(),u(this,j).isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}b(this,Ll,!1)}disable(){var s;b(this,ih,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const a of u(this,Si).values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){t.set(a.annotationElementId,a);continue}else e.set(a.annotationElementId,a);(s=this.getEditableAnnotation(a.annotationElementId))==null||s.show(),a.remove()}if(u(this,Ts)){const a=u(this,Ts).getEditableAnnotations();for(const r of a){const{id:o}=r.data;if(u(this,j).isDeletedAnnotationElement(o))continue;let l=e.get(o);if(l){l.resetAnnotationElement(r),l.show(!1),r.show();continue}l=t.get(o),l&&(u(this,j).addChangedExistingAnnotation(l),l.renderAnnotationElement(r)&&l.show(!1)),r.show()}}E(this,qt,Gm).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const a of u(Ii,Hr).values())i.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),b(this,ih,!1)}getEditableAnnotation(t){var e;return((e=u(this,Ts))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){u(this,j).getActive()!==t&&u(this,j).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=u(this,on))!=null&&t.div&&!u(this,wa)){b(this,wa,new AbortController);const e=u(this,j).combinedSignal(u(this,wa));u(this,on).div.addEventListener("pointerdown",E(this,qt,fO).bind(this),{signal:e}),u(this,on).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=u(this,on))!=null&&t.div&&u(this,wa)&&(u(this,wa).abort(),b(this,wa,null),u(this,on).div.classList.remove("highlighting"))}enableClick(){if(u(this,Vr))return;b(this,Vr,new AbortController);const t=u(this,j).combinedSignal(u(this,Vr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=u(this,Vr))==null||t.abort(),b(this,Vr,null)}attach(t){u(this,Si).set(t.id,t);const{annotationElementId:e}=t;e&&u(this,j).isDeletedAnnotationElement(e)&&u(this,j).removeDeletedAnnotationElement(t)}detach(t){var e;u(this,Si).delete(t.id),(e=u(this,Dl))==null||e.removePointerInTextLayer(t.contentDiv),!u(this,ih)&&t.annotationElementId&&u(this,j).addDeletedAnnotationElement(t)}remove(t){this.detach(t),u(this,j).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(u(this,j).addDeletedAnnotationElement(t.annotationElementId),kt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),u(this,j).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!u(this,Ll)),u(this,j).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!u(this,Aa)&&(t._focusEventsAllowed=!1,b(this,Aa,setTimeout(()=>{b(this,Aa,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:u(this,j)._signal}),e.focus())},0))),t._structTreeParentId=(i=u(this,Dl))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getNextId(){return u(this,j).getId()}combinedSignal(t){return u(this,j).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=u(this,qt,ls))==null?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await u(this,j).updateMode(t.mode);const{offsetX:i,offsetY:s}=E(this,qt,fS).call(this),a=this.getNextId(),r=E(this,qt,dS).call(this,{parent:this,id:a,x:i,y:s,uiManager:u(this,j),isCentered:!0,...e});r&&this.add(r)}async deserialize(t){var e;return await((e=u(Ii,Hr).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,u(this,j)))||null}createAndAddNewEditor(t,e,i={}){const s=this.getNextId(),a=E(this,qt,dS).call(this,{parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:u(this,j),isCentered:e,...i});return a&&this.add(a),a}addNewEditor(t={}){this.createAndAddNewEditor(E(this,qt,fS).call(this),!0,t)}setSelected(t){u(this,j).setSelected(t)}toggleSelected(t){u(this,j).toggleSelected(t)}unselect(t){u(this,j).unselect(t)}pointerup(t){var s;const{isMac:e}=ze.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!u(this,zr)||(b(this,zr,!1),(s=u(this,qt,ls))!=null&&s.isDrawer&&u(this,qt,ls).supportMultipleDrawings))return;if(!u(this,nh)){b(this,nh,!0);return}const i=u(this,j).getMode();if(i===J.STAMP||i===J.SIGNATURE){u(this,j).unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){var s;if(u(this,j).getMode()===J.HIGHLIGHT&&this.enableTextSelection(),u(this,zr)){b(this,zr,!1);return}const{isMac:e}=ze.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(b(this,zr,!0),(s=u(this,qt,ls))!=null&&s.isDrawer){this.startDrawingSession(t);return}const i=u(this,j).getActive();b(this,nh,!i||i.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),u(this,Ki)){u(this,qt,ls).startDrawing(this,u(this,j),!1,t);return}u(this,j).setCurrentDrawingSession(this),b(this,Ki,new AbortController);const e=u(this,j).combinedSignal(u(this,Ki));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(b(this,Sa,null),this.commitOrRemove())},{signal:e}),u(this,qt,ls).startDrawing(this,u(this,j),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&b(this,Sa,e);return}u(this,Sa)&&setTimeout(()=>{var e;(e=u(this,Sa))==null||e.focus(),b(this,Sa,null)},0)}endDrawingSession(t=!1){return u(this,Ki)?(u(this,j).setCurrentDrawingSession(null),u(this,Ki).abort(),b(this,Ki,null),b(this,Sa,null),u(this,qt,ls).endDrawing(t)):null}findNewParent(t,e,i){const s=u(this,j).findParent(e,i);return s===null||s===this?!1:(s.changeParent(t),!0)}commitOrRemove(){return u(this,Ki)?(this.endDrawingSession(),!0):!1}onScaleChanging(){u(this,Ki)&&u(this,qt,ls).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=u(this,j).getActive())==null?void 0:t.parent)===this&&(u(this,j).commitOrRemove(),u(this,j).setActiveEditor(null)),u(this,Aa)&&(clearTimeout(u(this,Aa)),b(this,Aa,null));for(const i of u(this,Si).values())(e=u(this,Dl))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,u(this,Si).clear(),u(this,j).removeLayer(this)}render({viewport:t}){this.viewport=t,so(this.div,t);for(const e of u(this,j).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){u(this,j).commitOrRemove(),E(this,qt,Gm).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,so(this.div,{rotation:i}),e!==i)for(const s of u(this,Si).values())s.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return u(this,j).viewParameters.realScale}};Dl=new WeakMap,nh=new WeakMap,Ts=new WeakMap,Vr=new WeakMap,Aa=new WeakMap,Si=new WeakMap,zr=new WeakMap,ih=new WeakMap,Ll=new WeakMap,Ki=new WeakMap,Sa=new WeakMap,on=new WeakMap,wa=new WeakMap,j=new WeakMap,Hr=new WeakMap,qt=new WeakSet,fO=function(t){u(this,j).unselectAll();const{target:e}=t;if(e===u(this,on).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&u(this,on).div.contains(e)){const{isMac:i}=ze.platform;if(t.button!==0||t.ctrlKey&&i)return;u(this,j).showAllEditors("highlight",!0,!0),u(this,on).div.classList.add("free"),this.toggleDrawing(),Dy.startHighlighting(this,u(this,j).direction==="ltr",{target:u(this,on).div,x:t.x,y:t.y}),u(this,on).div.addEventListener("pointerup",()=>{u(this,on).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,j)._signal}),t.preventDefault()}},ls=function(){return u(Ii,Hr).get(u(this,j).getMode())},dS=function(t){const e=u(this,qt,ls);return e?new e.prototype.constructor(t):null},fS=function(){const{x:t,y:e,width:i,height:s}=this.div.getBoundingClientRect(),a=Math.max(0,t),r=Math.max(0,e),o=Math.min(window.innerWidth,t+i),l=Math.min(window.innerHeight,e+s),c=(a+o)/2-t,h=(r+l)/2-e,[d,f]=this.viewport.rotation%180===0?[c,h]:[h,c];return{offsetX:d,offsetY:f}},Gm=function(){for(const t of u(this,Si).values())t.isEmpty()&&t.remove()},B(Ii,"_initialized",!1),w(Ii,Hr,new Map([GA,iS,cS,Dy,uS].map(t=>[t._editorType,t])));let Oy=Ii;var Wi,vn,Ol,Up,Zy,pO,Ns,pS,gO,gS;const Se=class Se{constructor({pageIndex:t}){w(this,Ns);w(this,Wi,null);w(this,vn,new Map);w(this,Ol,new Map);this.pageIndex=t}setParent(t){if(!u(this,Wi)){b(this,Wi,t);return}if(u(this,Wi)!==t){if(u(this,vn).size>0)for(const e of u(this,vn).values())e.remove(),t.append(e);b(this,Wi,t)}}static get _svgFactory(){return ut(this,"_svgFactory",new pf)}draw(t,e=!1,i=!1){const s=fn(Se,Up)._++,a=E(this,Ns,pS).call(this),r=Se._svgFactory.createElement("defs");a.append(r);const o=Se._svgFactory.createElement("path");r.append(o);const l=`path_p${this.pageIndex}_${s}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),e&&u(this,Ol).set(s,o);const c=i?E(this,Ns,gO).call(this,r,l):null,h=Se._svgFactory.createElement("use");return a.append(h),h.setAttribute("href",`#${l}`),this.updateProperties(a,t),u(this,vn).set(s,a),{id:s,clipPathId:`url(#${c})`}}drawOutline(t,e){const i=fn(Se,Up)._++,s=E(this,Ns,pS).call(this),a=Se._svgFactory.createElement("defs");s.append(a);const r=Se._svgFactory.createElement("path");a.append(r);const o=`path_p${this.pageIndex}_${i}`;r.setAttribute("id",o),r.setAttribute("vector-effect","non-scaling-stroke");let l;if(e){const d=Se._svgFactory.createElement("mask");a.append(d),l=`mask_p${this.pageIndex}_${i}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");const f=Se._svgFactory.createElement("rect");d.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=Se._svgFactory.createElement("use");d.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const c=Se._svgFactory.createElement("use");s.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const h=c.cloneNode();return s.append(h),c.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(s,t),u(this,vn).set(i,s),i}finalizeDraw(t,e){u(this,Ol).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var l;if(!e)return;const{root:i,bbox:s,rootClass:a,path:r}=e,o=typeof t=="number"?u(this,vn).get(t):t;if(o){if(i&&E(this,Ns,gS).call(this,o,i),s&&E(l=Se,Zy,pO).call(l,o,s),a){const{classList:c}=o;for(const[h,d]of Object.entries(a))c.toggle(h,d)}if(r){const h=o.firstChild.firstChild;E(this,Ns,gS).call(this,h,r)}}}updateParent(t,e){if(e===this)return;const i=u(this,vn).get(t);i&&(u(e,Wi).append(i),u(this,vn).delete(t),u(e,vn).set(t,i))}remove(t){u(this,Ol).delete(t),u(this,Wi)!==null&&(u(this,vn).get(t).remove(),u(this,vn).delete(t))}destroy(){b(this,Wi,null);for(const t of u(this,vn).values())t.remove();u(this,vn).clear(),u(this,Ol).clear()}};Wi=new WeakMap,vn=new WeakMap,Ol=new WeakMap,Up=new WeakMap,Zy=new WeakSet,pO=function(t,[e,i,s,a]){const{style:r}=t;r.top=`${100*i}%`,r.left=`${100*e}%`,r.width=`${100*s}%`,r.height=`${100*a}%`},Ns=new WeakSet,pS=function(){const t=Se._svgFactory.create(1,1,!0);return u(this,Wi).append(t),t.setAttribute("aria-hidden",!0),t},gO=function(t,e){const i=Se._svgFactory.createElement("clipPath");t.append(i);const s=`clip_${e}`;i.setAttribute("id",s),i.setAttribute("clipPathUnits","objectBoundingBox");const a=Se._svgFactory.createElement("use");return i.append(a),a.setAttribute("href",`#${e}`),a.classList.add("clip"),s},gS=function(t,e){for(const[i,s]of Object.entries(e))s===null?t.removeAttribute(i):t.setAttribute(i,s)},w(Se,Zy),w(Se,Up,0);let Py=Se;globalThis._pdfjsTestingUtils={HighlightOutliner:XA};globalThis.pdfjsLib={AbortException:Ua,AnnotationEditorLayer:Oy,AnnotationEditorParamsType:ct,AnnotationEditorType:J,AnnotationEditorUIManager:ao,AnnotationLayer:vE,AnnotationMode:_s,AnnotationType:le,build:g2,ColorPicker:gf,createValidAbsoluteUrl:rE,DOMSVGFactory:pf,DrawLayer:Py,FeatureTest:ze,fetchData:Dh,getDocument:pE,getFilenameFromUrl:lL,getPdfFilenameFromUrl:uL,getUuid:lE,getXfaPageViewport:cL,GlobalWorkerOptions:Ri,ImageKind:Fd,InvalidPDFException:_y,isDataScheme:gg,isPdfFile:_v,isValidExplicitDest:qL,MathClamp:ln,noContextMenu:ki,normalizeUnicode:rL,OPS:uf,OutputScale:ns,PasswordResponses:sL,PDFDataRangeTransport:gE,PDFDateString:Cv,PDFWorker:yh,PermissionFlag:iL,PixelsPerInch:ja,RenderingCancelledException:xv,ResponseException:cf,setLayerDimensions:so,shadow:ut,SignatureExtractor:Cs,stopEvent:de,SupportedImageMimeTypes:Cy,TextLayer:df,TouchManager:hf,updateUrlHash:oE,Util:G,VerbosityLevel:dg,version:p2,XfaLayer:mE};const FU=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Ua,AnnotationEditorLayer:Oy,AnnotationEditorParamsType:ct,AnnotationEditorType:J,AnnotationEditorUIManager:ao,AnnotationLayer:vE,AnnotationMode:_s,AnnotationType:le,ColorPicker:gf,DOMSVGFactory:pf,DrawLayer:Py,FeatureTest:ze,GlobalWorkerOptions:Ri,ImageKind:Fd,InvalidPDFException:_y,MathClamp:ln,OPS:uf,OutputScale:ns,PDFDataRangeTransport:gE,PDFDateString:Cv,PDFWorker:yh,PasswordResponses:sL,PermissionFlag:iL,PixelsPerInch:ja,RenderingCancelledException:xv,ResponseException:cf,SignatureExtractor:Cs,SupportedImageMimeTypes:Cy,TextLayer:df,TouchManager:hf,Util:G,VerbosityLevel:dg,XfaLayer:mE,build:g2,createValidAbsoluteUrl:rE,fetchData:Dh,getDocument:pE,getFilenameFromUrl:lL,getPdfFilenameFromUrl:uL,getUuid:lE,getXfaPageViewport:cL,isDataScheme:gg,isPdfFile:_v,isValidExplicitDest:qL,noContextMenu:ki,normalizeUnicode:rL,setLayerDimensions:so,shadow:ut,stopEvent:de,updateUrlHash:oE,version:p2},Symbol.toStringTag,{value:"Module"})),VU=["onCopy","onCut","onPaste"],zU=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],HU=["onFocus","onBlur"],UU=["onInput","onInvalid","onReset","onSubmit"],jU=["onLoad","onError"],GU=["onKeyDown","onKeyPress","onKeyUp"],qU=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],XU=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],YU=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],$U=["onSelect"],KU=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],WU=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],QU=["onScroll"],ZU=["onWheel"],JU=["onAnimationStart","onAnimationEnd","onAnimationIteration"],tj=["onTransitionEnd"],ej=["onToggle"],nj=["onChange"],ij=[...VU,...zU,...HU,...UU,...jU,...GU,...qU,...XU,...YU,...$U,...KU,...WU,...QU,...ZU,...JU,...tj,...nj,...ej];function mO(n,t){const e={};for(const i of ij){const s=n[i];s&&(t?e[i]=a=>s(a,t(i)):e[i]=s)}return e}function Ag(n){let t=!1;return{promise:new Promise((i,s)=>{n.then(a=>!t&&i(a)).catch(a=>!t&&s(a))}),cancel(){t=!0}}}function yO(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(t=0;t<s;t++)n[t]&&(e=yO(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function Dv(){for(var n,t,e=0,i="",s=arguments.length;e<s;e++)(n=arguments[e])&&(t=yO(n))&&(i&&(i+=" "),i+=t);return i}var sj="Invariant failed";function Dt(n,t){if(!n)throw new Error(sj)}var aj=function(){},rj=aj;const un=t_(rj);var jx=Object.prototype.hasOwnProperty;function Gx(n,t,e){for(e of n.keys())if(Ku(e,t))return e}function Ku(n,t){var e,i,s;if(n===t)return!0;if(n&&t&&(e=n.constructor)===t.constructor){if(e===Date)return n.getTime()===t.getTime();if(e===RegExp)return n.toString()===t.toString();if(e===Array){if((i=n.length)===t.length)for(;i--&&Ku(n[i],t[i]););return i===-1}if(e===Set){if(n.size!==t.size)return!1;for(i of n)if(s=i,s&&typeof s=="object"&&(s=Gx(t,s),!s)||!t.has(s))return!1;return!0}if(e===Map){if(n.size!==t.size)return!1;for(i of n)if(s=i[0],s&&typeof s=="object"&&(s=Gx(t,s),!s)||!Ku(i[1],t.get(s)))return!1;return!0}if(e===ArrayBuffer)n=new Uint8Array(n),t=new Uint8Array(t);else if(e===DataView){if((i=n.byteLength)===t.byteLength)for(;i--&&n.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===t.byteLength)for(;i--&&n[i]===t[i];);return i===-1}if(!e||typeof n=="object"){i=0;for(e in n)if(jx.call(n,e)&&++i&&!jx.call(t,e)||!(e in t)||!Ku(n[e],t[e]))return!1;return Object.keys(t).length===i}}return n!==n&&t!==t}const vO=R.createContext(null);function Wu({children:n,type:t}){return F.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:n})}const oj="noopener noreferrer nofollow";class lj{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Dt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Dt(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{Dt(this.pdfDocument),Dt(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{Dt(Array.isArray(e));const i=e[0];new Promise(s=>{Dt(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(a=>{s(a)}).catch(()=>{Dt(!1)}):typeof i=="number"?s(i):Dt(!1)}).then(s=>{const a=s+1;Dt(this.pdfViewer),Dt(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:s,pageNumber:a})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;Dt(this.pdfViewer),Dt(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,i){t.href=e,t.rel=this.externalLinkRel||oj,t.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const qx={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Lv=typeof window<"u",bO=Lv&&window.location.protocol==="file:";function uj(n){return typeof n<"u"}function go(n){return uj(n)&&n!==null}function cj(n){return typeof n=="string"}function hj(n){return n instanceof ArrayBuffer}function dj(n){return Dt(Lv),n instanceof Blob}function mS(n){return cj(n)&&/^data:/.test(n)}function Xx(n){Dt(mS(n));const[t="",e=""]=n.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function fj(){return Lv&&window.devicePixelRatio||1}const AO="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Yx(){un(!bO,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${AO}`)}function pj(){un(!bO,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${AO}`)}function Kl(n){n!=null&&n.cancel&&n.cancel()}function yS(n,t){return Object.defineProperty(n,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function gj(n){return n.name==="RenderingCancelledException"}function mj(n){return new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return e(new Error("Error while reading a file."));t(i.result)},i.onerror=s=>{if(!s.target)return e(new Error("Error while reading a file."));const{error:a}=s.target;if(!a)return e(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},i.readAsArrayBuffer(n)})}function yj(n,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function vh(){return R.useReducer(yj,{value:void 0,error:void 0})}var $x=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};const{PDFDataRangeTransport:vj}=FU,bj=(n,t)=>{switch(t){case qx.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");n(e);break}case qx.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");n(e);break}}};function Kx(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const Aj=R.forwardRef(function(t,e){var{children:i,className:s,error:a="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:h,loading:d="Loading PDF",noData:f="No PDF file specified.",onItemClick:p,onLoadError:y,onLoadProgress:m,onLoadSuccess:S,onPassword:g=bj,onSourceError:v,onSourceSuccess:A,options:T,renderMode:x,rotate:_,scale:C}=t,M=$x(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate","scale"]);const[D,O]=vh(),{value:N,error:q}=D,[$,X]=vh(),{value:Z,error:L}=$,P=R.useRef(new lj),I=R.useRef([]),Q=R.useRef(void 0),nt=R.useRef(void 0);l&&l!==Q.current&&Kx(l)&&(un(!Ku(l,Q.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Q.current=l),T&&T!==nt.current&&(un(!Ku(T,nt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),nt.current=T);const Jt=R.useRef({scrollPageIntoView:Pt=>{const{dest:Re,pageNumber:re,pageIndex:Ya=re-1}=Pt;if(p){p({dest:Re,pageIndex:Ya,pageNumber:re});return}const su=I.current[Ya];if(su){su.scrollIntoView();return}un(!1,`An internal link leading to page ${re} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});R.useImperativeHandle(e,()=>({linkService:P,pages:I,viewer:Jt}),[]);function gt(){A&&A()}function ht(){q&&(un(!1,q.toString()),v&&v(q))}function zt(){O({type:"RESET"})}R.useEffect(zt,[l,O]);const Ot=R.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return mS(l)?{data:Xx(l)}:(Yx(),{url:l});if(l instanceof vj)return{range:l};if(hj(l))return{data:l};if(Lv&&dj(l))return{data:await mj(l)};if(Dt(typeof l=="object"),Dt(Kx(l)),"url"in l&&typeof l.url=="string"){if(mS(l.url)){const{url:Pt}=l,Re=$x(l,["url"]),re=Xx(Pt);return Object.assign({data:re},Re)}Yx()}return l},[l]);R.useEffect(()=>{const Pt=Ag(Ot());return Pt.promise.then(Re=>{O({type:"RESOLVE",value:Re})}).catch(Re=>{O({type:"REJECT",error:Re})}),()=>{Kl(Pt)}},[Ot,O]),R.useEffect(()=>{if(!(typeof N>"u")){if(N===!1){ht();return}gt()}},[N]);function pe(){Z&&(S&&S(Z),I.current=new Array(Z.numPages),P.current.setDocument(Z))}function mt(){L&&(un(!1,L.toString()),y&&y(L))}R.useEffect(function(){X({type:"RESET"})},[X,N]),R.useEffect(function(){if(!N)return;const Re=T?Object.assign(Object.assign({},N),T):N,re=pE(Re);m&&(re.onProgress=m),g&&(re.onPassword=g);const Ya=re,su=Ya.promise.then(Lh=>{X({type:"RESOLVE",value:Lh})}).catch(Lh=>{Ya.destroyed||X({type:"REJECT",error:Lh})});return()=>{su.finally(()=>Ya.destroy())}},[T,X,N]),R.useEffect(()=>{if(!(typeof Z>"u")){if(Z===!1){mt();return}pe()}},[Z]),R.useEffect(function(){P.current.setViewer(Jt.current),P.current.setExternalLinkRel(r),P.current.setExternalLinkTarget(o)},[r,o]);const Je=R.useCallback((Pt,Re)=>{I.current[Pt]=Re},[]),tn=R.useCallback(Pt=>{delete I.current[Pt]},[]),Ht=R.useMemo(()=>({imageResourcesPath:h,linkService:P.current,onItemClick:p,pdf:Z,registerPage:Je,renderMode:x,rotate:_,scale:C,unregisterPage:tn}),[h,p,Z,Je,x,_,C,tn]),Fs=R.useMemo(()=>mO(M,()=>Z),[M,Z]);function Vs(){return F.jsx(vO.Provider,{value:Ht,children:i})}function dn(){return l?Z==null?F.jsx(Wu,{type:"loading",children:typeof d=="function"?d():d}):Z===!1?F.jsx(Wu,{type:"error",children:typeof a=="function"?a():a}):Vs():F.jsx(Wu,{type:"no-data",children:typeof f=="function"?f():f})}return F.jsx("div",Object.assign({className:Dv("react-pdf__Document",s),ref:c},Fs,{children:dn()}))});function SO(){return R.useContext(vO)}function wO(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.filter(Boolean);if(e.length<=1){var i=e[0];return i||null}return function(a){for(var r=0,o=e;r<o.length;r++){var l=o[r];typeof l=="function"?l(a):l&&(l.current=a)}}}const EO=R.createContext(null),TO={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Sj=/^H(\d+)$/;function wj(n){return n in TO}function Ov(n){return"children"in n}function xO(n){return Ov(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function Ej(n){const t={};if(Ov(n)){const{role:e}=n,i=e.match(Sj);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(wj(e)){const s=TO[e];s&&(t.role=s)}}return t}function _O(n){const t={};if(Ov(n)){if(n.alt!==void 0&&(t["aria-label"]=n.alt),n.lang!==void 0&&(t.lang=n.lang),xO(n)){const[e]=n.children;if(e){const i=_O(e);return Object.assign(Object.assign({},t),i)}}}else"id"in n&&(t["aria-owns"]=n.id);return t}function Tj(n){return n?Object.assign(Object.assign({},Ej(n)),_O(n)):null}function CO({className:n,node:t}){const e=R.useMemo(()=>Tj(t),[t]),i=R.useMemo(()=>!Ov(t)||xO(t)?null:t.children.map((s,a)=>F.jsx(CO,{node:s},a)),[t]);return F.jsx("span",Object.assign({className:n},e,{children:i}))}function Pv(){return R.useContext(EO)}function xj(){const n=Pv();Dt(n);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=n,[i,s]=vh(),{value:a,error:r}=i,{customTextRenderer:o,page:l}=n;function c(){a&&e&&e(a)}function h(){r&&(un(!1,r.toString()),t&&t(r))}return R.useEffect(function(){s({type:"RESET"})},[s,l]),R.useEffect(function(){if(o||!l)return;const f=Ag(l.getStructTree()),p=f;return f.promise.then(y=>{s({type:"RESOLVE",value:y})}).catch(y=>{s({type:"REJECT",error:y})}),()=>Kl(p)},[o,l,s]),R.useEffect(()=>{if(a!==void 0){if(a===!1){h();return}c()}},[a]),a?F.jsx(CO,{className:"react-pdf__Page__structTree structTree",node:a}):null}const Wx=_s;function _j(n){const t=Pv();Dt(t);const e=Object.assign(Object.assign({},t),n),{_className:i,canvasBackground:s,devicePixelRatio:a=fj(),onRenderError:r,onRenderSuccess:o,page:l,renderForms:c,renderTextLayer:h,rotate:d,scale:f}=e,{canvasRef:p}=n;Dt(l);const y=R.useRef(null);function m(){l&&o&&o(yS(l,f))}function S(T){gj(T)||(un(!1,T.toString()),r&&r(T))}const g=R.useMemo(()=>l.getViewport({scale:f*a,rotation:d}),[a,l,d,f]),v=R.useMemo(()=>l.getViewport({scale:f,rotation:d}),[l,d,f]);R.useEffect(function(){if(!l)return;l.cleanup();const{current:x}=y;if(!x)return;x.width=g.width,x.height=g.height,x.style.width=`${Math.floor(v.width)}px`,x.style.height=`${Math.floor(v.height)}px`,x.style.visibility="hidden";const _={annotationMode:c?Wx.ENABLE_FORMS:Wx.ENABLE,canvasContext:x.getContext("2d",{alpha:!1}),viewport:g};s&&(_.background=s);const C=l.render(_),M=C;return C.promise.then(()=>{x.style.visibility="",m()}).catch(S),()=>Kl(M)},[s,l,c,g,v]);const A=R.useCallback(()=>{const{current:T}=y;T&&(T.width=0,T.height=0)},[]);return R.useEffect(()=>A,[A]),F.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:wO(p,y),style:{display:"block",userSelect:"none"},children:h?F.jsx(xj,{}):null})}function Cj(n){return"str"in n}function Rj(){const n=Pv();Dt(n);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:i,onRenderTextLayerError:s,onRenderTextLayerSuccess:a,page:r,pageIndex:o,pageNumber:l,rotate:c,scale:h}=n;Dt(r);const[d,f]=vh(),{value:p,error:y}=d,m=R.useRef(null);un(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function S(){p&&i&&i(p)}function g(){y&&(un(!1,y.toString()),e&&e(y))}R.useEffect(function(){f({type:"RESET"})},[r,f]),R.useEffect(function(){if(!r)return;const M=Ag(r.getTextContent()),D=M;return M.promise.then(O=>{f({type:"RESOLVE",value:O})}).catch(O=>{f({type:"REJECT",error:O})}),()=>Kl(D)},[r,f]),R.useEffect(()=>{if(p!==void 0){if(p===!1){g();return}S()}},[p]);const v=R.useCallback(()=>{a&&a()},[a]),A=R.useCallback(C=>{un(!1,C.toString()),s&&s(C)},[s]);function T(){const C=m.current;C&&C.classList.add("selecting")}function x(){const C=m.current;C&&C.classList.remove("selecting")}const _=R.useMemo(()=>r.getViewport({scale:h,rotation:c}),[r,c,h]);return R.useLayoutEffect(function(){if(!r||!p)return;const{current:M}=m;if(!M)return;M.innerHTML="";const D=r.streamTextContent({includeMarkedContent:!0}),O={container:M,textContentSource:D,viewport:_},N=new df(O),q=N;return N.render().then(()=>{const $=document.createElement("div");$.className="endOfContent",M.append($);const X=M.querySelectorAll('[role="presentation"]');if(t){let Z=0;p.items.forEach((L,P)=>{if(!Cj(L))return;const I=X[Z];if(!I)return;const Q=t(Object.assign({pageIndex:o,pageNumber:l,itemIndex:P},L));I.innerHTML=Q,Z+=L.str&&L.hasEOL?2:1})}v()}).catch(A),()=>Kl(q)},[t,A,v,r,o,l,p,_]),F.jsx("div",{className:Dv("react-pdf__Page__textContent","textLayer"),onMouseUp:x,onMouseDown:T,ref:m})}function Mj(){const n=SO(),t=Pv();Dt(t);const e=Object.assign(Object.assign({},n),t),{imageResourcesPath:i,linkService:s,onGetAnnotationsError:a,onGetAnnotationsSuccess:r,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:l,page:c,pdf:h,renderForms:d,rotate:f,scale:p=1}=e;Dt(h),Dt(c),Dt(s);const[y,m]=vh(),{value:S,error:g}=y,v=R.useRef(null);un(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function A(){S&&r&&r(S)}function T(){g&&(un(!1,g.toString()),a&&a(g))}R.useEffect(function(){m({type:"RESET"})},[m,c]),R.useEffect(function(){if(!c)return;const D=Ag(c.getAnnotations()),O=D;return D.promise.then(N=>{m({type:"RESOLVE",value:N})}).catch(N=>{m({type:"REJECT",error:N})}),()=>{Kl(O)}},[m,c]),R.useEffect(()=>{if(S!==void 0){if(S===!1){T();return}A()}},[S]);function x(){l&&l()}function _(M){un(!1,`${M}`),o&&o(M)}const C=R.useMemo(()=>c.getViewport({scale:p,rotation:f}),[c,f,p]);return R.useEffect(function(){if(!h||!c||!s||!S)return;const{current:D}=v;if(!D)return;const O=C.clone({dontFlip:!0}),N={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:D,l10n:null,page:c,structTreeLayer:null,viewport:O},q={annotations:S,annotationStorage:h.annotationStorage,div:D,imageResourcesPath:i,linkService:s,page:c,renderForms:d,viewport:O};D.innerHTML="";try{new vE(N).render(q),x()}catch($){_($)}return()=>{}},[S,i,s,c,h,d,C]),F.jsx("div",{className:Dv("react-pdf__Page__annotations","annotationLayer"),ref:v})}var Dj=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};const Qx=1;function Lj(n){const t=SO(),e=Object.assign(Object.assign({},t),n),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:a,canvasRef:r,children:o,className:l,customRenderer:c,customTextRenderer:h,devicePixelRatio:d,error:f="Failed to load the page.",height:p,inputRef:y,loading:m="Loading page",noData:S="No page specified.",onGetAnnotationsError:g,onGetAnnotationsSuccess:v,onGetStructTreeError:A,onGetStructTreeSuccess:T,onGetTextError:x,onGetTextSuccess:_,onLoadError:C,onLoadSuccess:M,onRenderAnnotationLayerError:D,onRenderAnnotationLayerSuccess:O,onRenderError:N,onRenderSuccess:q,onRenderTextLayerError:$,onRenderTextLayerSuccess:X,pageIndex:Z,pageNumber:L,pdf:P,registerPage:I,renderAnnotationLayer:Q=!0,renderForms:nt=!1,renderMode:Jt="canvas",renderTextLayer:gt=!0,rotate:ht,scale:zt=Qx,unregisterPage:Ot,width:pe}=e,mt=Dj(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Je,tn]=vh(),{value:Ht,error:Fs}=Je,Vs=R.useRef(null);Dt(P);const dn=go(L)?L-1:Z??null,Pt=L??(go(Z)?Z+1:null),Re=ht??(Ht?Ht.rotate:null),re=R.useMemo(()=>{if(!Ht)return null;let au=1;const wg=zt??Qx;if(pe||p){const Eg=Ht.getViewport({scale:1,rotation:Re});pe?au=pe/Eg.width:p&&(au=p/Eg.height)}return wg*au},[p,Ht,Re,zt,pe]);R.useEffect(function(){return()=>{go(dn)&&s&&Ot&&Ot(dn)}},[s,P,dn,Ot]);function Ya(){if(M){if(!Ht||!re)return;M(yS(Ht,re))}if(s&&I){if(!go(dn)||!Vs.current)return;I(dn,Vs.current)}}function su(){Fs&&(un(!1,Fs.toString()),C&&C(Fs))}R.useEffect(function(){tn({type:"RESET"})},[tn,P,dn]),R.useEffect(function(){if(!P||!Pt)return;const wg=Ag(P.getPage(Pt)),Eg=wg;return wg.promise.then(Nv=>{tn({type:"RESOLVE",value:Nv})}).catch(Nv=>{tn({type:"REJECT",error:Nv})}),()=>Kl(Eg)},[tn,P,Pt]),R.useEffect(()=>{if(Ht!==void 0){if(Ht===!1){su();return}Ya()}},[Ht,re]);const Lh=R.useMemo(()=>Ht&&go(dn)&&Pt&&go(Re)&&go(re)?{_className:i,canvasBackground:a,customTextRenderer:h,devicePixelRatio:d,onGetAnnotationsError:g,onGetAnnotationsSuccess:v,onGetStructTreeError:A,onGetStructTreeSuccess:T,onGetTextError:x,onGetTextSuccess:_,onRenderAnnotationLayerError:D,onRenderAnnotationLayerSuccess:O,onRenderError:N,onRenderSuccess:q,onRenderTextLayerError:$,onRenderTextLayerSuccess:X,page:Ht,pageIndex:dn,pageNumber:Pt,renderForms:nt,renderTextLayer:gt,rotate:Re,scale:re}:null,[i,a,h,d,g,v,A,T,x,_,D,O,N,q,$,X,Ht,dn,Pt,nt,gt,Re,re]),RO=R.useMemo(()=>mO(mt,()=>Ht&&(re?yS(Ht,re):void 0)),[mt,Ht,re]),Sg=`${dn}@${re}/${Re}`;function MO(){switch(Jt){case"custom":return Dt(c),F.jsx(c,{},`${Sg}_custom`);case"none":return null;case"canvas":default:return F.jsx(_j,{canvasRef:r},`${Sg}_canvas`)}}function DO(){return gt?F.jsx(Rj,{},`${Sg}_text`):null}function LO(){return Q?F.jsx(Mj,{},`${Sg}_annotations`):null}function OO(){return F.jsxs(EO.Provider,{value:Lh,children:[MO(),DO(),LO(),o]})}function PO(){return Pt?P===null||Ht===void 0||Ht===null?F.jsx(Wu,{type:"loading",children:typeof m=="function"?m():m}):P===!1||Ht===!1?F.jsx(Wu,{type:"error",children:typeof f=="function"?f():f}):OO():F.jsx(Wu,{type:"no-data",children:typeof S=="function"?S():S})}return F.jsx("div",Object.assign({className:Dv(i,l),"data-page-number":Pt,ref:wO(y,Vs),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${re}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},RO,{children:PO()}))}pj();Ri.workerSrc="pdf.worker.mjs";const Oj="/portfolio/assets/pdf.worker.min-BFAMBS4k.mjs";Ri.workerSrc=Oj;function Pj({file:n,onLoadComplete:t}){const[e,i]=R.useState(null),[s,a]=R.useState(1),[r,o]=R.useState(1),[l,c]=R.useState(!1),[h,d]=R.useState(!1),f=.5,p=3,y=.25,m=LE.useRef(null);function S({numPages:_}){i(_),a(1),t==null||t()}const g=_=>{_!==s&&(d(!0),setTimeout(()=>{a(_),setTimeout(()=>d(!1),50)},400))},v=()=>o(_=>Math.min(_+y,p)),A=()=>o(_=>Math.max(_-y,f)),T=()=>o(1),x=()=>{l?(document.exitFullscreen(),c(!1)):m.current&&(m.current.requestFullscreen(),c(!0))};return LE.useEffect(()=>{const _=()=>{c(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",_),()=>document.removeEventListener("fullscreenchange",_)},[]),F.jsxs("div",{ref:m,style:{width:"80vw",height:"100vh",display:"flex",margin:"2rem auto",flexDirection:"column",color:"black",background:"var(--color-5)"},children:[F.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem 2rem",background:"var(--color-4)",boxShadow:"0px 4px 5px #221a1981",position:"sticky",top:0,zIndex:10},children:[F.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[F.jsx("button",{className:"arrow-button",onClick:()=>g(Math.max(s-1,1)),disabled:s<=1||h,style:{padding:"0.5rem 1rem",border:"1px solid #ccc",background:s<=1?"#f5f5f5":"none",cursor:s<=1||h?"not-allowed":"pointer"},children:"<"}),F.jsxs("span",{style:{fontSize:"1rem",fontWeight:"bold"},children:["Page ",s," of ",e]}),F.jsx("button",{className:"arrow-button",onClick:()=>g(Math.min(s+1,e??1)),disabled:s>=(e??1)||h,style:{padding:"0.5rem 1rem",background:s>=(e??1)?"#f5f5f5":"#fff",cursor:s>=(e??1)||h?"not-allowed":"pointer"},children:">"})]}),F.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[F.jsx("button",{className:"arrow-button",onClick:A,disabled:r<=f,style:{padding:"0.5rem",border:"1px solid #ccc",background:r<=f?"#f5f5f5":"#fff",cursor:r<=f?"not-allowed":"pointer"},children:""}),F.jsxs("span",{style:{fontSize:"1rem",minWidth:"60px",textAlign:"center"},children:[Math.round(r*100),"%"]}),F.jsx("button",{className:"arrow-button",onClick:v,disabled:r>=p,style:{padding:"0.5rem",border:"1px solid #ccc",background:r>=p?"#f5f5f5":"#fff",cursor:r>=p?"not-allowed":"pointer"},children:"+"}),F.jsx("button",{className:"arrow-button",onClick:T,style:{padding:"0.5rem 1rem",border:"1px solid #ccc",background:"#fff",cursor:"pointer"},children:"Reset"}),F.jsx("button",{onClick:x,className:"arrow-button",style:{padding:"0.5rem 1rem",border:"1px solid #ccc",background:l?"#e3f2fd":"#fff",cursor:"pointer"},children:""})]})]}),F.jsx("div",{className:"page-flip-container",style:{flex:1,overflow:"auto",display:"flex",justifyContent:"center",alignItems:"flex-start",padding:"2rem"},children:F.jsx("div",{className:`page-flip-content ${h?"flipping":""}`,children:F.jsx(Aj,{file:n,onLoadSuccess:S,loading:F.jsx("div",{style:{padding:"2rem"},children:"Loading PDF..."}),children:F.jsx(Lj,{pageNumber:s,scale:r,renderAnnotationLayer:!0,renderTextLayer:!0})})})})]})}const Nj="/portfolio/assets/headshot-DR5OdbRO.jpeg";function kj({text:n,delay:t=0,speed:e=50}){const[i,s]=R.useState(!1),a=JD(0),r=yx(a,l=>Math.round(l)),o=yx(r,l=>n.slice(0,l));return R.useEffect(()=>{const l=setTimeout(()=>{const c=nH(a,n.length,{type:"tween",duration:n.length*(e/1e3),ease:"linear"}),h=setTimeout(()=>{s(!0)},n.length*e);return()=>{c.stop,clearTimeout(h)}},t);return()=>clearTimeout(l)},[a,n.length,e,t]),F.jsxs("span",{children:[F.jsx(Yl.span,{children:o}),!i&&F.jsx(Yl.span,{animate:{opacity:[1,0]},transition:{duration:.5,repeat:1/0,repeatType:"reverse"},children:"|"})]})}function Bj(){return F.jsxs(Yl.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[F.jsx("h1",{className:"subtitle",children:"About Me"}),F.jsx("img",{src:Nj,alt:"Headshot",width:"300px",height:"300px"}),F.jsx("p",{children:F.jsx(kj,{text:`Hi, my name is Nikolas Varga. I'm studying electrical engineering and music technology at Northeastern University.
          I recently completed two co-ops studying memory and audiovisual perception at the Garner Lab and developing organic photovoltaic technologies at Nano-C, Inc. 
          My personal and professional interests include advancing consumer audio, digital signal processing, climatetech, and music technology.`,speed:10})})]})}function Ij(){return F.jsxs(Yl.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[F.jsx("h1",{className:"page-title",children:"Projects"}),F.jsx("h2",{className:"subtitle",children:"Candlemaker"}),F.jsx("h2",{className:"subtitle",children:" Tubender"})]})}function Fj(){const[n,t]=R.useState(!1);return F.jsxs(Yl.div,{initial:{opacity:0},animate:{opacity:n?1:0},transition:{duration:1},children:[F.jsx(Yl.h1,{className:"main-title",style:{margin:"2rem 1rem",fontSize:"4rem"},children:"Writing"}),F.jsx("h2",{children:"Music on the Periphery: an inquisition into hyperfreak and hyperflip "}),F.jsx("p",{children:"This essay discusses the emergent SoundCloud subgenres of hyperfreak and hyperflip and their social and economic contexts. It traces the feminist, queer roots of electronic dance music back to the disco movement and begs the question: Can these new genres sustain themselves in real spaces as queer, feminist safe havens, or are they doomed to fade into the lull of capitalist realism?"}),F.jsx(Pj,{file:"/portfolio/musicontheperiphery.pdf",onLoadComplete:()=>t(!0)}),F.jsx("h2",{style:{marginTop:"4rem"},children:"Essay on Resources"})]})}function Vj(){return F.jsx("div",{children:F.jsx("h1",{children:"Passions Page"})})}function zj(){const[n,t]=R.useState(0),[e,i]=R.useState(0),[s,a]=R.useState(!1),r=R.useRef({width:window.innerWidth,height:innerHeight});let o;function l(){const{width:c,height:h}=r.current,d=window.innerWidth,f=window.innerHeight;t((d-c)/5),i((f-h)/5),clearTimeout(o),o=window.setTimeout(()=>{t(0),i(0),r.current={width:d,height:f}},200)}return R.useEffect(()=>(window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l),clearTimeout(o)}),[]),F.jsxs(nI,{children:[F.jsx("header",{children:F.jsxs("div",{className:"header-bar",children:[F.jsx("h1",{className:"main-title",children:"Nikolas Varga"}),F.jsx("button",{className:"menu-toggle",onClick:()=>a(c=>!c),"aria-label":"Toggle menu",children:""}),F.jsxs(Yl.nav,{className:`top-menu${s?" open ":""}`,animate:{x:n,y:e},transition:{type:"spring",stiffness:100,damping:12},children:[F.jsx(Lu,{to:"/",onClick:()=>a(!1),children:"home"}),F.jsx(Lu,{to:"/projects",onClick:()=>a(!1),children:"projects"}),F.jsx(Lu,{to:"/writing",onClick:()=>a(!1),children:"writing"}),F.jsx(Lu,{to:"/passions",onClick:()=>a(!1),children:"passions"})]})]})}),F.jsxs(OB,{children:[F.jsx(Wh,{path:"/",element:F.jsx(Bj,{})}),F.jsx(Wh,{path:"/projects",element:F.jsx(Ij,{})}),F.jsx(Wh,{path:"/writing",element:F.jsx(Fj,{})}),F.jsx(Wh,{path:"/passions",element:F.jsx(Vj,{})})]})]})}Lk.createRoot(document.getElementById("root")).render(F.jsx(R.StrictMode,{children:F.jsx(zj,{})}));
