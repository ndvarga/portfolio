var oO=Object.defineProperty;var yE=n=>{throw TypeError(n)};var lO=(n,t,e)=>t in n?oO(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var B=(n,t,e)=>lO(n,typeof t!="symbol"?t+"":t,e),Ov=(n,t,e)=>t.has(n)||yE("Cannot "+e);var u=(n,t,e)=>(Ov(n,t,"read from private field"),e?e.call(n):t.get(n)),w=(n,t,e)=>t.has(n)?yE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),v=(n,t,e,i)=>(Ov(n,t,"write to private field"),i?i.call(n,e):t.set(n,e),e),E=(n,t,e)=>(Ov(n,t,"access private method"),e);var hn=(n,t,e,i)=>({set _(s){v(n,t,s,e)},get _(){return u(n,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();function uO(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hx={exports:{}},Wy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cO=Symbol.for("react.transitional.element"),hO=Symbol.for("react.fragment");function Ux(n,t,e){var i=null;if(e!==void 0&&(i=""+e),t.key!==void 0&&(i=""+t.key),"key"in t){e={};for(var s in t)s!=="key"&&(e[s]=t[s])}else e=t;return t=e.ref,{$$typeof:cO,type:n,key:i,ref:t!==void 0?t:null,props:e}}Wy.Fragment=hO;Wy.jsx=Ux;Wy.jsxs=Ux;Hx.exports=Wy;var I=Hx.exports,jx={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS=Symbol.for("react.transitional.element"),dO=Symbol.for("react.portal"),fO=Symbol.for("react.fragment"),pO=Symbol.for("react.strict_mode"),gO=Symbol.for("react.profiler"),mO=Symbol.for("react.consumer"),yO=Symbol.for("react.context"),vO=Symbol.for("react.forward_ref"),bO=Symbol.for("react.suspense"),AO=Symbol.for("react.memo"),Gx=Symbol.for("react.lazy"),vE=Symbol.iterator;function SO(n){return n===null||typeof n!="object"?null:(n=vE&&n[vE]||n["@@iterator"],typeof n=="function"?n:null)}var qx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xx=Object.assign,Yx={};function yh(n,t,e){this.props=n,this.context=t,this.refs=Yx,this.updater=e||qx}yh.prototype.isReactComponent={};yh.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};yh.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function $x(){}$x.prototype=yh.prototype;function mS(n,t,e){this.props=n,this.context=t,this.refs=Yx,this.updater=e||qx}var yS=mS.prototype=new $x;yS.constructor=mS;Xx(yS,yh.prototype);yS.isPureReactComponent=!0;var bE=Array.isArray,jt={H:null,A:null,T:null,S:null,V:null},Kx=Object.prototype.hasOwnProperty;function vS(n,t,e,i,s,a){return e=a.ref,{$$typeof:gS,type:n,key:t,ref:e!==void 0?e:null,props:a}}function wO(n,t){return vS(n.type,t,void 0,void 0,void 0,n.props)}function bS(n){return typeof n=="object"&&n!==null&&n.$$typeof===gS}function EO(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var AE=/\/+/g;function Pv(n,t){return typeof n=="object"&&n!==null&&n.key!=null?EO(""+n.key):t.toString(36)}function SE(){}function TO(n){switch(n.status){case"fulfilled":return n.value;case"rejected":throw n.reason;default:switch(typeof n.status=="string"?n.then(SE,SE):(n.status="pending",n.then(function(t){n.status==="pending"&&(n.status="fulfilled",n.value=t)},function(t){n.status==="pending"&&(n.status="rejected",n.reason=t)})),n.status){case"fulfilled":return n.value;case"rejected":throw n.reason}}throw n}function ru(n,t,e,i,s){var a=typeof n;(a==="undefined"||a==="boolean")&&(n=null);var r=!1;if(n===null)r=!0;else switch(a){case"bigint":case"string":case"number":r=!0;break;case"object":switch(n.$$typeof){case gS:case dO:r=!0;break;case Gx:return r=n._init,ru(r(n._payload),t,e,i,s)}}if(r)return s=s(n),r=i===""?"."+Pv(n,0):i,bE(s)?(e="",r!=null&&(e=r.replace(AE,"$&/")+"/"),ru(s,t,e,"",function(c){return c})):s!=null&&(bS(s)&&(s=wO(s,e+(s.key==null||n&&n.key===s.key?"":(""+s.key).replace(AE,"$&/")+"/")+r)),t.push(s)),1;r=0;var o=i===""?".":i+":";if(bE(n))for(var l=0;l<n.length;l++)i=n[l],a=o+Pv(i,l),r+=ru(i,t,e,a,s);else if(l=SO(n),typeof l=="function")for(n=l.call(n),l=0;!(i=n.next()).done;)i=i.value,a=o+Pv(i,l++),r+=ru(i,t,e,a,s);else if(a==="object"){if(typeof n.then=="function")return ru(TO(n),t,e,i,s);throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function Ag(n,t,e){if(n==null)return n;var i=[],s=0;return ru(n,i,"","",function(a){return t.call(e,a,s++)}),i}function xO(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var wE=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function _O(){}it.Children={map:Ag,forEach:function(n,t,e){Ag(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return Ag(n,function(){t++}),t},toArray:function(n){return Ag(n,function(t){return t})||[]},only:function(n){if(!bS(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};it.Component=yh;it.Fragment=fO;it.Profiler=gO;it.PureComponent=mS;it.StrictMode=pO;it.Suspense=bO;it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=jt;it.__COMPILER_RUNTIME={__proto__:null,c:function(n){return jt.H.useMemoCache(n)}};it.cache=function(n){return function(){return n.apply(null,arguments)}};it.cloneElement=function(n,t,e){if(n==null)throw Error("The argument must be a React element, but you passed "+n+".");var i=Xx({},n.props),s=n.key,a=void 0;if(t!=null)for(r in t.ref!==void 0&&(a=void 0),t.key!==void 0&&(s=""+t.key),t)!Kx.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(i[r]=t[r]);var r=arguments.length-2;if(r===1)i.children=e;else if(1<r){for(var o=Array(r),l=0;l<r;l++)o[l]=arguments[l+2];i.children=o}return vS(n.type,s,void 0,void 0,a,i)};it.createContext=function(n){return n={$$typeof:yO,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider=n,n.Consumer={$$typeof:mO,_context:n},n};it.createElement=function(n,t,e){var i,s={},a=null;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)Kx.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=t[i]);var r=arguments.length-2;if(r===1)s.children=e;else if(1<r){for(var o=Array(r),l=0;l<r;l++)o[l]=arguments[l+2];s.children=o}if(n&&n.defaultProps)for(i in r=n.defaultProps,r)s[i]===void 0&&(s[i]=r[i]);return vS(n,a,void 0,void 0,null,s)};it.createRef=function(){return{current:null}};it.forwardRef=function(n){return{$$typeof:vO,render:n}};it.isValidElement=bS;it.lazy=function(n){return{$$typeof:Gx,_payload:{_status:-1,_result:n},_init:xO}};it.memo=function(n,t){return{$$typeof:AO,type:n,compare:t===void 0?null:t}};it.startTransition=function(n){var t=jt.T,e={};jt.T=e;try{var i=n(),s=jt.S;s!==null&&s(e,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(_O,wE)}catch(a){wE(a)}finally{jt.T=t}};it.unstable_useCacheRefresh=function(){return jt.H.useCacheRefresh()};it.use=function(n){return jt.H.use(n)};it.useActionState=function(n,t,e){return jt.H.useActionState(n,t,e)};it.useCallback=function(n,t){return jt.H.useCallback(n,t)};it.useContext=function(n){return jt.H.useContext(n)};it.useDebugValue=function(){};it.useDeferredValue=function(n,t){return jt.H.useDeferredValue(n,t)};it.useEffect=function(n,t,e){var i=jt.H;if(typeof e=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(n,t)};it.useId=function(){return jt.H.useId()};it.useImperativeHandle=function(n,t,e){return jt.H.useImperativeHandle(n,t,e)};it.useInsertionEffect=function(n,t){return jt.H.useInsertionEffect(n,t)};it.useLayoutEffect=function(n,t){return jt.H.useLayoutEffect(n,t)};it.useMemo=function(n,t){return jt.H.useMemo(n,t)};it.useOptimistic=function(n,t){return jt.H.useOptimistic(n,t)};it.useReducer=function(n,t,e){return jt.H.useReducer(n,t,e)};it.useRef=function(n){return jt.H.useRef(n)};it.useState=function(n){return jt.H.useState(n)};it.useSyncExternalStore=function(n,t,e){return jt.H.useSyncExternalStore(n,t,e)};it.useTransition=function(){return jt.H.useTransition()};it.version="19.1.0";jx.exports=it;var R=jx.exports,Wx={exports:{}},Qy={},Qx={exports:{}},Zx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(D,P){var V=D.length;D.push(P);t:for(;0<V;){var tt=V-1>>>1,rt=D[tt];if(0<s(rt,P))D[tt]=P,D[V]=rt,V=tt;else break t}}function e(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var P=D[0],V=D.pop();if(V!==P){D[0]=V;t:for(var tt=0,rt=D.length,be=rt>>>1;tt<be;){var bt=2*(tt+1)-1,pt=D[bt],ne=bt+1,de=D[ne];if(0>s(pt,V))ne<rt&&0>s(de,pt)?(D[tt]=de,D[ne]=V,tt=ne):(D[tt]=pt,D[bt]=V,tt=bt);else if(ne<rt&&0>s(de,V))D[tt]=de,D[ne]=V,tt=ne;else break t}}return P}function s(D,P){var V=D.sortIndex-P.sortIndex;return V!==0?V:D.id-P.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var r=Date,o=r.now();n.unstable_now=function(){return r.now()-o}}var l=[],c=[],h=1,d=null,f=3,p=!1,y=!1,m=!1,S=!1,g=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function T(D){for(var P=e(c);P!==null;){if(P.callback===null)i(c);else if(P.startTime<=D)i(c),P.sortIndex=P.expirationTime,t(l,P);else break;P=e(c)}}function x(D){if(m=!1,T(D),!y)if(e(l)!==null)y=!0,C||(C=!0,X());else{var P=e(c);P!==null&&Q(x,P.startTime-D)}}var C=!1,_=-1,M=5,L=-1;function O(){return S?!0:!(n.unstable_now()-L<M)}function N(){if(S=!1,C){var D=n.unstable_now();L=D;var P=!0;try{t:{y=!1,m&&(m=!1,b(_),_=-1),p=!0;var V=f;try{e:{for(T(D),d=e(l);d!==null&&!(d.expirationTime>D&&O());){var tt=d.callback;if(typeof tt=="function"){d.callback=null,f=d.priorityLevel;var rt=tt(d.expirationTime<=D);if(D=n.unstable_now(),typeof rt=="function"){d.callback=rt,T(D),P=!0;break e}d===e(l)&&i(l),T(D)}else i(l);d=e(l)}if(d!==null)P=!0;else{var be=e(c);be!==null&&Q(x,be.startTime-D),P=!1}}break t}finally{d=null,f=V,p=!1}P=void 0}}finally{P?X():C=!1}}}var X;if(typeof A=="function")X=function(){A(N)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,q=J.port2;J.port1.onmessage=N,X=function(){q.postMessage(null)}}else X=function(){g(N,0)};function Q(D,P){_=g(function(){D(n.unstable_now())},P)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_next=function(D){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var V=f;f=P;try{return D()}finally{f=V}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function(D,P){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var V=f;f=D;try{return P()}finally{f=V}},n.unstable_scheduleCallback=function(D,P,V){var tt=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?tt+V:tt):V=tt,D){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=V+rt,D={id:h++,callback:P,priorityLevel:D,startTime:V,expirationTime:rt,sortIndex:-1},V>tt?(D.sortIndex=V,t(c,D),e(l)===null&&D===e(c)&&(m?(b(_),_=-1):m=!0,Q(x,V-tt))):(D.sortIndex=rt,t(l,D),y||p||(y=!0,C||(C=!0,X()))),D},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(D){var P=f;return function(){var V=f;f=P;try{return D.apply(this,arguments)}finally{f=V}}}})(Zx);Qx.exports=Zx;var CO=Qx.exports,Jx={exports:{}},En={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RO=R;function t_(n){var t="https://react.dev/errors/"+n;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var e=2;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e])}return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ya(){}var bn={d:{f:Ya,r:function(){throw Error(t_(522))},D:Ya,C:Ya,L:Ya,m:Ya,X:Ya,S:Ya,M:Ya},p:0,findDOMNode:null},MO=Symbol.for("react.portal");function DO(n,t,e){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:MO,key:i==null?null:""+i,children:n,containerInfo:t,implementation:e}}var gd=RO.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Zy(n,t){if(n==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=bn;En.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(t_(299));return DO(n,t,null,e)};En.flushSync=function(n){var t=gd.T,e=bn.p;try{if(gd.T=null,bn.p=2,n)return n()}finally{gd.T=t,bn.p=e,bn.d.f()}};En.preconnect=function(n,t){typeof n=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,bn.d.C(n,t))};En.prefetchDNS=function(n){typeof n=="string"&&bn.d.D(n)};En.preinit=function(n,t){if(typeof n=="string"&&t&&typeof t.as=="string"){var e=t.as,i=Zy(e,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;e==="style"?bn.d.S(n,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:a}):e==="script"&&bn.d.X(n,{crossOrigin:i,integrity:s,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};En.preinitModule=function(n,t){if(typeof n=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var e=Zy(t.as,t.crossOrigin);bn.d.M(n,{crossOrigin:e,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&bn.d.M(n)};En.preload=function(n,t){if(typeof n=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var e=t.as,i=Zy(e,t.crossOrigin);bn.d.L(n,e,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};En.preloadModule=function(n,t){if(typeof n=="string")if(t){var e=Zy(t.as,t.crossOrigin);bn.d.m(n,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:e,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else bn.d.m(n)};En.requestFormReset=function(n){bn.d.r(n)};En.unstable_batchedUpdates=function(n,t){return n(t)};En.useFormState=function(n,t,e){return gd.H.useFormState(n,t,e)};En.useFormStatus=function(){return gd.H.useHostTransitionStatus()};En.version="19.1.0";function e_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e_)}catch(n){console.error(n)}}e_(),Jx.exports=En;var LO=Jx.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _e=CO,n_=R,OO=LO;function k(n){var t="https://react.dev/errors/"+n;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var e=2;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e])}return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i_(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Vp(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function s_(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function EE(n){if(Vp(n)!==n)throw Error(k(188))}function PO(n){var t=n.alternate;if(!t){if(t=Vp(n),t===null)throw Error(k(188));return t!==n?null:n}for(var e=n,i=t;;){var s=e.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){e=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===e)return EE(s),n;if(a===i)return EE(s),t;a=a.sibling}throw Error(k(188))}if(e.return!==i.return)e=s,i=a;else{for(var r=!1,o=s.child;o;){if(o===e){r=!0,e=s,i=a;break}if(o===i){r=!0,i=s,e=a;break}o=o.sibling}if(!r){for(o=a.child;o;){if(o===e){r=!0,e=a,i=s;break}if(o===i){r=!0,i=a,e=s;break}o=o.sibling}if(!r)throw Error(k(189))}}if(e.alternate!==i)throw Error(k(190))}if(e.tag!==3)throw Error(k(188));return e.stateNode.current===e?n:t}function a_(n){var t=n.tag;if(t===5||t===26||t===27||t===6)return n;for(n=n.child;n!==null;){if(t=a_(n),t!==null)return t;n=n.sibling}return null}var It=Object.assign,NO=Symbol.for("react.element"),Sg=Symbol.for("react.transitional.element"),Gh=Symbol.for("react.portal"),yu=Symbol.for("react.fragment"),r_=Symbol.for("react.strict_mode"),I0=Symbol.for("react.profiler"),kO=Symbol.for("react.provider"),o_=Symbol.for("react.consumer"),Ta=Symbol.for("react.context"),AS=Symbol.for("react.forward_ref"),F0=Symbol.for("react.suspense"),V0=Symbol.for("react.suspense_list"),SS=Symbol.for("react.memo"),Za=Symbol.for("react.lazy"),z0=Symbol.for("react.activity"),BO=Symbol.for("react.memo_cache_sentinel"),TE=Symbol.iterator;function Dh(n){return n===null||typeof n!="object"?null:(n=TE&&n[TE]||n["@@iterator"],typeof n=="function"?n:null)}var IO=Symbol.for("react.client.reference");function H0(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===IO?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case yu:return"Fragment";case I0:return"Profiler";case r_:return"StrictMode";case F0:return"Suspense";case V0:return"SuspenseList";case z0:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case Gh:return"Portal";case Ta:return(n.displayName||"Context")+".Provider";case o_:return(n._context.displayName||"Context")+".Consumer";case AS:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case SS:return t=n.displayName||null,t!==null?t:H0(n.type)||"Memo";case Za:t=n._payload,n=n._init;try{return H0(n(t))}catch{}}return null}var qh=Array.isArray,K=n_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt=OO.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pl={pending:!1,data:null,method:null,action:null},U0=[],vu=-1;function ks(n){return{current:n}}function Ie(n){0>vu||(n.current=U0[vu],U0[vu]=null,vu--)}function Gt(n,t){vu++,U0[vu]=n.current,n.current=t}var Rs=ks(null),Bd=ks(null),qr=ks(null),Hm=ks(null);function Um(n,t){switch(Gt(qr,t),Gt(Bd,n),Gt(Rs,null),t.nodeType){case 9:case 11:n=(n=t.documentElement)&&(n=n.namespaceURI)?M1(n):0;break;default:if(n=t.tagName,t=t.namespaceURI)t=M1(t),n=TR(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Ie(Rs),Gt(Rs,n)}function nh(){Ie(Rs),Ie(Bd),Ie(qr)}function j0(n){n.memoizedState!==null&&Gt(Hm,n);var t=Rs.current,e=TR(t,n.type);t!==e&&(Gt(Bd,n),Gt(Rs,e))}function jm(n){Bd.current===n&&(Ie(Rs),Ie(Bd)),Hm.current===n&&(Ie(Hm),Xd._currentValue=Pl)}var G0=Object.prototype.hasOwnProperty,wS=_e.unstable_scheduleCallback,Nv=_e.unstable_cancelCallback,FO=_e.unstable_shouldYield,VO=_e.unstable_requestPaint,Ms=_e.unstable_now,zO=_e.unstable_getCurrentPriorityLevel,l_=_e.unstable_ImmediatePriority,u_=_e.unstable_UserBlockingPriority,Gm=_e.unstable_NormalPriority,HO=_e.unstable_LowPriority,c_=_e.unstable_IdlePriority,UO=_e.log,jO=_e.unstable_setDisableYieldValue,zp=null,ii=null;function Hr(n){if(typeof UO=="function"&&jO(n),ii&&typeof ii.setStrictMode=="function")try{ii.setStrictMode(zp,n)}catch{}}var si=Math.clz32?Math.clz32:XO,GO=Math.log,qO=Math.LN2;function XO(n){return n>>>=0,n===0?32:31-(GO(n)/qO|0)|0}var wg=256,Eg=4194304;function mo(n){var t=n&42;if(t!==0)return t;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Jy(n,t,e){var i=n.pendingLanes;if(i===0)return 0;var s=0,a=n.suspendedLanes,r=n.pingedLanes;n=n.warmLanes;var o=i&134217727;return o!==0?(i=o&~a,i!==0?s=mo(i):(r&=o,r!==0?s=mo(r):e||(e=o&~n,e!==0&&(s=mo(e))))):(o=i&~a,o!==0?s=mo(o):r!==0?s=mo(r):e||(e=i&~n,e!==0&&(s=mo(e)))),s===0?0:t!==0&&t!==s&&!(t&a)&&(a=s&-s,e=t&-t,a>=e||a===32&&(e&4194048)!==0)?t:s}function Hp(n,t){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&t)===0}function YO(n,t){switch(n){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h_(){var n=wg;return wg<<=1,!(wg&4194048)&&(wg=256),n}function d_(){var n=Eg;return Eg<<=1,!(Eg&62914560)&&(Eg=4194304),n}function kv(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function Up(n,t){n.pendingLanes|=t,t!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function $O(n,t,e,i,s,a){var r=n.pendingLanes;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=e,n.entangledLanes&=e,n.errorRecoveryDisabledLanes&=e,n.shellSuspendCounter=0;var o=n.entanglements,l=n.expirationTimes,c=n.hiddenUpdates;for(e=r&~e;0<e;){var h=31-si(e),d=1<<h;o[h]=0,l[h]=-1;var f=c[h];if(f!==null)for(c[h]=null,h=0;h<f.length;h++){var p=f[h];p!==null&&(p.lane&=-536870913)}e&=~d}i!==0&&f_(n,i,0),a!==0&&s===0&&n.tag!==0&&(n.suspendedLanes|=a&~(r&~t))}function f_(n,t,e){n.pendingLanes|=t,n.suspendedLanes&=~t;var i=31-si(t);n.entangledLanes|=t,n.entanglements[i]=n.entanglements[i]|1073741824|e&4194090}function p_(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var i=31-si(e),s=1<<i;s&t|n[i]&t&&(n[i]|=t),e&=~s}}function ES(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function TS(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function g_(){var n=yt.p;return n!==0?n:(n=window.event,n===void 0?32:NR(n.type))}function KO(n,t){var e=yt.p;try{return yt.p=n,t()}finally{yt.p=e}}var uo=Math.random().toString(36).slice(2),rn="__reactFiber$"+uo,Nn="__reactProps$"+uo,vh="__reactContainer$"+uo,q0="__reactEvents$"+uo,WO="__reactListeners$"+uo,QO="__reactHandles$"+uo,xE="__reactResources$"+uo,jp="__reactMarker$"+uo;function xS(n){delete n[rn],delete n[Nn],delete n[q0],delete n[WO],delete n[QO]}function bu(n){var t=n[rn];if(t)return t;for(var e=n.parentNode;e;){if(t=e[vh]||e[rn]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=O1(n);n!==null;){if(e=n[rn])return e;n=O1(n)}return t}n=e,e=n.parentNode}return null}function bh(n){if(n=n[rn]||n[vh]){var t=n.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return n}return null}function Xh(n){var t=n.tag;if(t===5||t===26||t===27||t===6)return n.stateNode;throw Error(k(33))}function Fu(n){var t=n[xE];return t||(t=n[xE]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ke(n){n[jp]=!0}var m_=new Set,y_={};function $l(n,t){ih(n,t),ih(n+"Capture",t)}function ih(n,t){for(y_[n]=t,n=0;n<t.length;n++)m_.add(t[n])}var ZO=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_E={},CE={};function JO(n){return G0.call(CE,n)?!0:G0.call(_E,n)?!1:ZO.test(n)?CE[n]=!0:(_E[n]=!0,!1)}function Xg(n,t,e){if(JO(t))if(e===null)n.removeAttribute(t);else{switch(typeof e){case"undefined":case"function":case"symbol":n.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){n.removeAttribute(t);return}}n.setAttribute(t,""+e)}}function Tg(n,t,e){if(e===null)n.removeAttribute(t);else{switch(typeof e){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(t);return}n.setAttribute(t,""+e)}}function zs(n,t,e,i){if(i===null)n.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(e);return}n.setAttributeNS(t,e,""+i)}}var Bv,RE;function ou(n){if(Bv===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Bv=t&&t[1]||"",RE=-1<e.stack.indexOf(`
    at`)?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bv+n+RE}var Iv=!1;function Fv(n,t){if(!n||Iv)return"";Iv=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(p){var f=p}Reflect.construct(n,[],d)}else{try{d.call()}catch(p){f=p}n.call(d.prototype)}}else{try{throw Error()}catch(p){f=p}(d=n())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(p){if(p&&f&&typeof p.stack=="string")return[p.stack,f.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),r=a[0],o=a[1];if(r&&o){var l=r.split(`
`),c=o.split(`
`);for(s=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(i===l.length||s===c.length)for(i=l.length-1,s=c.length-1;1<=i&&0<=s&&l[i]!==c[s];)s--;for(;1<=i&&0<=s;i--,s--)if(l[i]!==c[s]){if(i!==1||s!==1)do if(i--,s--,0>s||l[i]!==c[s]){var h=`
`+l[i].replace(" at new "," at ");return n.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",n.displayName)),h}while(1<=i&&0<=s);break}}}finally{Iv=!1,Error.prepareStackTrace=e}return(e=n?n.displayName||n.name:"")?ou(e):""}function tP(n){switch(n.tag){case 26:case 27:case 5:return ou(n.type);case 16:return ou("Lazy");case 13:return ou("Suspense");case 19:return ou("SuspenseList");case 0:case 15:return Fv(n.type,!1);case 11:return Fv(n.type.render,!1);case 1:return Fv(n.type,!0);case 31:return ou("Activity");default:return""}}function ME(n){try{var t="";do t+=tP(n),n=n.return;while(n);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}function Si(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function v_(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eP(n){var t=v_(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),i=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var s=e.get,a=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return s.call(this)},set:function(r){i=""+r,a.call(this,r)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return i},setValue:function(r){i=""+r},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function qm(n){n._valueTracker||(n._valueTracker=eP(n))}function b_(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),i="";return n&&(i=v_(n)?n.checked?"true":"false":n.value),n=i,n!==e?(t.setValue(n),!0):!1}function Xm(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var nP=/[\n"\\]/g;function Ti(n){return n.replace(nP,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function X0(n,t,e,i,s,a,r,o){n.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?n.type=r:n.removeAttribute("type"),t!=null?r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+Si(t)):n.value!==""+Si(t)&&(n.value=""+Si(t)):r!=="submit"&&r!=="reset"||n.removeAttribute("value"),t!=null?Y0(n,r,Si(t)):e!=null?Y0(n,r,Si(e)):i!=null&&n.removeAttribute("value"),s==null&&a!=null&&(n.defaultChecked=!!a),s!=null&&(n.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?n.name=""+Si(o):n.removeAttribute("name")}function A_(n,t,e,i,s,a,r,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(n.type=a),t!=null||e!=null){if(!(a!=="submit"&&a!=="reset"||t!=null))return;e=e!=null?""+Si(e):"",t=t!=null?""+Si(t):e,o||t===n.value||(n.value=t),n.defaultValue=t}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,n.checked=o?n.checked:!!i,n.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(n.name=r)}function Y0(n,t,e){t==="number"&&Xm(n.ownerDocument)===n||n.defaultValue===""+e||(n.defaultValue=""+e)}function Vu(n,t,e,i){if(n=n.options,t){t={};for(var s=0;s<e.length;s++)t["$"+e[s]]=!0;for(e=0;e<n.length;e++)s=t.hasOwnProperty("$"+n[e].value),n[e].selected!==s&&(n[e].selected=s),s&&i&&(n[e].defaultSelected=!0)}else{for(e=""+Si(e),t=null,s=0;s<n.length;s++){if(n[s].value===e){n[s].selected=!0,i&&(n[s].defaultSelected=!0);return}t!==null||n[s].disabled||(t=n[s])}t!==null&&(t.selected=!0)}}function S_(n,t,e){if(t!=null&&(t=""+Si(t),t!==n.value&&(n.value=t),e==null)){n.defaultValue!==t&&(n.defaultValue=t);return}n.defaultValue=e!=null?""+Si(e):""}function w_(n,t,e,i){if(t==null){if(i!=null){if(e!=null)throw Error(k(92));if(qh(i)){if(1<i.length)throw Error(k(93));i=i[0]}e=i}e==null&&(e=""),t=e}e=Si(t),n.defaultValue=e,i=n.textContent,i===e&&i!==""&&i!==null&&(n.value=i)}function sh(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var iP=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function DE(n,t,e){var i=t.indexOf("--")===0;e==null||typeof e=="boolean"||e===""?i?n.setProperty(t,""):t==="float"?n.cssFloat="":n[t]="":i?n.setProperty(t,e):typeof e!="number"||e===0||iP.has(t)?t==="float"?n.cssFloat=e:n[t]=(""+e).trim():n[t]=e+"px"}function E_(n,t,e){if(t!=null&&typeof t!="object")throw Error(k(62));if(n=n.style,e!=null){for(var i in e)!e.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&e[s]!==i&&DE(n,s,i)}else for(var a in t)t.hasOwnProperty(a)&&DE(n,a,t[a])}function _S(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sP=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aP=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yg(n){return aP.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var $0=null;function CS(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Au=null,zu=null;function LE(n){var t=bh(n);if(t&&(n=t.stateNode)){var e=n[Nn]||null;t:switch(n=t.stateNode,t.type){case"input":if(X0(n,e.value,e.defaultValue,e.defaultValue,e.checked,e.defaultChecked,e.type,e.name),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll('input[name="'+Ti(""+t)+'"][type="radio"]'),t=0;t<e.length;t++){var i=e[t];if(i!==n&&i.form===n.form){var s=i[Nn]||null;if(!s)throw Error(k(90));X0(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<e.length;t++)i=e[t],i.form===n.form&&b_(i)}break t;case"textarea":S_(n,e.value,e.defaultValue);break t;case"select":t=e.value,t!=null&&Vu(n,!!e.multiple,t,!1)}}}var Vv=!1;function T_(n,t,e){if(Vv)return n(t,e);Vv=!0;try{var i=n(t);return i}finally{if(Vv=!1,(Au!==null||zu!==null)&&(uv(),Au&&(t=Au,n=zu,zu=Au=null,LE(t),n)))for(t=0;t<n.length;t++)LE(n[t])}}function Id(n,t){var e=n.stateNode;if(e===null)return null;var i=e[Nn]||null;if(i===null)return null;e=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break t;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(k(231,t,typeof e));return e}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),K0=!1;if(Na)try{var Lh={};Object.defineProperty(Lh,"passive",{get:function(){K0=!0}}),window.addEventListener("test",Lh,Lh),window.removeEventListener("test",Lh,Lh)}catch{K0=!1}var Ur=null,RS=null,$g=null;function x_(){if($g)return $g;var n,t=RS,e=t.length,i,s="value"in Ur?Ur.value:Ur.textContent,a=s.length;for(n=0;n<e&&t[n]===s[n];n++);var r=e-n;for(i=1;i<=r&&t[e-i]===s[a-i];i++);return $g=s.slice(n,1<i?1-i:void 0)}function Kg(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function xg(){return!0}function OE(){return!1}function kn(n){function t(e,i,s,a,r){this._reactName=e,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=r,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(e=n[o],this[o]=e?e(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?xg:OE,this.isPropagationStopped=OE,this}return It(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=xg)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=xg)},persist:function(){},isPersistent:xg}),t}var Kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tv=kn(Kl),Gp=It({},Kl,{view:0,detail:0}),rP=kn(Gp),zv,Hv,Oh,ev=It({},Gp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:MS,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Oh&&(Oh&&n.type==="mousemove"?(zv=n.screenX-Oh.screenX,Hv=n.screenY-Oh.screenY):Hv=zv=0,Oh=n),zv)},movementY:function(n){return"movementY"in n?n.movementY:Hv}}),PE=kn(ev),oP=It({},ev,{dataTransfer:0}),lP=kn(oP),uP=It({},Gp,{relatedTarget:0}),Uv=kn(uP),cP=It({},Kl,{animationName:0,elapsedTime:0,pseudoElement:0}),hP=kn(cP),dP=It({},Kl,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),fP=kn(dP),pP=It({},Kl,{data:0}),NE=kn(pP),gP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vP(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=yP[n])?!!t[n]:!1}function MS(){return vP}var bP=It({},Gp,{key:function(n){if(n.key){var t=gP[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=Kg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?mP[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:MS,charCode:function(n){return n.type==="keypress"?Kg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Kg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),AP=kn(bP),SP=It({},ev,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kE=kn(SP),wP=It({},Gp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:MS}),EP=kn(wP),TP=It({},Kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),xP=kn(TP),_P=It({},ev,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),CP=kn(_P),RP=It({},Kl,{newState:0,oldState:0}),MP=kn(RP),DP=[9,13,27,32],DS=Na&&"CompositionEvent"in window,md=null;Na&&"documentMode"in document&&(md=document.documentMode);var LP=Na&&"TextEvent"in window&&!md,__=Na&&(!DS||md&&8<md&&11>=md),BE=" ",IE=!1;function C_(n,t){switch(n){case"keyup":return DP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function R_(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Su=!1;function OP(n,t){switch(n){case"compositionend":return R_(t);case"keypress":return t.which!==32?null:(IE=!0,BE);case"textInput":return n=t.data,n===BE&&IE?null:n;default:return null}}function PP(n,t){if(Su)return n==="compositionend"||!DS&&C_(n,t)?(n=x_(),$g=RS=Ur=null,Su=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return __&&t.locale!=="ko"?null:t.data;default:return null}}var NP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FE(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!NP[n.type]:t==="textarea"}function M_(n,t,e,i){Au?zu?zu.push(i):zu=[i]:Au=i,t=cy(t,"onChange"),0<t.length&&(e=new tv("onChange","change",null,e,i),n.push({event:e,listeners:t}))}var yd=null,Fd=null;function kP(n){SR(n,0)}function nv(n){var t=Xh(n);if(b_(t))return n}function VE(n,t){if(n==="change")return t}var D_=!1;if(Na){var jv;if(Na){var Gv="oninput"in document;if(!Gv){var zE=document.createElement("div");zE.setAttribute("oninput","return;"),Gv=typeof zE.oninput=="function"}jv=Gv}else jv=!1;D_=jv&&(!document.documentMode||9<document.documentMode)}function HE(){yd&&(yd.detachEvent("onpropertychange",L_),Fd=yd=null)}function L_(n){if(n.propertyName==="value"&&nv(Fd)){var t=[];M_(t,Fd,n,CS(n)),T_(kP,t)}}function BP(n,t,e){n==="focusin"?(HE(),yd=t,Fd=e,yd.attachEvent("onpropertychange",L_)):n==="focusout"&&HE()}function IP(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return nv(Fd)}function FP(n,t){if(n==="click")return nv(t)}function VP(n,t){if(n==="input"||n==="change")return nv(t)}function zP(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var li=typeof Object.is=="function"?Object.is:zP;function Vd(n,t){if(li(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),i=Object.keys(t);if(e.length!==i.length)return!1;for(i=0;i<e.length;i++){var s=e[i];if(!G0.call(t,s)||!li(n[s],t[s]))return!1}return!0}function UE(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function jE(n,t){var e=UE(n);n=0;for(var i;e;){if(e.nodeType===3){if(i=n+e.textContent.length,n<=t&&i>=t)return{node:e,offset:t-n};n=i}t:{for(;e;){if(e.nextSibling){e=e.nextSibling;break t}e=e.parentNode}e=void 0}e=UE(e)}}function O_(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?O_(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function P_(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var t=Xm(n.document);t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=Xm(n.document)}return t}function LS(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}var HP=Na&&"documentMode"in document&&11>=document.documentMode,wu=null,W0=null,vd=null,Q0=!1;function GE(n,t,e){var i=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;Q0||wu==null||wu!==Xm(i)||(i=wu,"selectionStart"in i&&LS(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),vd&&Vd(vd,i)||(vd=i,i=cy(W0,"onSelect"),0<i.length&&(t=new tv("onSelect","select",null,t,e),n.push({event:t,listeners:i}),t.target=wu)))}function fo(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var Eu={animationend:fo("Animation","AnimationEnd"),animationiteration:fo("Animation","AnimationIteration"),animationstart:fo("Animation","AnimationStart"),transitionrun:fo("Transition","TransitionRun"),transitionstart:fo("Transition","TransitionStart"),transitioncancel:fo("Transition","TransitionCancel"),transitionend:fo("Transition","TransitionEnd")},qv={},N_={};Na&&(N_=document.createElement("div").style,"AnimationEvent"in window||(delete Eu.animationend.animation,delete Eu.animationiteration.animation,delete Eu.animationstart.animation),"TransitionEvent"in window||delete Eu.transitionend.transition);function Wl(n){if(qv[n])return qv[n];if(!Eu[n])return n;var t=Eu[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in N_)return qv[n]=t[e];return n}var k_=Wl("animationend"),B_=Wl("animationiteration"),I_=Wl("animationstart"),UP=Wl("transitionrun"),jP=Wl("transitionstart"),GP=Wl("transitioncancel"),F_=Wl("transitionend"),V_=new Map,Z0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Z0.push("scrollEnd");function es(n,t){V_.set(n,t),$l(t,[n])}var qE=new WeakMap;function xi(n,t){if(typeof n=="object"&&n!==null){var e=qE.get(n);return e!==void 0?e:(t={value:n,source:t,stack:ME(t)},qE.set(n,t),t)}return{value:n,source:t,stack:ME(t)}}var Ai=[],Tu=0,OS=0;function iv(){for(var n=Tu,t=OS=Tu=0;t<n;){var e=Ai[t];Ai[t++]=null;var i=Ai[t];Ai[t++]=null;var s=Ai[t];Ai[t++]=null;var a=Ai[t];if(Ai[t++]=null,i!==null&&s!==null){var r=i.pending;r===null?s.next=s:(s.next=r.next,r.next=s),i.pending=s}a!==0&&z_(e,s,a)}}function sv(n,t,e,i){Ai[Tu++]=n,Ai[Tu++]=t,Ai[Tu++]=e,Ai[Tu++]=i,OS|=i,n.lanes|=i,n=n.alternate,n!==null&&(n.lanes|=i)}function PS(n,t,e,i){return sv(n,t,e,i),Ym(n)}function Ah(n,t){return sv(n,null,null,t),Ym(n)}function z_(n,t,e){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e);for(var s=!1,a=n.return;a!==null;)a.childLanes|=e,i=a.alternate,i!==null&&(i.childLanes|=e),a.tag===22&&(n=a.stateNode,n===null||n._visibility&1||(s=!0)),n=a,a=a.return;return n.tag===3?(a=n.stateNode,s&&t!==null&&(s=31-si(e),n=a.hiddenUpdates,i=n[s],i===null?n[s]=[t]:i.push(t),t.lane=e|536870912),a):null}function Ym(n){if(50<Rd)throw Rd=0,bb=null,Error(k(185));for(var t=n.return;t!==null;)n=t,t=n.return;return n.tag===3?n.stateNode:null}var xu={};function qP(n,t,e,i){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(n,t,e,i){return new qP(n,t,e,i)}function NS(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ma(n,t){var e=n.alternate;return e===null?(e=ni(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&65011712,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e.refCleanup=n.refCleanup,e}function H_(n,t){n.flags&=65011714;var e=n.alternate;return e===null?(n.childLanes=0,n.lanes=t,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.type=e.type,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n}function Wg(n,t,e,i,s,a){var r=0;if(i=n,typeof n=="function")NS(n)&&(r=1);else if(typeof n=="string")r=YN(n,e,Rs.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case z0:return n=ni(31,e,t,s),n.elementType=z0,n.lanes=a,n;case yu:return Nl(e.children,s,a,t);case r_:r=8,s|=24;break;case I0:return n=ni(12,e,t,s|2),n.elementType=I0,n.lanes=a,n;case F0:return n=ni(13,e,t,s),n.elementType=F0,n.lanes=a,n;case V0:return n=ni(19,e,t,s),n.elementType=V0,n.lanes=a,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case kO:case Ta:r=10;break t;case o_:r=9;break t;case AS:r=11;break t;case SS:r=14;break t;case Za:r=16,i=null;break t}r=29,e=Error(k(130,n===null?"null":typeof n,"")),i=null}return t=ni(r,e,t,s),t.elementType=n,t.type=i,t.lanes=a,t}function Nl(n,t,e,i){return n=ni(7,n,i,t),n.lanes=e,n}function Xv(n,t,e){return n=ni(6,n,null,t),n.lanes=e,n}function Yv(n,t,e){return t=ni(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}var _u=[],Cu=0,$m=null,Km=0,wi=[],Ei=0,kl=null,xa=1,_a="";function yo(n,t){_u[Cu++]=Km,_u[Cu++]=$m,$m=n,Km=t}function U_(n,t,e){wi[Ei++]=xa,wi[Ei++]=_a,wi[Ei++]=kl,kl=n;var i=xa;n=_a;var s=32-si(i)-1;i&=~(1<<s),e+=1;var a=32-si(t)+s;if(30<a){var r=s-s%5;a=(i&(1<<r)-1).toString(32),i>>=r,s-=r,xa=1<<32-si(t)+s|e<<s|i,_a=a+n}else xa=1<<a|e<<s|i,_a=n}function kS(n){n.return!==null&&(yo(n,1),U_(n,1,0))}function BS(n){for(;n===$m;)$m=_u[--Cu],_u[Cu]=null,Km=_u[--Cu],_u[Cu]=null;for(;n===kl;)kl=wi[--Ei],wi[Ei]=null,_a=wi[--Ei],wi[Ei]=null,xa=wi[--Ei],wi[Ei]=null}var vn=null,te=null,mt=!1,Bl=null,Ts=!1,J0=Error(k(519));function Ul(n){var t=Error(k(418,""));throw zd(xi(t,n)),J0}function XE(n){var t=n.stateNode,e=n.type,i=n.memoizedProps;switch(t[rn]=n,t[Nn]=i,e){case"dialog":ot("cancel",t),ot("close",t);break;case"iframe":case"object":case"embed":ot("load",t);break;case"video":case"audio":for(e=0;e<jd.length;e++)ot(jd[e],t);break;case"source":ot("error",t);break;case"img":case"image":case"link":ot("error",t),ot("load",t);break;case"details":ot("toggle",t);break;case"input":ot("invalid",t),A_(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),qm(t);break;case"select":ot("invalid",t);break;case"textarea":ot("invalid",t),w_(t,i.value,i.defaultValue,i.children),qm(t)}e=i.children,typeof e!="string"&&typeof e!="number"&&typeof e!="bigint"||t.textContent===""+e||i.suppressHydrationWarning===!0||ER(t.textContent,e)?(i.popover!=null&&(ot("beforetoggle",t),ot("toggle",t)),i.onScroll!=null&&ot("scroll",t),i.onScrollEnd!=null&&ot("scrollend",t),i.onClick!=null&&(t.onclick=dv),t=!0):t=!1,t||Ul(n)}function YE(n){for(vn=n.return;vn;)switch(vn.tag){case 5:case 13:Ts=!1;return;case 27:case 3:Ts=!0;return;default:vn=vn.return}}function Ph(n){if(n!==vn)return!1;if(!mt)return YE(n),mt=!0,!1;var t=n.tag,e;if((e=t!==3&&t!==27)&&((e=t===5)&&(e=n.type,e=!(e!=="form"&&e!=="button")||xb(n.type,n.memoizedProps)),e=!e),e&&te&&Ul(n),YE(n),t===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(k(317));t:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8)if(e=n.data,e==="/$"){if(t===0){te=Qi(n.nextSibling);break t}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++;n=n.nextSibling}te=null}}else t===27?(t=te,co(n.type)?(n=Rb,Rb=null,te=n):te=t):te=vn?Qi(n.stateNode.nextSibling):null;return!0}function qp(){te=vn=null,mt=!1}function $E(){var n=Bl;return n!==null&&(Ln===null?Ln=n:Ln.push.apply(Ln,n),Bl=null),n}function zd(n){Bl===null?Bl=[n]:Bl.push(n)}var tb=ks(null),Ql=null,Ca=null;function tr(n,t,e){Gt(tb,t._currentValue),t._currentValue=e}function Da(n){n._currentValue=tb.current,Ie(tb)}function eb(n,t,e){for(;n!==null;){var i=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),n===e)break;n=n.return}}function nb(n,t,e,i){var s=n.child;for(s!==null&&(s.return=n);s!==null;){var a=s.dependencies;if(a!==null){var r=s.child;a=a.firstContext;t:for(;a!==null;){var o=a;a=s;for(var l=0;l<t.length;l++)if(o.context===t[l]){a.lanes|=e,o=a.alternate,o!==null&&(o.lanes|=e),eb(a.return,e,n),i||(r=null);break t}a=o.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(k(341));r.lanes|=e,a=r.alternate,a!==null&&(a.lanes|=e),eb(r,e,n),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===n){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function Xp(n,t,e,i){n=null;for(var s=t,a=!1;s!==null;){if(!a){if(s.flags&524288)a=!0;else if(s.flags&262144)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(k(387));if(r=r.memoizedProps,r!==null){var o=s.type;li(s.pendingProps.value,r.value)||(n!==null?n.push(o):n=[o])}}else if(s===Hm.current){if(r=s.alternate,r===null)throw Error(k(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(n!==null?n.push(Xd):n=[Xd])}s=s.return}n!==null&&nb(t,n,e,i),t.flags|=262144}function Wm(n){for(n=n.firstContext;n!==null;){if(!li(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function jl(n){Ql=n,Ca=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function on(n){return j_(Ql,n)}function _g(n,t){return Ql===null&&jl(n),j_(n,t)}function j_(n,t){var e=t._currentValue;if(t={context:t,memoizedValue:e,next:null},Ca===null){if(n===null)throw Error(k(308));Ca=t,n.dependencies={lanes:0,firstContext:t},n.flags|=524288}else Ca=Ca.next=t;return e}var XP=typeof AbortController<"u"?AbortController:function(){var n=[],t=this.signal={aborted:!1,addEventListener:function(e,i){n.push(i)}};this.abort=function(){t.aborted=!0,n.forEach(function(e){return e()})}},YP=_e.unstable_scheduleCallback,$P=_e.unstable_NormalPriority,Ee={$$typeof:Ta,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function IS(){return{controller:new XP,data:new Map,refCount:0}}function Yp(n){n.refCount--,n.refCount===0&&YP($P,function(){n.controller.abort()})}var bd=null,ib=0,ah=0,Hu=null;function KP(n,t){if(bd===null){var e=bd=[];ib=0,ah=rw(),Hu={status:"pending",value:void 0,then:function(i){e.push(i)}}}return ib++,t.then(KE,KE),t}function KE(){if(--ib===0&&bd!==null){Hu!==null&&(Hu.status="fulfilled");var n=bd;bd=null,ah=0,Hu=null;for(var t=0;t<n.length;t++)(0,n[t])()}}function WP(n,t){var e=[],i={status:"pending",value:null,reason:null,then:function(s){e.push(s)}};return n.then(function(){i.status="fulfilled",i.value=t;for(var s=0;s<e.length;s++)(0,e[s])(t)},function(s){for(i.status="rejected",i.reason=s,s=0;s<e.length;s++)(0,e[s])(void 0)}),i}var WE=K.S;K.S=function(n,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&KP(n,t),WE!==null&&WE(n,t)};var Il=ks(null);function FS(){var n=Il.current;return n!==null?n:kt.pooledCache}function Qg(n,t){t===null?Gt(Il,Il.current):Gt(Il,t.pool)}function G_(){var n=FS();return n===null?null:{parent:Ee._currentValue,pool:n}}var $p=Error(k(460)),q_=Error(k(474)),av=Error(k(542)),sb={then:function(){}};function QE(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Cg(){}function X_(n,t,e){switch(e=n[e],e===void 0?n.push(t):e!==t&&(t.then(Cg,Cg),t=e),t.status){case"fulfilled":return t.value;case"rejected":throw n=t.reason,JE(n),n;default:if(typeof t.status=="string")t.then(Cg,Cg);else{if(n=kt,n!==null&&100<n.shellSuspendCounter)throw Error(k(482));n=t,n.status="pending",n.then(function(i){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=i}},function(i){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw n=t.reason,JE(n),n}throw Ad=t,$p}}var Ad=null;function ZE(){if(Ad===null)throw Error(k(459));var n=Ad;return Ad=null,n}function JE(n){if(n===$p||n===av)throw Error(k(483))}var Ja=!1;function VS(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ab(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Xr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Yr(n,t,e){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,wt&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,t=Ym(n),z_(n,null,e),t}return sv(n,i,t,e),Ym(n)}function Sd(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194048)!==0)){var i=t.lanes;i&=n.pendingLanes,e|=i,t.lanes=e,p_(n,e)}}function $v(n,t){var e=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,e===i)){var s=null,a=null;if(e=e.firstBaseUpdate,e!==null){do{var r={lane:e.lane,tag:e.tag,payload:e.payload,callback:null,next:null};a===null?s=a=r:a=a.next=r,e=e.next}while(e!==null);a===null?s=a=t:a=a.next=t}else s=a=t;e={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}var rb=!1;function wd(){if(rb){var n=Hu;if(n!==null)throw n}}function Ed(n,t,e,i){rb=!1;var s=n.updateQueue;Ja=!1;var a=s.firstBaseUpdate,r=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,r===null?a=c:r.next=c,r=l;var h=n.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==r&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(a!==null){var d=s.baseState;r=0,h=c=l=null,o=a;do{var f=o.lane&-536870913,p=f!==o.lane;if(p?(ht&f)===f:(i&f)===f){f!==0&&f===ah&&(rb=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var y=n,m=o;f=t;var S=e;switch(m.tag){case 1:if(y=m.payload,typeof y=="function"){d=y.call(S,d,f);break t}d=y;break t;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,f=typeof y=="function"?y.call(S,d,f):y,f==null)break t;d=It({},d,f);break t;case 2:Ja=!0}}f=o.callback,f!==null&&(n.flags|=64,p&&(n.flags|=8192),p=s.callbacks,p===null?s.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=p,l=d):h=h.next=p,r|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);h===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,a===null&&(s.shared.lanes=0),eo|=r,n.lanes=r,n.memoizedState=d}}function Y_(n,t){if(typeof n!="function")throw Error(k(191,n));n.call(t)}function $_(n,t){var e=n.callbacks;if(e!==null)for(n.callbacks=null,n=0;n<e.length;n++)Y_(e[n],t)}var rh=ks(null),Qm=ks(0);function t1(n,t){n=Ia,Gt(Qm,n),Gt(rh,t),Ia=n|t.baseLanes}function ob(){Gt(Qm,Ia),Gt(rh,rh.current)}function zS(){Ia=Qm.current,Ie(rh),Ie(Qm)}var Jr=0,st=null,xt=null,ge=null,Zm=!1,Uu=!1,Gl=!1,Jm=0,Hd=0,ju=null,QP=0;function se(){throw Error(k(321))}function HS(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!li(n[e],t[e]))return!1;return!0}function US(n,t,e,i,s,a){return Jr=a,st=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,K.H=n===null||n.memoizedState===null?xC:_C,Gl=!1,a=e(i,s),Gl=!1,Uu&&(a=W_(t,e,i,s)),K_(n),a}function K_(n){K.H=ty;var t=xt!==null&&xt.next!==null;if(Jr=0,ge=xt=st=null,Zm=!1,Hd=0,ju=null,t)throw Error(k(300));n===null||Be||(n=n.dependencies,n!==null&&Wm(n)&&(Be=!0))}function W_(n,t,e,i){st=n;var s=0;do{if(Uu&&(ju=null),Hd=0,Uu=!1,25<=s)throw Error(k(301));if(s+=1,ge=xt=null,n.updateQueue!=null){var a=n.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}K.H=sN,a=t(e,i)}while(Uu);return a}function ZP(){var n=K.H,t=n.useState()[0];return t=typeof t.then=="function"?Kp(t):t,n=n.useState()[0],(xt!==null?xt.memoizedState:null)!==n&&(st.flags|=1024),t}function jS(){var n=Jm!==0;return Jm=0,n}function GS(n,t,e){t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~e}function qS(n){if(Zm){for(n=n.memoizedState;n!==null;){var t=n.queue;t!==null&&(t.pending=null),n=n.next}Zm=!1}Jr=0,ge=xt=st=null,Uu=!1,Hd=Jm=0,ju=null}function Mn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?st.memoizedState=ge=n:ge=ge.next=n,ge}function ye(){if(xt===null){var n=st.alternate;n=n!==null?n.memoizedState:null}else n=xt.next;var t=ge===null?st.memoizedState:ge.next;if(t!==null)ge=t,xt=n;else{if(n===null)throw st.alternate===null?Error(k(467)):Error(k(310));xt=n,n={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},ge===null?st.memoizedState=ge=n:ge=ge.next=n}return ge}function XS(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kp(n){var t=Hd;return Hd+=1,ju===null&&(ju=[]),n=X_(ju,n,t),t=st,(ge===null?t.memoizedState:ge.next)===null&&(t=t.alternate,K.H=t===null||t.memoizedState===null?xC:_C),n}function rv(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Kp(n);if(n.$$typeof===Ta)return on(n)}throw Error(k(438,String(n)))}function YS(n){var t=null,e=st.updateQueue;if(e!==null&&(t=e.memoCache),t==null){var i=st.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),e===null&&(e=XS(),st.updateQueue=e),e.memoCache=t,e=t.data[t.index],e===void 0)for(e=t.data[t.index]=Array(n),i=0;i<n;i++)e[i]=BO;return t.index++,e}function ka(n,t){return typeof t=="function"?t(n):t}function Zg(n){var t=ye();return $S(t,xt,n)}function $S(n,t,e){var i=n.queue;if(i===null)throw Error(k(311));i.lastRenderedReducer=e;var s=n.baseQueue,a=i.pending;if(a!==null){if(s!==null){var r=s.next;s.next=a.next,a.next=r}t.baseQueue=s=a,i.pending=null}if(a=n.baseState,s===null)n.memoizedState=a;else{t=s.next;var o=r=null,l=null,c=t,h=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(ht&d)===d:(Jr&d)===d){var f=c.revertLane;if(f===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===ah&&(h=!0);else if((Jr&f)===f){c=c.next,f===ah&&(h=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,r=a):l=l.next=d,st.lanes|=f,eo|=f;d=c.action,Gl&&e(a,d),a=c.hasEagerState?c.eagerState:e(a,d)}else f={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=f,r=a):l=l.next=f,st.lanes|=d,eo|=d;c=c.next}while(c!==null&&c!==t);if(l===null?r=a:l.next=o,!li(a,n.memoizedState)&&(Be=!0,h&&(e=Hu,e!==null)))throw e;n.memoizedState=a,n.baseState=r,n.baseQueue=l,i.lastRenderedState=a}return s===null&&(i.lanes=0),[n.memoizedState,i.dispatch]}function Kv(n){var t=ye(),e=t.queue;if(e===null)throw Error(k(311));e.lastRenderedReducer=n;var i=e.dispatch,s=e.pending,a=t.memoizedState;if(s!==null){e.pending=null;var r=s=s.next;do a=n(a,r.action),r=r.next;while(r!==s);li(a,t.memoizedState)||(Be=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),e.lastRenderedState=a}return[a,i]}function Q_(n,t,e){var i=st,s=ye(),a=mt;if(a){if(e===void 0)throw Error(k(407));e=e()}else e=t();var r=!li((xt||s).memoizedState,e);r&&(s.memoizedState=e,Be=!0),s=s.queue;var o=tC.bind(null,i,s,n);if(Wp(2048,8,o,[n]),s.getSnapshot!==t||r||ge!==null&&ge.memoizedState.tag&1){if(i.flags|=2048,oh(9,ov(),J_.bind(null,i,s,e,t),null),kt===null)throw Error(k(349));a||Jr&124||Z_(i,t,e)}return e}function Z_(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=st.updateQueue,t===null?(t=XS(),st.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function J_(n,t,e,i){t.value=e,t.getSnapshot=i,eC(t)&&nC(n)}function tC(n,t,e){return e(function(){eC(t)&&nC(n)})}function eC(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!li(n,e)}catch{return!0}}function nC(n){var t=Ah(n,2);t!==null&&ri(t,n,2)}function lb(n){var t=Mn();if(typeof n=="function"){var e=n;if(n=e(),Gl){Hr(!0);try{e()}finally{Hr(!1)}}}return t.memoizedState=t.baseState=n,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:n},t}function iC(n,t,e,i){return n.baseState=e,$S(n,xt,typeof i=="function"?i:ka)}function JP(n,t,e,i,s){if(lv(n))throw Error(k(485));if(n=t.action,n!==null){var a={payload:s,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){a.listeners.push(r)}};K.T!==null?e(!0):a.isTransition=!1,i(a),e=t.pending,e===null?(a.next=t.pending=a,sC(t,a)):(a.next=e.next,t.pending=e.next=a)}}function sC(n,t){var e=t.action,i=t.payload,s=n.state;if(t.isTransition){var a=K.T,r={};K.T=r;try{var o=e(s,i),l=K.S;l!==null&&l(r,o),e1(n,t,o)}catch(c){ub(n,t,c)}finally{K.T=a}}else try{a=e(s,i),e1(n,t,a)}catch(c){ub(n,t,c)}}function e1(n,t,e){e!==null&&typeof e=="object"&&typeof e.then=="function"?e.then(function(i){n1(n,t,i)},function(i){return ub(n,t,i)}):n1(n,t,e)}function n1(n,t,e){t.status="fulfilled",t.value=e,aC(t),n.state=e,t=n.pending,t!==null&&(e=t.next,e===t?n.pending=null:(e=e.next,t.next=e,sC(n,e)))}function ub(n,t,e){var i=n.pending;if(n.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=e,aC(t),t=t.next;while(t!==i)}n.action=null}function aC(n){n=n.listeners;for(var t=0;t<n.length;t++)(0,n[t])()}function rC(n,t){return t}function i1(n,t){if(mt){var e=kt.formState;if(e!==null){t:{var i=st;if(mt){if(te){e:{for(var s=te,a=Ts;s.nodeType!==8;){if(!a){s=null;break e}if(s=Qi(s.nextSibling),s===null){s=null;break e}}a=s.data,s=a==="F!"||a==="F"?s:null}if(s){te=Qi(s.nextSibling),i=s.data==="F!";break t}}Ul(i)}i=!1}i&&(t=e[0])}}return e=Mn(),e.memoizedState=e.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rC,lastRenderedState:t},e.queue=i,e=wC.bind(null,st,i),i.dispatch=e,i=lb(!1),a=ZS.bind(null,st,!1,i.queue),i=Mn(),s={state:t,dispatch:null,action:n,pending:null},i.queue=s,e=JP.bind(null,st,s,a,e),s.dispatch=e,i.memoizedState=n,[t,e,!1]}function s1(n){var t=ye();return oC(t,xt,n)}function oC(n,t,e){if(t=$S(n,t,rC)[0],n=Zg(ka)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Kp(t)}catch(r){throw r===$p?av:r}else i=t;t=ye();var s=t.queue,a=s.dispatch;return e!==t.memoizedState&&(st.flags|=2048,oh(9,ov(),tN.bind(null,s,e),null)),[i,a,n]}function tN(n,t){n.action=t}function a1(n){var t=ye(),e=xt;if(e!==null)return oC(t,e,n);ye(),t=t.memoizedState,e=ye();var i=e.queue.dispatch;return e.memoizedState=n,[t,i,!1]}function oh(n,t,e,i){return n={tag:n,create:e,deps:i,inst:t,next:null},t=st.updateQueue,t===null&&(t=XS(),st.updateQueue=t),e=t.lastEffect,e===null?t.lastEffect=n.next=n:(i=e.next,e.next=n,n.next=i,t.lastEffect=n),n}function ov(){return{destroy:void 0,resource:void 0}}function lC(){return ye().memoizedState}function Jg(n,t,e,i){var s=Mn();i=i===void 0?null:i,st.flags|=n,s.memoizedState=oh(1|t,ov(),e,i)}function Wp(n,t,e,i){var s=ye();i=i===void 0?null:i;var a=s.memoizedState.inst;xt!==null&&i!==null&&HS(i,xt.memoizedState.deps)?s.memoizedState=oh(t,a,e,i):(st.flags|=n,s.memoizedState=oh(1|t,a,e,i))}function r1(n,t){Jg(8390656,8,n,t)}function uC(n,t){Wp(2048,8,n,t)}function cC(n,t){return Wp(4,2,n,t)}function hC(n,t){return Wp(4,4,n,t)}function dC(n,t){if(typeof t=="function"){n=n();var e=t(n);return function(){typeof e=="function"?e():t(null)}}if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function fC(n,t,e){e=e!=null?e.concat([n]):null,Wp(4,4,dC.bind(null,t,n),e)}function KS(){}function pC(n,t){var e=ye();t=t===void 0?null:t;var i=e.memoizedState;return t!==null&&HS(t,i[1])?i[0]:(e.memoizedState=[n,t],n)}function gC(n,t){var e=ye();t=t===void 0?null:t;var i=e.memoizedState;if(t!==null&&HS(t,i[1]))return i[0];if(i=n(),Gl){Hr(!0);try{n()}finally{Hr(!1)}}return e.memoizedState=[i,t],i}function WS(n,t,e){return e===void 0||Jr&1073741824?n.memoizedState=t:(n.memoizedState=e,n=aR(),st.lanes|=n,eo|=n,e)}function mC(n,t,e,i){return li(e,t)?e:rh.current!==null?(n=WS(n,e,i),li(n,t)||(Be=!0),n):Jr&42?(n=aR(),st.lanes|=n,eo|=n,t):(Be=!0,n.memoizedState=e)}function yC(n,t,e,i,s){var a=yt.p;yt.p=a!==0&&8>a?a:8;var r=K.T,o={};K.T=o,ZS(n,!1,t,e);try{var l=s(),c=K.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=WP(l,i);Td(n,t,h,ai(n))}else Td(n,t,i,ai(n))}catch(d){Td(n,t,{then:function(){},status:"rejected",reason:d},ai())}finally{yt.p=a,K.T=r}}function eN(){}function cb(n,t,e,i){if(n.tag!==5)throw Error(k(476));var s=vC(n).queue;yC(n,s,t,Pl,e===null?eN:function(){return bC(n),e(i)})}function vC(n){var t=n.memoizedState;if(t!==null)return t;t={memoizedState:Pl,baseState:Pl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:Pl},next:null};var e={};return t.next={memoizedState:e,baseState:e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},next:null},n.memoizedState=t,n=n.alternate,n!==null&&(n.memoizedState=t),t}function bC(n){var t=vC(n).next.queue;Td(n,t,{},ai())}function QS(){return on(Xd)}function AC(){return ye().memoizedState}function SC(){return ye().memoizedState}function nN(n){for(var t=n.return;t!==null;){switch(t.tag){case 24:case 3:var e=ai();n=Xr(e);var i=Yr(t,n,e);i!==null&&(ri(i,t,e),Sd(i,t,e)),t={cache:IS()},n.payload=t;return}t=t.return}}function iN(n,t,e){var i=ai();e={lane:i,revertLane:0,action:e,hasEagerState:!1,eagerState:null,next:null},lv(n)?EC(t,e):(e=PS(n,t,e,i),e!==null&&(ri(e,n,i),TC(e,t,i)))}function wC(n,t,e){var i=ai();Td(n,t,e,i)}function Td(n,t,e,i){var s={lane:i,revertLane:0,action:e,hasEagerState:!1,eagerState:null,next:null};if(lv(n))EC(t,s);else{var a=n.alternate;if(n.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var r=t.lastRenderedState,o=a(r,e);if(s.hasEagerState=!0,s.eagerState=o,li(o,r))return sv(n,t,s,0),kt===null&&iv(),!1}catch{}finally{}if(e=PS(n,t,s,i),e!==null)return ri(e,n,i),TC(e,t,i),!0}return!1}function ZS(n,t,e,i){if(i={lane:2,revertLane:rw(),action:i,hasEagerState:!1,eagerState:null,next:null},lv(n)){if(t)throw Error(k(479))}else t=PS(n,e,i,2),t!==null&&ri(t,n,2)}function lv(n){var t=n.alternate;return n===st||t!==null&&t===st}function EC(n,t){Uu=Zm=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function TC(n,t,e){if(e&4194048){var i=t.lanes;i&=n.pendingLanes,e|=i,t.lanes=e,p_(n,e)}}var ty={readContext:on,use:rv,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se,useHostTransitionStatus:se,useFormState:se,useActionState:se,useOptimistic:se,useMemoCache:se,useCacheRefresh:se},xC={readContext:on,use:rv,useCallback:function(n,t){return Mn().memoizedState=[n,t===void 0?null:t],n},useContext:on,useEffect:r1,useImperativeHandle:function(n,t,e){e=e!=null?e.concat([n]):null,Jg(4194308,4,dC.bind(null,t,n),e)},useLayoutEffect:function(n,t){return Jg(4194308,4,n,t)},useInsertionEffect:function(n,t){Jg(4,2,n,t)},useMemo:function(n,t){var e=Mn();t=t===void 0?null:t;var i=n();if(Gl){Hr(!0);try{n()}finally{Hr(!1)}}return e.memoizedState=[i,t],i},useReducer:function(n,t,e){var i=Mn();if(e!==void 0){var s=e(t);if(Gl){Hr(!0);try{e(t)}finally{Hr(!1)}}}else s=t;return i.memoizedState=i.baseState=s,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},i.queue=n,n=n.dispatch=iN.bind(null,st,n),[i.memoizedState,n]},useRef:function(n){var t=Mn();return n={current:n},t.memoizedState=n},useState:function(n){n=lb(n);var t=n.queue,e=wC.bind(null,st,t);return t.dispatch=e,[n.memoizedState,e]},useDebugValue:KS,useDeferredValue:function(n,t){var e=Mn();return WS(e,n,t)},useTransition:function(){var n=lb(!1);return n=yC.bind(null,st,n.queue,!0,!1),Mn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,t,e){var i=st,s=Mn();if(mt){if(e===void 0)throw Error(k(407));e=e()}else{if(e=t(),kt===null)throw Error(k(349));ht&124||Z_(i,t,e)}s.memoizedState=e;var a={value:e,getSnapshot:t};return s.queue=a,r1(tC.bind(null,i,a,n),[n]),i.flags|=2048,oh(9,ov(),J_.bind(null,i,a,e,t),null),e},useId:function(){var n=Mn(),t=kt.identifierPrefix;if(mt){var e=_a,i=xa;e=(i&~(1<<32-si(i)-1)).toString(32)+e,t="«"+t+"R"+e,e=Jm++,0<e&&(t+="H"+e.toString(32)),t+="»"}else e=QP++,t="«"+t+"r"+e.toString(32)+"»";return n.memoizedState=t},useHostTransitionStatus:QS,useFormState:i1,useActionState:i1,useOptimistic:function(n){var t=Mn();t.memoizedState=t.baseState=n;var e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=e,t=ZS.bind(null,st,!0,e),e.dispatch=t,[n,t]},useMemoCache:YS,useCacheRefresh:function(){return Mn().memoizedState=nN.bind(null,st)}},_C={readContext:on,use:rv,useCallback:pC,useContext:on,useEffect:uC,useImperativeHandle:fC,useInsertionEffect:cC,useLayoutEffect:hC,useMemo:gC,useReducer:Zg,useRef:lC,useState:function(){return Zg(ka)},useDebugValue:KS,useDeferredValue:function(n,t){var e=ye();return mC(e,xt.memoizedState,n,t)},useTransition:function(){var n=Zg(ka)[0],t=ye().memoizedState;return[typeof n=="boolean"?n:Kp(n),t]},useSyncExternalStore:Q_,useId:AC,useHostTransitionStatus:QS,useFormState:s1,useActionState:s1,useOptimistic:function(n,t){var e=ye();return iC(e,xt,n,t)},useMemoCache:YS,useCacheRefresh:SC},sN={readContext:on,use:rv,useCallback:pC,useContext:on,useEffect:uC,useImperativeHandle:fC,useInsertionEffect:cC,useLayoutEffect:hC,useMemo:gC,useReducer:Kv,useRef:lC,useState:function(){return Kv(ka)},useDebugValue:KS,useDeferredValue:function(n,t){var e=ye();return xt===null?WS(e,n,t):mC(e,xt.memoizedState,n,t)},useTransition:function(){var n=Kv(ka)[0],t=ye().memoizedState;return[typeof n=="boolean"?n:Kp(n),t]},useSyncExternalStore:Q_,useId:AC,useHostTransitionStatus:QS,useFormState:a1,useActionState:a1,useOptimistic:function(n,t){var e=ye();return xt!==null?iC(e,xt,n,t):(e.baseState=n,[n,e.queue.dispatch])},useMemoCache:YS,useCacheRefresh:SC},Gu=null,Ud=0;function Rg(n){var t=Ud;return Ud+=1,Gu===null&&(Gu=[]),X_(Gu,n,t)}function Nh(n,t){t=t.props.ref,n.ref=t!==void 0?t:null}function Mg(n,t){throw t.$$typeof===NO?Error(k(525)):(n=Object.prototype.toString.call(t),Error(k(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n)))}function o1(n){var t=n._init;return t(n._payload)}function CC(n){function t(g,b){if(n){var A=g.deletions;A===null?(g.deletions=[b],g.flags|=16):A.push(b)}}function e(g,b){if(!n)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function i(g){for(var b=new Map;g!==null;)g.key!==null?b.set(g.key,g):b.set(g.index,g),g=g.sibling;return b}function s(g,b){return g=Ma(g,b),g.index=0,g.sibling=null,g}function a(g,b,A){return g.index=A,n?(A=g.alternate,A!==null?(A=A.index,A<b?(g.flags|=67108866,b):A):(g.flags|=67108866,b)):(g.flags|=1048576,b)}function r(g){return n&&g.alternate===null&&(g.flags|=67108866),g}function o(g,b,A,T){return b===null||b.tag!==6?(b=Xv(A,g.mode,T),b.return=g,b):(b=s(b,A),b.return=g,b)}function l(g,b,A,T){var x=A.type;return x===yu?h(g,b,A.props.children,T,A.key):b!==null&&(b.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Za&&o1(x)===b.type)?(b=s(b,A.props),Nh(b,A),b.return=g,b):(b=Wg(A.type,A.key,A.props,null,g.mode,T),Nh(b,A),b.return=g,b)}function c(g,b,A,T){return b===null||b.tag!==4||b.stateNode.containerInfo!==A.containerInfo||b.stateNode.implementation!==A.implementation?(b=Yv(A,g.mode,T),b.return=g,b):(b=s(b,A.children||[]),b.return=g,b)}function h(g,b,A,T,x){return b===null||b.tag!==7?(b=Nl(A,g.mode,T,x),b.return=g,b):(b=s(b,A),b.return=g,b)}function d(g,b,A){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Xv(""+b,g.mode,A),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Sg:return A=Wg(b.type,b.key,b.props,null,g.mode,A),Nh(A,b),A.return=g,A;case Gh:return b=Yv(b,g.mode,A),b.return=g,b;case Za:var T=b._init;return b=T(b._payload),d(g,b,A)}if(qh(b)||Dh(b))return b=Nl(b,g.mode,A,null),b.return=g,b;if(typeof b.then=="function")return d(g,Rg(b),A);if(b.$$typeof===Ta)return d(g,_g(g,b),A);Mg(g,b)}return null}function f(g,b,A,T){var x=b!==null?b.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return x!==null?null:o(g,b,""+A,T);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Sg:return A.key===x?l(g,b,A,T):null;case Gh:return A.key===x?c(g,b,A,T):null;case Za:return x=A._init,A=x(A._payload),f(g,b,A,T)}if(qh(A)||Dh(A))return x!==null?null:h(g,b,A,T,null);if(typeof A.then=="function")return f(g,b,Rg(A),T);if(A.$$typeof===Ta)return f(g,b,_g(g,A),T);Mg(g,A)}return null}function p(g,b,A,T,x){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return g=g.get(A)||null,o(b,g,""+T,x);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Sg:return g=g.get(T.key===null?A:T.key)||null,l(b,g,T,x);case Gh:return g=g.get(T.key===null?A:T.key)||null,c(b,g,T,x);case Za:var C=T._init;return T=C(T._payload),p(g,b,A,T,x)}if(qh(T)||Dh(T))return g=g.get(A)||null,h(b,g,T,x,null);if(typeof T.then=="function")return p(g,b,A,Rg(T),x);if(T.$$typeof===Ta)return p(g,b,A,_g(b,T),x);Mg(b,T)}return null}function y(g,b,A,T){for(var x=null,C=null,_=b,M=b=0,L=null;_!==null&&M<A.length;M++){_.index>M?(L=_,_=null):L=_.sibling;var O=f(g,_,A[M],T);if(O===null){_===null&&(_=L);break}n&&_&&O.alternate===null&&t(g,_),b=a(O,b,M),C===null?x=O:C.sibling=O,C=O,_=L}if(M===A.length)return e(g,_),mt&&yo(g,M),x;if(_===null){for(;M<A.length;M++)_=d(g,A[M],T),_!==null&&(b=a(_,b,M),C===null?x=_:C.sibling=_,C=_);return mt&&yo(g,M),x}for(_=i(_);M<A.length;M++)L=p(_,g,M,A[M],T),L!==null&&(n&&L.alternate!==null&&_.delete(L.key===null?M:L.key),b=a(L,b,M),C===null?x=L:C.sibling=L,C=L);return n&&_.forEach(function(N){return t(g,N)}),mt&&yo(g,M),x}function m(g,b,A,T){if(A==null)throw Error(k(151));for(var x=null,C=null,_=b,M=b=0,L=null,O=A.next();_!==null&&!O.done;M++,O=A.next()){_.index>M?(L=_,_=null):L=_.sibling;var N=f(g,_,O.value,T);if(N===null){_===null&&(_=L);break}n&&_&&N.alternate===null&&t(g,_),b=a(N,b,M),C===null?x=N:C.sibling=N,C=N,_=L}if(O.done)return e(g,_),mt&&yo(g,M),x;if(_===null){for(;!O.done;M++,O=A.next())O=d(g,O.value,T),O!==null&&(b=a(O,b,M),C===null?x=O:C.sibling=O,C=O);return mt&&yo(g,M),x}for(_=i(_);!O.done;M++,O=A.next())O=p(_,g,M,O.value,T),O!==null&&(n&&O.alternate!==null&&_.delete(O.key===null?M:O.key),b=a(O,b,M),C===null?x=O:C.sibling=O,C=O);return n&&_.forEach(function(X){return t(g,X)}),mt&&yo(g,M),x}function S(g,b,A,T){if(typeof A=="object"&&A!==null&&A.type===yu&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Sg:t:{for(var x=A.key;b!==null;){if(b.key===x){if(x=A.type,x===yu){if(b.tag===7){e(g,b.sibling),T=s(b,A.props.children),T.return=g,g=T;break t}}else if(b.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Za&&o1(x)===b.type){e(g,b.sibling),T=s(b,A.props),Nh(T,A),T.return=g,g=T;break t}e(g,b);break}else t(g,b);b=b.sibling}A.type===yu?(T=Nl(A.props.children,g.mode,T,A.key),T.return=g,g=T):(T=Wg(A.type,A.key,A.props,null,g.mode,T),Nh(T,A),T.return=g,g=T)}return r(g);case Gh:t:{for(x=A.key;b!==null;){if(b.key===x)if(b.tag===4&&b.stateNode.containerInfo===A.containerInfo&&b.stateNode.implementation===A.implementation){e(g,b.sibling),T=s(b,A.children||[]),T.return=g,g=T;break t}else{e(g,b);break}else t(g,b);b=b.sibling}T=Yv(A,g.mode,T),T.return=g,g=T}return r(g);case Za:return x=A._init,A=x(A._payload),S(g,b,A,T)}if(qh(A))return y(g,b,A,T);if(Dh(A)){if(x=Dh(A),typeof x!="function")throw Error(k(150));return A=x.call(A),m(g,b,A,T)}if(typeof A.then=="function")return S(g,b,Rg(A),T);if(A.$$typeof===Ta)return S(g,b,_g(g,A),T);Mg(g,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,b!==null&&b.tag===6?(e(g,b.sibling),T=s(b,A),T.return=g,g=T):(e(g,b),T=Xv(A,g.mode,T),T.return=g,g=T),r(g)):e(g,b)}return function(g,b,A,T){try{Ud=0;var x=S(g,b,A,T);return Gu=null,x}catch(_){if(_===$p||_===av)throw _;var C=ni(29,_,null,g.mode);return C.lanes=T,C.return=g,C}finally{}}}var lh=CC(!0),RC=CC(!1),Li=ks(null),Ds=null;function er(n){var t=n.alternate;Gt(Te,Te.current&1),Gt(Li,n),Ds===null&&(t===null||rh.current!==null||t.memoizedState!==null)&&(Ds=n)}function MC(n){if(n.tag===22){if(Gt(Te,Te.current),Gt(Li,n),Ds===null){var t=n.alternate;t!==null&&t.memoizedState!==null&&(Ds=n)}}else nr()}function nr(){Gt(Te,Te.current),Gt(Li,Li.current)}function Ra(n){Ie(Li),Ds===n&&(Ds=null),Ie(Te)}var Te=ks(0);function ey(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||Cb(e)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Wv(n,t,e,i){t=n.memoizedState,e=e(i,t),e=e==null?t:It({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var hb={enqueueSetState:function(n,t,e){n=n._reactInternals;var i=ai(),s=Xr(i);s.payload=t,e!=null&&(s.callback=e),t=Yr(n,s,i),t!==null&&(ri(t,n,i),Sd(t,n,i))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var i=ai(),s=Xr(i);s.tag=1,s.payload=t,e!=null&&(s.callback=e),t=Yr(n,s,i),t!==null&&(ri(t,n,i),Sd(t,n,i))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=ai(),i=Xr(e);i.tag=2,t!=null&&(i.callback=t),t=Yr(n,i,e),t!==null&&(ri(t,n,e),Sd(t,n,e))}};function l1(n,t,e,i,s,a,r){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,a,r):t.prototype&&t.prototype.isPureReactComponent?!Vd(e,i)||!Vd(s,a):!0}function u1(n,t,e,i){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,i),t.state!==n&&hb.enqueueReplaceState(t,t.state,null)}function ql(n,t){var e=t;if("ref"in t){e={};for(var i in t)i!=="ref"&&(e[i]=t[i])}if(n=n.defaultProps){e===t&&(e=It({},e));for(var s in n)e[s]===void 0&&(e[s]=n[s])}return e}var ny=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function DC(n){ny(n)}function LC(n){console.error(n)}function OC(n){ny(n)}function iy(n,t){try{var e=n.onUncaughtError;e(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function c1(n,t,e){try{var i=n.onCaughtError;i(e.value,{componentStack:e.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function db(n,t,e){return e=Xr(e),e.tag=3,e.payload={element:null},e.callback=function(){iy(n,t)},e}function PC(n){return n=Xr(n),n.tag=3,n}function NC(n,t,e,i){var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=i.value;n.payload=function(){return s(a)},n.callback=function(){c1(t,e,i)}}var r=e.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){c1(t,e,i),typeof s!="function"&&($r===null?$r=new Set([this]):$r.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function aN(n,t,e,i,s){if(e.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=e.alternate,t!==null&&Xp(t,e,s,!0),e=Li.current,e!==null){switch(e.tag){case 13:return Ds===null?Ab():e.alternate===null&&ee===0&&(ee=3),e.flags&=-257,e.flags|=65536,e.lanes=s,i===sb?e.flags|=16384:(t=e.updateQueue,t===null?e.updateQueue=new Set([i]):t.add(i),o0(n,i,s)),!1;case 22:return e.flags|=65536,i===sb?e.flags|=16384:(t=e.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},e.updateQueue=t):(e=t.retryQueue,e===null?t.retryQueue=new Set([i]):e.add(i)),o0(n,i,s)),!1}throw Error(k(435,e.tag))}return o0(n,i,s),Ab(),!1}if(mt)return t=Li.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==J0&&(n=Error(k(422),{cause:i}),zd(xi(n,e)))):(i!==J0&&(t=Error(k(423),{cause:i}),zd(xi(t,e))),n=n.current.alternate,n.flags|=65536,s&=-s,n.lanes|=s,i=xi(i,e),s=db(n.stateNode,i,s),$v(n,s),ee!==4&&(ee=2)),!1;var a=Error(k(520),{cause:i});if(a=xi(a,e),Cd===null?Cd=[a]:Cd.push(a),ee!==4&&(ee=2),t===null)return!0;i=xi(i,e),e=t;do{switch(e.tag){case 3:return e.flags|=65536,n=s&-s,e.lanes|=n,n=db(e.stateNode,i,n),$v(e,n),!1;case 1:if(t=e.type,a=e.stateNode,(e.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&($r===null||!$r.has(a))))return e.flags|=65536,s&=-s,e.lanes|=s,s=PC(s),NC(s,n,e,i),$v(e,s),!1}e=e.return}while(e!==null);return!1}var kC=Error(k(461)),Be=!1;function qe(n,t,e,i){t.child=n===null?RC(t,null,e,i):lh(t,n.child,e,i)}function h1(n,t,e,i,s){e=e.render;var a=t.ref;if("ref"in i){var r={};for(var o in i)o!=="ref"&&(r[o]=i[o])}else r=i;return jl(t),i=US(n,t,e,r,a,s),o=jS(),n!==null&&!Be?(GS(n,t,s),Ba(n,t,s)):(mt&&o&&kS(t),t.flags|=1,qe(n,t,i,s),t.child)}function d1(n,t,e,i,s){if(n===null){var a=e.type;return typeof a=="function"&&!NS(a)&&a.defaultProps===void 0&&e.compare===null?(t.tag=15,t.type=a,BC(n,t,a,i,s)):(n=Wg(e.type,null,i,t,t.mode,s),n.ref=t.ref,n.return=t,t.child=n)}if(a=n.child,!JS(n,s)){var r=a.memoizedProps;if(e=e.compare,e=e!==null?e:Vd,e(r,i)&&n.ref===t.ref)return Ba(n,t,s)}return t.flags|=1,n=Ma(a,i),n.ref=t.ref,n.return=t,t.child=n}function BC(n,t,e,i,s){if(n!==null){var a=n.memoizedProps;if(Vd(a,i)&&n.ref===t.ref)if(Be=!1,t.pendingProps=i=a,JS(n,s))n.flags&131072&&(Be=!0);else return t.lanes=n.lanes,Ba(n,t,s)}return fb(n,t,e,i,s)}function IC(n,t,e){var i=t.pendingProps,s=i.children,a=n!==null?n.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=a!==null?a.baseLanes|e:e,n!==null){for(s=t.child=n.child,a=0;s!==null;)a=a|s.lanes|s.childLanes,s=s.sibling;t.childLanes=a&~i}else t.childLanes=0,t.child=null;return f1(n,t,i,e)}if(e&536870912)t.memoizedState={baseLanes:0,cachePool:null},n!==null&&Qg(t,a!==null?a.cachePool:null),a!==null?t1(t,a):ob(),MC(t);else return t.lanes=t.childLanes=536870912,f1(n,t,a!==null?a.baseLanes|e:e,e)}else a!==null?(Qg(t,a.cachePool),t1(t,a),nr(),t.memoizedState=null):(n!==null&&Qg(t,null),ob(),nr());return qe(n,t,s,e),t.child}function f1(n,t,e,i){var s=FS();return s=s===null?null:{parent:Ee._currentValue,pool:s},t.memoizedState={baseLanes:e,cachePool:s},n!==null&&Qg(t,null),ob(),MC(t),n!==null&&Xp(n,t,i,!0),null}function tm(n,t){var e=t.ref;if(e===null)n!==null&&n.ref!==null&&(t.flags|=4194816);else{if(typeof e!="function"&&typeof e!="object")throw Error(k(284));(n===null||n.ref!==e)&&(t.flags|=4194816)}}function fb(n,t,e,i,s){return jl(t),e=US(n,t,e,i,void 0,s),i=jS(),n!==null&&!Be?(GS(n,t,s),Ba(n,t,s)):(mt&&i&&kS(t),t.flags|=1,qe(n,t,e,s),t.child)}function p1(n,t,e,i,s,a){return jl(t),t.updateQueue=null,e=W_(t,i,e,s),K_(n),i=jS(),n!==null&&!Be?(GS(n,t,a),Ba(n,t,a)):(mt&&i&&kS(t),t.flags|=1,qe(n,t,e,a),t.child)}function g1(n,t,e,i,s){if(jl(t),t.stateNode===null){var a=xu,r=e.contextType;typeof r=="object"&&r!==null&&(a=on(r)),a=new e(i,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=hb,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=i,a.state=t.memoizedState,a.refs={},VS(t),r=e.contextType,a.context=typeof r=="object"&&r!==null?on(r):xu,a.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Wv(t,e,r,i),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&hb.enqueueReplaceState(a,a.state,null),Ed(t,i,a,s),wd(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(n===null){a=t.stateNode;var o=t.memoizedProps,l=ql(e,o);a.props=l;var c=a.context,h=e.contextType;r=xu,typeof h=="object"&&h!==null&&(r=on(h));var d=e.getDerivedStateFromProps;h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==r)&&u1(t,a,i,r),Ja=!1;var f=t.memoizedState;a.state=f,Ed(t,i,a,s),wd(),c=t.memoizedState,o||f!==c||Ja?(typeof d=="function"&&(Wv(t,e,d,i),c=t.memoizedState),(l=Ja||l1(t,e,l,i,f,c,r))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=r,i=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,ab(n,t),r=t.memoizedProps,h=ql(e,r),a.props=h,d=t.pendingProps,f=a.context,c=e.contextType,l=xu,typeof c=="object"&&c!==null&&(l=on(c)),o=e.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(r!==d||f!==l)&&u1(t,a,i,l),Ja=!1,f=t.memoizedState,a.state=f,Ed(t,i,a,s),wd();var p=t.memoizedState;r!==d||f!==p||Ja||n!==null&&n.dependencies!==null&&Wm(n.dependencies)?(typeof o=="function"&&(Wv(t,e,o,i),p=t.memoizedState),(h=Ja||l1(t,e,h,i,f,p,l)||n!==null&&n.dependencies!==null&&Wm(n.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,p,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||r===n.memoizedProps&&f===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===n.memoizedProps&&f===n.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),a.props=i,a.state=p,a.context=l,i=h):(typeof a.componentDidUpdate!="function"||r===n.memoizedProps&&f===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===n.memoizedProps&&f===n.memoizedState||(t.flags|=1024),i=!1)}return a=i,tm(n,t),i=(t.flags&128)!==0,a||i?(a=t.stateNode,e=i&&typeof e.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,n!==null&&i?(t.child=lh(t,n.child,null,s),t.child=lh(t,null,e,s)):qe(n,t,e,s),t.memoizedState=a.state,n=t.child):n=Ba(n,t,s),n}function m1(n,t,e,i){return qp(),t.flags|=256,qe(n,t,e,i),t.child}var Qv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zv(n){return{baseLanes:n,cachePool:G_()}}function Jv(n,t,e){return n=n!==null?n.childLanes&~e:0,t&&(n|=Ri),n}function FC(n,t,e){var i=t.pendingProps,s=!1,a=(t.flags&128)!==0,r;if((r=a)||(r=n!==null&&n.memoizedState===null?!1:(Te.current&2)!==0),r&&(s=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,n===null){if(mt){if(s?er(t):nr(),mt){var o=te,l;if(l=o){t:{for(l=o,o=Ts;l.nodeType!==8;){if(!o){o=null;break t}if(l=Qi(l.nextSibling),l===null){o=null;break t}}o=l}o!==null?(t.memoizedState={dehydrated:o,treeContext:kl!==null?{id:xa,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},l=ni(18,null,null,0),l.stateNode=o,l.return=t,t.child=l,vn=t,te=null,l=!0):l=!1}l||Ul(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Cb(o)?t.lanes=32:t.lanes=536870912,null;Ra(t)}return o=i.children,i=i.fallback,s?(nr(),s=t.mode,o=sy({mode:"hidden",children:o},s),i=Nl(i,s,e,null),o.return=t,i.return=t,o.sibling=i,t.child=o,s=t.child,s.memoizedState=Zv(e),s.childLanes=Jv(n,r,e),t.memoizedState=Qv,i):(er(t),pb(t,o))}if(l=n.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(a)t.flags&256?(er(t),t.flags&=-257,t=t0(n,t,e)):t.memoizedState!==null?(nr(),t.child=n.child,t.flags|=128,t=null):(nr(),s=i.fallback,o=t.mode,i=sy({mode:"visible",children:i.children},o),s=Nl(s,o,e,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,lh(t,n.child,null,e),i=t.child,i.memoizedState=Zv(e),i.childLanes=Jv(n,r,e),t.memoizedState=Qv,t=s);else if(er(t),Cb(o)){if(r=o.nextSibling&&o.nextSibling.dataset,r)var c=r.dgst;r=c,i=Error(k(419)),i.stack="",i.digest=r,zd({value:i,source:null,stack:null}),t=t0(n,t,e)}else if(Be||Xp(n,t,e,!1),r=(e&n.childLanes)!==0,Be||r){if(r=kt,r!==null&&(i=e&-e,i=i&42?1:ES(i),i=i&(r.suspendedLanes|e)?0:i,i!==0&&i!==l.retryLane))throw l.retryLane=i,Ah(n,i),ri(r,n,i),kC;o.data==="$?"||Ab(),t=t0(n,t,e)}else o.data==="$?"?(t.flags|=192,t.child=n.child,t=null):(n=l.treeContext,te=Qi(o.nextSibling),vn=t,mt=!0,Bl=null,Ts=!1,n!==null&&(wi[Ei++]=xa,wi[Ei++]=_a,wi[Ei++]=kl,xa=n.id,_a=n.overflow,kl=t),t=pb(t,i.children),t.flags|=4096);return t}return s?(nr(),s=i.fallback,o=t.mode,l=n.child,c=l.sibling,i=Ma(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&65011712,c!==null?s=Ma(c,s):(s=Nl(s,o,e,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=n.child.memoizedState,o===null?o=Zv(e):(l=o.cachePool,l!==null?(c=Ee._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=G_(),o={baseLanes:o.baseLanes|e,cachePool:l}),s.memoizedState=o,s.childLanes=Jv(n,r,e),t.memoizedState=Qv,i):(er(t),e=n.child,n=e.sibling,e=Ma(e,{mode:"visible",children:i.children}),e.return=t,e.sibling=null,n!==null&&(r=t.deletions,r===null?(t.deletions=[n],t.flags|=16):r.push(n)),t.child=e,t.memoizedState=null,e)}function pb(n,t){return t=sy({mode:"visible",children:t},n.mode),t.return=n,n.child=t}function sy(n,t){return n=ni(22,n,null,t),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function t0(n,t,e){return lh(t,n.child,null,e),n=pb(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function y1(n,t,e){n.lanes|=t;var i=n.alternate;i!==null&&(i.lanes|=t),eb(n.return,t,e)}function e0(n,t,e,i,s){var a=n.memoizedState;a===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:e,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=e,a.tailMode=s)}function VC(n,t,e){var i=t.pendingProps,s=i.revealOrder,a=i.tail;if(qe(n,t,i.children,e),i=Te.current,i&2)i=i&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)t:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&y1(n,e,t);else if(n.tag===19)y1(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}switch(Gt(Te,i),s){case"forwards":for(e=t.child,s=null;e!==null;)n=e.alternate,n!==null&&ey(n)===null&&(s=e),e=e.sibling;e=s,e===null?(s=t.child,t.child=null):(s=e.sibling,e.sibling=null),e0(t,!1,s,e,a);break;case"backwards":for(e=null,s=t.child,t.child=null;s!==null;){if(n=s.alternate,n!==null&&ey(n)===null){t.child=s;break}n=s.sibling,s.sibling=e,e=s,s=n}e0(t,!0,e,null,a);break;case"together":e0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ba(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),eo|=t.lanes,!(e&t.childLanes))if(n!==null){if(Xp(n,t,e,!1),(e&t.childLanes)===0)return null}else return null;if(n!==null&&t.child!==n.child)throw Error(k(153));if(t.child!==null){for(n=t.child,e=Ma(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=Ma(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function JS(n,t){return n.lanes&t?!0:(n=n.dependencies,!!(n!==null&&Wm(n)))}function rN(n,t,e){switch(t.tag){case 3:Um(t,t.stateNode.containerInfo),tr(t,Ee,n.memoizedState.cache),qp();break;case 27:case 5:j0(t);break;case 4:Um(t,t.stateNode.containerInfo);break;case 10:tr(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(er(t),t.flags|=128,null):e&t.child.childLanes?FC(n,t,e):(er(t),n=Ba(n,t,e),n!==null?n.sibling:null);er(t);break;case 19:var s=(n.flags&128)!==0;if(i=(e&t.childLanes)!==0,i||(Xp(n,t,e,!1),i=(e&t.childLanes)!==0),s){if(i)return VC(n,t,e);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Gt(Te,Te.current),i)break;return null;case 22:case 23:return t.lanes=0,IC(n,t,e);case 24:tr(t,Ee,n.memoizedState.cache)}return Ba(n,t,e)}function zC(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps)Be=!0;else{if(!JS(n,e)&&!(t.flags&128))return Be=!1,rN(n,t,e);Be=!!(n.flags&131072)}else Be=!1,mt&&t.flags&1048576&&U_(t,Km,t.index);switch(t.lanes=0,t.tag){case 16:t:{n=t.pendingProps;var i=t.elementType,s=i._init;if(i=s(i._payload),t.type=i,typeof i=="function")NS(i)?(n=ql(i,n),t.tag=1,t=g1(null,t,i,n,e)):(t.tag=0,t=fb(null,t,i,n,e));else{if(i!=null){if(s=i.$$typeof,s===AS){t.tag=11,t=h1(null,t,i,n,e);break t}else if(s===SS){t.tag=14,t=d1(null,t,i,n,e);break t}}throw t=H0(i)||i,Error(k(306,t,""))}}return t;case 0:return fb(n,t,t.type,t.pendingProps,e);case 1:return i=t.type,s=ql(i,t.pendingProps),g1(n,t,i,s,e);case 3:t:{if(Um(t,t.stateNode.containerInfo),n===null)throw Error(k(387));i=t.pendingProps;var a=t.memoizedState;s=a.element,ab(n,t),Ed(t,i,null,e);var r=t.memoizedState;if(i=r.cache,tr(t,Ee,i),i!==a.cache&&nb(t,[Ee],e,!0),wd(),i=r.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=m1(n,t,i,e);break t}else if(i!==s){s=xi(Error(k(424)),t),zd(s),t=m1(n,t,i,e);break t}else{switch(n=t.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(te=Qi(n.firstChild),vn=t,mt=!0,Bl=null,Ts=!0,e=RC(t,null,i,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling}else{if(qp(),i===s){t=Ba(n,t,e);break t}qe(n,t,i,e)}t=t.child}return t;case 26:return tm(n,t),n===null?(e=N1(t.type,null,t.pendingProps,null))?t.memoizedState=e:mt||(e=t.type,n=t.pendingProps,i=hy(qr.current).createElement(e),i[rn]=t,i[Nn]=n,We(i,e,n),ke(i),t.stateNode=i):t.memoizedState=N1(t.type,n.memoizedProps,t.pendingProps,n.memoizedState),null;case 27:return j0(t),n===null&&mt&&(i=t.stateNode=_R(t.type,t.pendingProps,qr.current),vn=t,Ts=!0,s=te,co(t.type)?(Rb=s,te=Qi(i.firstChild)):te=s),qe(n,t,t.pendingProps.children,e),tm(n,t),n===null&&(t.flags|=4194304),t.child;case 5:return n===null&&mt&&((s=i=te)&&(i=NN(i,t.type,t.pendingProps,Ts),i!==null?(t.stateNode=i,vn=t,te=Qi(i.firstChild),Ts=!1,s=!0):s=!1),s||Ul(t)),j0(t),s=t.type,a=t.pendingProps,r=n!==null?n.memoizedProps:null,i=a.children,xb(s,a)?i=null:r!==null&&xb(s,r)&&(t.flags|=32),t.memoizedState!==null&&(s=US(n,t,ZP,null,null,e),Xd._currentValue=s),tm(n,t),qe(n,t,i,e),t.child;case 6:return n===null&&mt&&((n=e=te)&&(e=kN(e,t.pendingProps,Ts),e!==null?(t.stateNode=e,vn=t,te=null,n=!0):n=!1),n||Ul(t)),null;case 13:return FC(n,t,e);case 4:return Um(t,t.stateNode.containerInfo),i=t.pendingProps,n===null?t.child=lh(t,null,i,e):qe(n,t,i,e),t.child;case 11:return h1(n,t,t.type,t.pendingProps,e);case 7:return qe(n,t,t.pendingProps,e),t.child;case 8:return qe(n,t,t.pendingProps.children,e),t.child;case 12:return qe(n,t,t.pendingProps.children,e),t.child;case 10:return i=t.pendingProps,tr(t,t.type,i.value),qe(n,t,i.children,e),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,jl(t),s=on(s),i=i(s),t.flags|=1,qe(n,t,i,e),t.child;case 14:return d1(n,t,t.type,t.pendingProps,e);case 15:return BC(n,t,t.type,t.pendingProps,e);case 19:return VC(n,t,e);case 31:return i=t.pendingProps,e=t.mode,i={mode:i.mode,children:i.children},n===null?(e=sy(i,e),e.ref=t.ref,t.child=e,e.return=t,t=e):(e=Ma(n.child,i),e.ref=t.ref,t.child=e,e.return=t,t=e),t;case 22:return IC(n,t,e);case 24:return jl(t),i=on(Ee),n===null?(s=FS(),s===null&&(s=kt,a=IS(),s.pooledCache=a,a.refCount++,a!==null&&(s.pooledCacheLanes|=e),s=a),t.memoizedState={parent:i,cache:s},VS(t),tr(t,Ee,s)):(n.lanes&e&&(ab(n,t),Ed(t,null,null,e),wd()),s=n.memoizedState,a=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),tr(t,Ee,i)):(i=a.cache,tr(t,Ee,i),i!==s.cache&&nb(t,[Ee],e,!0))),qe(n,t,t.pendingProps.children,e),t.child;case 29:throw t.pendingProps}throw Error(k(156,t.tag))}function Hs(n){n.flags|=4}function v1(n,t){if(t.type!=="stylesheet"||t.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!MR(t)){if(t=Li.current,t!==null&&((ht&4194048)===ht?Ds!==null:(ht&62914560)!==ht&&!(ht&536870912)||t!==Ds))throw Ad=sb,q_;n.flags|=8192}}function Dg(n,t){t!==null&&(n.flags|=4),n.flags&16384&&(t=n.tag!==22?d_():536870912,n.lanes|=t,uh|=t)}function kh(n,t){if(!mt)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Xt(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,i=0;if(t)for(var s=n.child;s!==null;)e|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)e|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=i,n.childLanes=e,t}function oN(n,t,e){var i=t.pendingProps;switch(BS(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(t),null;case 1:return Xt(t),null;case 3:return e=t.stateNode,i=null,n!==null&&(i=n.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Da(Ee),nh(),e.pendingContext&&(e.context=e.pendingContext,e.pendingContext=null),(n===null||n.child===null)&&(Ph(t)?Hs(t):n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$E())),Xt(t),null;case 26:return e=t.memoizedState,n===null?(Hs(t),e!==null?(Xt(t),v1(t,e)):(Xt(t),t.flags&=-16777217)):e?e!==n.memoizedState?(Hs(t),Xt(t),v1(t,e)):(Xt(t),t.flags&=-16777217):(n.memoizedProps!==i&&Hs(t),Xt(t),t.flags&=-16777217),null;case 27:jm(t),e=qr.current;var s=t.type;if(n!==null&&t.stateNode!=null)n.memoizedProps!==i&&Hs(t);else{if(!i){if(t.stateNode===null)throw Error(k(166));return Xt(t),null}n=Rs.current,Ph(t)?XE(t):(n=_R(s,i,e),t.stateNode=n,Hs(t))}return Xt(t),null;case 5:if(jm(t),e=t.type,n!==null&&t.stateNode!=null)n.memoizedProps!==i&&Hs(t);else{if(!i){if(t.stateNode===null)throw Error(k(166));return Xt(t),null}if(n=Rs.current,Ph(t))XE(t);else{switch(s=hy(qr.current),n){case 1:n=s.createElementNS("http://www.w3.org/2000/svg",e);break;case 2:n=s.createElementNS("http://www.w3.org/1998/Math/MathML",e);break;default:switch(e){case"svg":n=s.createElementNS("http://www.w3.org/2000/svg",e);break;case"math":n=s.createElementNS("http://www.w3.org/1998/Math/MathML",e);break;case"script":n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?n.multiple=!0:i.size&&(n.size=i.size);break;default:n=typeof i.is=="string"?s.createElement(e,{is:i.is}):s.createElement(e)}}n[rn]=t,n[Nn]=i;t:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)n.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break t;for(;s.sibling===null;){if(s.return===null||s.return===t)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=n;t:switch(We(n,e,i),e){case"button":case"input":case"select":case"textarea":n=!!i.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Hs(t)}}return Xt(t),t.flags&=-16777217,null;case 6:if(n&&t.stateNode!=null)n.memoizedProps!==i&&Hs(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(k(166));if(n=qr.current,Ph(t)){if(n=t.stateNode,e=t.memoizedProps,i=null,s=vn,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}n[rn]=t,n=!!(n.nodeValue===e||i!==null&&i.suppressHydrationWarning===!0||ER(n.nodeValue,e)),n||Ul(t)}else n=hy(n).createTextNode(i),n[rn]=t,t.stateNode=n}return Xt(t),null;case 13:if(i=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(s=Ph(t),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(k(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(k(317));s[rn]=t}else qp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xt(t),s=!1}else s=$E(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Ra(t),t):(Ra(t),null)}if(Ra(t),t.flags&128)return t.lanes=e,t;if(e=i!==null,n=n!==null&&n.memoizedState!==null,e){i=t.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool);var a=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==s&&(i.flags|=2048)}return e!==n&&e&&(t.child.flags|=8192),Dg(t,t.updateQueue),Xt(t),null;case 4:return nh(),n===null&&ow(t.stateNode.containerInfo),Xt(t),null;case 10:return Da(t.type),Xt(t),null;case 19:if(Ie(Te),s=t.memoizedState,s===null)return Xt(t),null;if(i=(t.flags&128)!==0,a=s.rendering,a===null)if(i)kh(s,!1);else{if(ee!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(a=ey(n),a!==null){for(t.flags|=128,kh(s,!1),n=a.updateQueue,t.updateQueue=n,Dg(t,n),t.subtreeFlags=0,n=e,e=t.child;e!==null;)H_(e,n),e=e.sibling;return Gt(Te,Te.current&1|2),t.child}n=n.sibling}s.tail!==null&&Ms()>ry&&(t.flags|=128,i=!0,kh(s,!1),t.lanes=4194304)}else{if(!i)if(n=ey(a),n!==null){if(t.flags|=128,i=!0,n=n.updateQueue,t.updateQueue=n,Dg(t,n),kh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!mt)return Xt(t),null}else 2*Ms()-s.renderingStartTime>ry&&e!==536870912&&(t.flags|=128,i=!0,kh(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ms(),t.sibling=null,n=Te.current,Gt(Te,i?n&1|2:n&1),t):(Xt(t),null);case 22:case 23:return Ra(t),zS(),i=t.memoizedState!==null,n!==null?n.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?e&536870912&&!(t.flags&128)&&(Xt(t),t.subtreeFlags&6&&(t.flags|=8192)):Xt(t),e=t.updateQueue,e!==null&&Dg(t,e.retryQueue),e=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==e&&(t.flags|=2048),n!==null&&Ie(Il),null;case 24:return e=null,n!==null&&(e=n.memoizedState.cache),t.memoizedState.cache!==e&&(t.flags|=2048),Da(Ee),Xt(t),null;case 25:return null;case 30:return null}throw Error(k(156,t.tag))}function lN(n,t){switch(BS(t),t.tag){case 1:return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return Da(Ee),nh(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 26:case 27:case 5:return jm(t),null;case 13:if(Ra(t),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(k(340));qp()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return Ie(Te),null;case 4:return nh(),null;case 10:return Da(t.type),null;case 22:case 23:return Ra(t),zS(),n!==null&&Ie(Il),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 24:return Da(Ee),null;case 25:return null;default:return null}}function HC(n,t){switch(BS(t),t.tag){case 3:Da(Ee),nh();break;case 26:case 27:case 5:jm(t);break;case 4:nh();break;case 13:Ra(t);break;case 19:Ie(Te);break;case 10:Da(t.type);break;case 22:case 23:Ra(t),zS(),n!==null&&Ie(Il);break;case 24:Da(Ee)}}function Qp(n,t){try{var e=t.updateQueue,i=e!==null?e.lastEffect:null;if(i!==null){var s=i.next;e=s;do{if((e.tag&n)===n){i=void 0;var a=e.create,r=e.inst;i=a(),r.destroy=i}e=e.next}while(e!==s)}}catch(o){Lt(t,t.return,o)}}function to(n,t,e){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var a=s.next;i=a;do{if((i.tag&n)===n){var r=i.inst,o=r.destroy;if(o!==void 0){r.destroy=void 0,s=t;var l=e,c=o;try{c()}catch(h){Lt(s,l,h)}}}i=i.next}while(i!==a)}}catch(h){Lt(t,t.return,h)}}function UC(n){var t=n.updateQueue;if(t!==null){var e=n.stateNode;try{$_(t,e)}catch(i){Lt(n,n.return,i)}}}function jC(n,t,e){e.props=ql(n.type,n.memoizedProps),e.state=n.memoizedState;try{e.componentWillUnmount()}catch(i){Lt(n,t,i)}}function xd(n,t){try{var e=n.ref;if(e!==null){switch(n.tag){case 26:case 27:case 5:var i=n.stateNode;break;case 30:i=n.stateNode;break;default:i=n.stateNode}typeof e=="function"?n.refCleanup=e(i):e.current=i}}catch(s){Lt(n,t,s)}}function Cs(n,t){var e=n.ref,i=n.refCleanup;if(e!==null)if(typeof i=="function")try{i()}catch(s){Lt(n,t,s)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof e=="function")try{e(null)}catch(s){Lt(n,t,s)}else e.current=null}function GC(n){var t=n.type,e=n.memoizedProps,i=n.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":e.autoFocus&&i.focus();break t;case"img":e.src?i.src=e.src:e.srcSet&&(i.srcset=e.srcSet)}}catch(s){Lt(n,n.return,s)}}function n0(n,t,e){try{var i=n.stateNode;MN(i,n.type,e,t),i[Nn]=t}catch(s){Lt(n,n.return,s)}}function qC(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&co(n.type)||n.tag===4}function i0(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||qC(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&co(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function gb(n,t,e){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e).insertBefore(n,t):(t=e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,t.appendChild(n),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=dv));else if(i!==4&&(i===27&&co(n.type)&&(e=n.stateNode,t=null),n=n.child,n!==null))for(gb(n,t,e),n=n.sibling;n!==null;)gb(n,t,e),n=n.sibling}function ay(n,t,e){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(i!==4&&(i===27&&co(n.type)&&(e=n.stateNode),n=n.child,n!==null))for(ay(n,t,e),n=n.sibling;n!==null;)ay(n,t,e),n=n.sibling}function XC(n){var t=n.stateNode,e=n.memoizedProps;try{for(var i=n.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);We(t,i,e),t[rn]=n,t[Nn]=e}catch(a){Lt(n,n.return,a)}}var Ea=!1,ue=!1,s0=!1,b1=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function uN(n,t){if(n=n.containerInfo,Eb=gy,n=P_(n),LS(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else t:{e=(e=n.ownerDocument)&&e.defaultView||window;var i=e.getSelection&&e.getSelection();if(i&&i.rangeCount!==0){e=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{e.nodeType,a.nodeType}catch{e=null;break t}var r=0,o=-1,l=-1,c=0,h=0,d=n,f=null;e:for(;;){for(var p;d!==e||s!==0&&d.nodeType!==3||(o=r+s),d!==a||i!==0&&d.nodeType!==3||(l=r+i),d.nodeType===3&&(r+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===n)break e;if(f===e&&++c===s&&(o=r),f===a&&++h===i&&(l=r),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}e=o===-1||l===-1?null:{start:o,end:l}}else e=null}e=e||{start:0,end:0}}else e=null;for(Tb={focusedElem:n,selectionRange:e},gy=!1,Ne=t;Ne!==null;)if(t=Ne,n=t.child,(t.subtreeFlags&1024)!==0&&n!==null)n.return=t,Ne=n;else for(;Ne!==null;){switch(t=Ne,a=t.alternate,n=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&a!==null){n=void 0,e=t,s=a.memoizedProps,a=a.memoizedState,i=e.stateNode;try{var y=ql(e.type,s,e.elementType===e.type);n=i.getSnapshotBeforeUpdate(y,a),i.__reactInternalSnapshotBeforeUpdate=n}catch(m){Lt(e,e.return,m)}}break;case 3:if(n&1024){if(n=t.stateNode.containerInfo,e=n.nodeType,e===9)_b(n);else if(e===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":_b(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(k(163))}if(n=t.sibling,n!==null){n.return=t.return,Ne=n;break}Ne=t.return}}function YC(n,t,e){var i=e.flags;switch(e.tag){case 0:case 11:case 15:$a(n,e),i&4&&Qp(5,e);break;case 1:if($a(n,e),i&4)if(n=e.stateNode,t===null)try{n.componentDidMount()}catch(r){Lt(e,e.return,r)}else{var s=ql(e.type,t.memoizedProps);t=t.memoizedState;try{n.componentDidUpdate(s,t,n.__reactInternalSnapshotBeforeUpdate)}catch(r){Lt(e,e.return,r)}}i&64&&UC(e),i&512&&xd(e,e.return);break;case 3:if($a(n,e),i&64&&(n=e.updateQueue,n!==null)){if(t=null,e.child!==null)switch(e.child.tag){case 27:case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}try{$_(n,t)}catch(r){Lt(e,e.return,r)}}break;case 27:t===null&&i&4&&XC(e);case 26:case 5:$a(n,e),t===null&&i&4&&GC(e),i&512&&xd(e,e.return);break;case 12:$a(n,e);break;case 13:$a(n,e),i&4&&WC(n,e),i&64&&(n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(e=vN.bind(null,e),BN(n,e))));break;case 22:if(i=e.memoizedState!==null||Ea,!i){t=t!==null&&t.memoizedState!==null||ue,s=Ea;var a=ue;Ea=i,(ue=t)&&!a?Ka(n,e,(e.subtreeFlags&8772)!==0):$a(n,e),Ea=s,ue=a}break;case 30:break;default:$a(n,e)}}function $C(n){var t=n.alternate;t!==null&&(n.alternate=null,$C(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&xS(t)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ht=null,Dn=!1;function Us(n,t,e){for(e=e.child;e!==null;)KC(n,t,e),e=e.sibling}function KC(n,t,e){if(ii&&typeof ii.onCommitFiberUnmount=="function")try{ii.onCommitFiberUnmount(zp,e)}catch{}switch(e.tag){case 26:ue||Cs(e,t),Us(n,t,e),e.memoizedState?e.memoizedState.count--:e.stateNode&&(e=e.stateNode,e.parentNode.removeChild(e));break;case 27:ue||Cs(e,t);var i=Ht,s=Dn;co(e.type)&&(Ht=e.stateNode,Dn=!1),Us(n,t,e),Md(e.stateNode),Ht=i,Dn=s;break;case 5:ue||Cs(e,t);case 6:if(i=Ht,s=Dn,Ht=null,Us(n,t,e),Ht=i,Dn=s,Ht!==null)if(Dn)try{(Ht.nodeType===9?Ht.body:Ht.nodeName==="HTML"?Ht.ownerDocument.body:Ht).removeChild(e.stateNode)}catch(a){Lt(e,t,a)}else try{Ht.removeChild(e.stateNode)}catch(a){Lt(e,t,a)}break;case 18:Ht!==null&&(Dn?(n=Ht,L1(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.stateNode),Kd(n)):L1(Ht,e.stateNode));break;case 4:i=Ht,s=Dn,Ht=e.stateNode.containerInfo,Dn=!0,Us(n,t,e),Ht=i,Dn=s;break;case 0:case 11:case 14:case 15:ue||to(2,e,t),ue||to(4,e,t),Us(n,t,e);break;case 1:ue||(Cs(e,t),i=e.stateNode,typeof i.componentWillUnmount=="function"&&jC(e,t,i)),Us(n,t,e);break;case 21:Us(n,t,e);break;case 22:ue=(i=ue)||e.memoizedState!==null,Us(n,t,e),ue=i;break;default:Us(n,t,e)}}function WC(n,t){if(t.memoizedState===null&&(n=t.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Kd(n)}catch(e){Lt(t,t.return,e)}}function cN(n){switch(n.tag){case 13:case 19:var t=n.stateNode;return t===null&&(t=n.stateNode=new b1),t;case 22:return n=n.stateNode,t=n._retryCache,t===null&&(t=n._retryCache=new b1),t;default:throw Error(k(435,n.tag))}}function a0(n,t){var e=cN(n);t.forEach(function(i){var s=bN.bind(null,n,i);e.has(i)||(e.add(i),i.then(s,s))})}function Bn(n,t){var e=t.deletions;if(e!==null)for(var i=0;i<e.length;i++){var s=e[i],a=n,r=t,o=r;t:for(;o!==null;){switch(o.tag){case 27:if(co(o.type)){Ht=o.stateNode,Dn=!1;break t}break;case 5:Ht=o.stateNode,Dn=!1;break t;case 3:case 4:Ht=o.stateNode.containerInfo,Dn=!0;break t}o=o.return}if(Ht===null)throw Error(k(160));KC(a,r,s),Ht=null,Dn=!1,a=s.alternate,a!==null&&(a.return=null),s.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)QC(t,n),t=t.sibling}var Ki=null;function QC(n,t){var e=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Bn(t,n),In(n),i&4&&(to(3,n,n.return),Qp(3,n),to(5,n,n.return));break;case 1:Bn(t,n),In(n),i&512&&(ue||e===null||Cs(e,e.return)),i&64&&Ea&&(n=n.updateQueue,n!==null&&(i=n.callbacks,i!==null&&(e=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=e===null?i:e.concat(i))));break;case 26:var s=Ki;if(Bn(t,n),In(n),i&512&&(ue||e===null||Cs(e,e.return)),i&4){var a=e!==null?e.memoizedState:null;if(i=n.memoizedState,e===null)if(i===null)if(n.stateNode===null){t:{i=n.type,e=n.memoizedProps,s=s.ownerDocument||s;e:switch(i){case"title":a=s.getElementsByTagName("title")[0],(!a||a[jp]||a[rn]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=s.createElement(i),s.head.insertBefore(a,s.querySelector("head > title"))),We(a,i,e),a[rn]=n,ke(a),i=a;break t;case"link":var r=B1("link","href",s).get(i+(e.href||""));if(r){for(var o=0;o<r.length;o++)if(a=r[o],a.getAttribute("href")===(e.href==null||e.href===""?null:e.href)&&a.getAttribute("rel")===(e.rel==null?null:e.rel)&&a.getAttribute("title")===(e.title==null?null:e.title)&&a.getAttribute("crossorigin")===(e.crossOrigin==null?null:e.crossOrigin)){r.splice(o,1);break e}}a=s.createElement(i),We(a,i,e),s.head.appendChild(a);break;case"meta":if(r=B1("meta","content",s).get(i+(e.content||""))){for(o=0;o<r.length;o++)if(a=r[o],a.getAttribute("content")===(e.content==null?null:""+e.content)&&a.getAttribute("name")===(e.name==null?null:e.name)&&a.getAttribute("property")===(e.property==null?null:e.property)&&a.getAttribute("http-equiv")===(e.httpEquiv==null?null:e.httpEquiv)&&a.getAttribute("charset")===(e.charSet==null?null:e.charSet)){r.splice(o,1);break e}}a=s.createElement(i),We(a,i,e),s.head.appendChild(a);break;default:throw Error(k(468,i))}a[rn]=n,ke(a),i=a}n.stateNode=i}else I1(s,n.type,n.stateNode);else n.stateNode=k1(s,i,n.memoizedProps);else a!==i?(a===null?e.stateNode!==null&&(e=e.stateNode,e.parentNode.removeChild(e)):a.count--,i===null?I1(s,n.type,n.stateNode):k1(s,i,n.memoizedProps)):i===null&&n.stateNode!==null&&n0(n,n.memoizedProps,e.memoizedProps)}break;case 27:Bn(t,n),In(n),i&512&&(ue||e===null||Cs(e,e.return)),e!==null&&i&4&&n0(n,n.memoizedProps,e.memoizedProps);break;case 5:if(Bn(t,n),In(n),i&512&&(ue||e===null||Cs(e,e.return)),n.flags&32){s=n.stateNode;try{sh(s,"")}catch(p){Lt(n,n.return,p)}}i&4&&n.stateNode!=null&&(s=n.memoizedProps,n0(n,s,e!==null?e.memoizedProps:s)),i&1024&&(s0=!0);break;case 6:if(Bn(t,n),In(n),i&4){if(n.stateNode===null)throw Error(k(162));i=n.memoizedProps,e=n.stateNode;try{e.nodeValue=i}catch(p){Lt(n,n.return,p)}}break;case 3:if(im=null,s=Ki,Ki=dy(t.containerInfo),Bn(t,n),Ki=s,In(n),i&4&&e!==null&&e.memoizedState.isDehydrated)try{Kd(t.containerInfo)}catch(p){Lt(n,n.return,p)}s0&&(s0=!1,ZC(n));break;case 4:i=Ki,Ki=dy(n.stateNode.containerInfo),Bn(t,n),In(n),Ki=i;break;case 12:Bn(t,n),In(n);break;case 13:Bn(t,n),In(n),n.child.flags&8192&&n.memoizedState!==null!=(e!==null&&e.memoizedState!==null)&&(sw=Ms()),i&4&&(i=n.updateQueue,i!==null&&(n.updateQueue=null,a0(n,i)));break;case 22:s=n.memoizedState!==null;var l=e!==null&&e.memoizedState!==null,c=Ea,h=ue;if(Ea=c||s,ue=h||l,Bn(t,n),ue=h,Ea=c,In(n),i&8192)t:for(t=n.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(e===null||l||Ea||ue||vo(n)),e=null,t=n;;){if(t.tag===5||t.tag===26){if(e===null){l=e=t;try{if(a=l.stateNode,s)r=a.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{o=l.stateNode;var d=l.memoizedProps.style,f=d!=null&&d.hasOwnProperty("display")?d.display:null;o.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(p){Lt(l,l.return,p)}}}else if(t.tag===6){if(e===null){l=t;try{l.stateNode.nodeValue=s?"":l.memoizedProps}catch(p){Lt(l,l.return,p)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===n)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;e===t&&(e=null),t=t.return}e===t&&(e=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=n.updateQueue,i!==null&&(e=i.retryQueue,e!==null&&(i.retryQueue=null,a0(n,e))));break;case 19:Bn(t,n),In(n),i&4&&(i=n.updateQueue,i!==null&&(n.updateQueue=null,a0(n,i)));break;case 30:break;case 21:break;default:Bn(t,n),In(n)}}function In(n){var t=n.flags;if(t&2){try{for(var e,i=n.return;i!==null;){if(qC(i)){e=i;break}i=i.return}if(e==null)throw Error(k(160));switch(e.tag){case 27:var s=e.stateNode,a=i0(n);ay(n,a,s);break;case 5:var r=e.stateNode;e.flags&32&&(sh(r,""),e.flags&=-33);var o=i0(n);ay(n,o,r);break;case 3:case 4:var l=e.stateNode.containerInfo,c=i0(n);gb(n,c,l);break;default:throw Error(k(161))}}catch(h){Lt(n,n.return,h)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function ZC(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var t=n;ZC(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),n=n.sibling}}function $a(n,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)YC(n,t.alternate,t),t=t.sibling}function vo(n){for(n=n.child;n!==null;){var t=n;switch(t.tag){case 0:case 11:case 14:case 15:to(4,t,t.return),vo(t);break;case 1:Cs(t,t.return);var e=t.stateNode;typeof e.componentWillUnmount=="function"&&jC(t,t.return,e),vo(t);break;case 27:Md(t.stateNode);case 26:case 5:Cs(t,t.return),vo(t);break;case 22:t.memoizedState===null&&vo(t);break;case 30:vo(t);break;default:vo(t)}n=n.sibling}}function Ka(n,t,e){for(e=e&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,s=n,a=t,r=a.flags;switch(a.tag){case 0:case 11:case 15:Ka(s,a,e),Qp(4,a);break;case 1:if(Ka(s,a,e),i=a,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){Lt(i,i.return,c)}if(i=a,s=i.updateQueue,s!==null){var o=i.stateNode;try{var l=s.shared.hiddenCallbacks;if(l!==null)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)Y_(l[s],o)}catch(c){Lt(i,i.return,c)}}e&&r&64&&UC(a),xd(a,a.return);break;case 27:XC(a);case 26:case 5:Ka(s,a,e),e&&i===null&&r&4&&GC(a),xd(a,a.return);break;case 12:Ka(s,a,e);break;case 13:Ka(s,a,e),e&&r&4&&WC(s,a);break;case 22:a.memoizedState===null&&Ka(s,a,e),xd(a,a.return);break;case 30:break;default:Ka(s,a,e)}t=t.sibling}}function tw(n,t){var e=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==e&&(n!=null&&n.refCount++,e!=null&&Yp(e))}function ew(n,t){n=null,t.alternate!==null&&(n=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==n&&(t.refCount++,n!=null&&Yp(n))}function ss(n,t,e,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)JC(n,t,e,i),t=t.sibling}function JC(n,t,e,i){var s=t.flags;switch(t.tag){case 0:case 11:case 15:ss(n,t,e,i),s&2048&&Qp(9,t);break;case 1:ss(n,t,e,i);break;case 3:ss(n,t,e,i),s&2048&&(n=null,t.alternate!==null&&(n=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==n&&(t.refCount++,n!=null&&Yp(n)));break;case 12:if(s&2048){ss(n,t,e,i),n=t.stateNode;try{var a=t.memoizedProps,r=a.id,o=a.onPostCommit;typeof o=="function"&&o(r,t.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(l){Lt(t,t.return,l)}}else ss(n,t,e,i);break;case 13:ss(n,t,e,i);break;case 23:break;case 22:a=t.stateNode,r=t.alternate,t.memoizedState!==null?a._visibility&2?ss(n,t,e,i):_d(n,t):a._visibility&2?ss(n,t,e,i):(a._visibility|=2,lu(n,t,e,i,(t.subtreeFlags&10256)!==0)),s&2048&&tw(r,t);break;case 24:ss(n,t,e,i),s&2048&&ew(t.alternate,t);break;default:ss(n,t,e,i)}}function lu(n,t,e,i,s){for(s=s&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var a=n,r=t,o=e,l=i,c=r.flags;switch(r.tag){case 0:case 11:case 15:lu(a,r,o,l,s),Qp(8,r);break;case 23:break;case 22:var h=r.stateNode;r.memoizedState!==null?h._visibility&2?lu(a,r,o,l,s):_d(a,r):(h._visibility|=2,lu(a,r,o,l,s)),s&&c&2048&&tw(r.alternate,r);break;case 24:lu(a,r,o,l,s),s&&c&2048&&ew(r.alternate,r);break;default:lu(a,r,o,l,s)}t=t.sibling}}function _d(n,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var e=n,i=t,s=i.flags;switch(i.tag){case 22:_d(e,i),s&2048&&tw(i.alternate,i);break;case 24:_d(e,i),s&2048&&ew(i.alternate,i);break;default:_d(e,i)}t=t.sibling}}var Yh=8192;function su(n){if(n.subtreeFlags&Yh)for(n=n.child;n!==null;)tR(n),n=n.sibling}function tR(n){switch(n.tag){case 26:su(n),n.flags&Yh&&n.memoizedState!==null&&KN(Ki,n.memoizedState,n.memoizedProps);break;case 5:su(n);break;case 3:case 4:var t=Ki;Ki=dy(n.stateNode.containerInfo),su(n),Ki=t;break;case 22:n.memoizedState===null&&(t=n.alternate,t!==null&&t.memoizedState!==null?(t=Yh,Yh=16777216,su(n),Yh=t):su(n));break;default:su(n)}}function eR(n){var t=n.alternate;if(t!==null&&(n=t.child,n!==null)){t.child=null;do t=n.sibling,n.sibling=null,n=t;while(n!==null)}}function Bh(n){var t=n.deletions;if(n.flags&16){if(t!==null)for(var e=0;e<t.length;e++){var i=t[e];Ne=i,iR(i,n)}eR(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)nR(n),n=n.sibling}function nR(n){switch(n.tag){case 0:case 11:case 15:Bh(n),n.flags&2048&&to(9,n,n.return);break;case 3:Bh(n);break;case 12:Bh(n);break;case 22:var t=n.stateNode;n.memoizedState!==null&&t._visibility&2&&(n.return===null||n.return.tag!==13)?(t._visibility&=-3,em(n)):Bh(n);break;default:Bh(n)}}function em(n){var t=n.deletions;if(n.flags&16){if(t!==null)for(var e=0;e<t.length;e++){var i=t[e];Ne=i,iR(i,n)}eR(n)}for(n=n.child;n!==null;){switch(t=n,t.tag){case 0:case 11:case 15:to(8,t,t.return),em(t);break;case 22:e=t.stateNode,e._visibility&2&&(e._visibility&=-3,em(t));break;default:em(t)}n=n.sibling}}function iR(n,t){for(;Ne!==null;){var e=Ne;switch(e.tag){case 0:case 11:case 15:to(8,e,t);break;case 23:case 22:if(e.memoizedState!==null&&e.memoizedState.cachePool!==null){var i=e.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Yp(e.memoizedState.cache)}if(i=e.child,i!==null)i.return=e,Ne=i;else t:for(e=n;Ne!==null;){i=Ne;var s=i.sibling,a=i.return;if($C(i),i===e){Ne=null;break t}if(s!==null){s.return=a,Ne=s;break t}Ne=a}}}var hN={getCacheForType:function(n){var t=on(Ee),e=t.data.get(n);return e===void 0&&(e=n(),t.data.set(n,e)),e}},dN=typeof WeakMap=="function"?WeakMap:Map,wt=0,kt=null,lt=null,ht=0,St=0,Jn=null,jr=!1,Sh=!1,nw=!1,Ia=0,ee=0,eo=0,Fl=0,iw=0,Ri=0,uh=0,Cd=null,Ln=null,mb=!1,sw=0,ry=1/0,oy=null,$r=null,$e=0,Kr=null,ch=null,qu=0,yb=0,vb=null,sR=null,Rd=0,bb=null;function ai(){if(wt&2&&ht!==0)return ht&-ht;if(K.T!==null){var n=ah;return n!==0?n:rw()}return g_()}function aR(){Ri===0&&(Ri=!(ht&536870912)||mt?h_():536870912);var n=Li.current;return n!==null&&(n.flags|=32),Ri}function ri(n,t,e){(n===kt&&(St===2||St===9)||n.cancelPendingCommit!==null)&&(hh(n,0),Gr(n,ht,Ri,!1)),Up(n,e),(!(wt&2)||n!==kt)&&(n===kt&&(!(wt&2)&&(Fl|=e),ee===4&&Gr(n,ht,Ri,!1)),Bs(n))}function rR(n,t,e){if(wt&6)throw Error(k(327));var i=!e&&(t&124)===0&&(t&n.expiredLanes)===0||Hp(n,t),s=i?gN(n,t):r0(n,t,!0),a=i;do{if(s===0){Sh&&!i&&Gr(n,t,0,!1);break}else{if(e=n.current.alternate,a&&!fN(e)){s=r0(n,t,!1),a=!1;continue}if(s===2){if(a=t,n.errorRecoveryDisabledLanes&a)var r=0;else r=n.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;t:{var o=n;s=Cd;var l=o.current.memoizedState.isDehydrated;if(l&&(hh(o,r).flags|=256),r=r0(o,r,!1),r!==2){if(nw&&!l){o.errorRecoveryDisabledLanes|=a,Fl|=a,s=4;break t}a=Ln,Ln=s,a!==null&&(Ln===null?Ln=a:Ln.push.apply(Ln,a))}s=r}if(a=!1,s!==2)continue}}if(s===1){hh(n,0),Gr(n,t,0,!0);break}t:{switch(i=n,a=s,a){case 0:case 1:throw Error(k(345));case 4:if((t&4194048)!==t)break;case 6:Gr(i,t,Ri,!jr);break t;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(k(329))}if((t&62914560)===t&&(s=sw+300-Ms(),10<s)){if(Gr(i,t,Ri,!jr),Jy(i,0,!0)!==0)break t;i.timeoutHandle=xR(A1.bind(null,i,e,Ln,oy,mb,t,Ri,Fl,uh,jr,a,2,-0,0),s);break t}A1(i,e,Ln,oy,mb,t,Ri,Fl,uh,jr,a,0,-0,0)}}break}while(!0);Bs(n)}function A1(n,t,e,i,s,a,r,o,l,c,h,d,f,p){if(n.timeoutHandle=-1,d=t.subtreeFlags,(d&8192||(d&16785408)===16785408)&&(qd={stylesheets:null,count:0,unsuspend:$N},tR(t),d=WN(),d!==null)){n.cancelPendingCommit=d(w1.bind(null,n,t,a,e,i,s,r,o,l,h,1,f,p)),Gr(n,a,r,!c);return}w1(n,t,a,e,i,s,r,o,l)}function fN(n){for(var t=n;;){var e=t.tag;if((e===0||e===11||e===15)&&t.flags&16384&&(e=t.updateQueue,e!==null&&(e=e.stores,e!==null)))for(var i=0;i<e.length;i++){var s=e[i],a=s.getSnapshot;s=s.value;try{if(!li(a(),s))return!1}catch{return!1}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gr(n,t,e,i){t&=~iw,t&=~Fl,n.suspendedLanes|=t,n.pingedLanes&=~t,i&&(n.warmLanes|=t),i=n.expirationTimes;for(var s=t;0<s;){var a=31-si(s),r=1<<a;i[a]=-1,s&=~r}e!==0&&f_(n,e,t)}function uv(){return wt&6?!0:(Zp(0),!1)}function aw(){if(lt!==null){if(St===0)var n=lt.return;else n=lt,Ca=Ql=null,qS(n),Gu=null,Ud=0,n=lt;for(;n!==null;)HC(n.alternate,n),n=n.return;lt=null}}function hh(n,t){var e=n.timeoutHandle;e!==-1&&(n.timeoutHandle=-1,LN(e)),e=n.cancelPendingCommit,e!==null&&(n.cancelPendingCommit=null,e()),aw(),kt=n,lt=e=Ma(n.current,null),ht=t,St=0,Jn=null,jr=!1,Sh=Hp(n,t),nw=!1,uh=Ri=iw=Fl=eo=ee=0,Ln=Cd=null,mb=!1,t&8&&(t|=t&32);var i=n.entangledLanes;if(i!==0)for(n=n.entanglements,i&=t;0<i;){var s=31-si(i),a=1<<s;t|=n[s],i&=~a}return Ia=t,iv(),e}function oR(n,t){st=null,K.H=ty,t===$p||t===av?(t=ZE(),St=3):t===q_?(t=ZE(),St=4):St=t===kC?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Jn=t,lt===null&&(ee=1,iy(n,xi(t,n.current)))}function lR(){var n=K.H;return K.H=ty,n===null?ty:n}function uR(){var n=K.A;return K.A=hN,n}function Ab(){ee=4,jr||(ht&4194048)!==ht&&Li.current!==null||(Sh=!0),!(eo&134217727)&&!(Fl&134217727)||kt===null||Gr(kt,ht,Ri,!1)}function r0(n,t,e){var i=wt;wt|=2;var s=lR(),a=uR();(kt!==n||ht!==t)&&(oy=null,hh(n,t)),t=!1;var r=ee;t:do try{if(St!==0&&lt!==null){var o=lt,l=Jn;switch(St){case 8:aw(),r=6;break t;case 3:case 2:case 9:case 6:Li.current===null&&(t=!0);var c=St;if(St=0,Jn=null,Ru(n,o,l,c),e&&Sh){r=0;break t}break;default:c=St,St=0,Jn=null,Ru(n,o,l,c)}}pN(),r=ee;break}catch(h){oR(n,h)}while(!0);return t&&n.shellSuspendCounter++,Ca=Ql=null,wt=i,K.H=s,K.A=a,lt===null&&(kt=null,ht=0,iv()),r}function pN(){for(;lt!==null;)cR(lt)}function gN(n,t){var e=wt;wt|=2;var i=lR(),s=uR();kt!==n||ht!==t?(oy=null,ry=Ms()+500,hh(n,t)):Sh=Hp(n,t);t:do try{if(St!==0&&lt!==null){t=lt;var a=Jn;e:switch(St){case 1:St=0,Jn=null,Ru(n,t,a,1);break;case 2:case 9:if(QE(a)){St=0,Jn=null,S1(t);break}t=function(){St!==2&&St!==9||kt!==n||(St=7),Bs(n)},a.then(t,t);break t;case 3:St=7;break t;case 4:St=5;break t;case 7:QE(a)?(St=0,Jn=null,S1(t)):(St=0,Jn=null,Ru(n,t,a,7));break;case 5:var r=null;switch(lt.tag){case 26:r=lt.memoizedState;case 5:case 27:var o=lt;if(!r||MR(r)){St=0,Jn=null;var l=o.sibling;if(l!==null)lt=l;else{var c=o.return;c!==null?(lt=c,cv(c)):lt=null}break e}}St=0,Jn=null,Ru(n,t,a,5);break;case 6:St=0,Jn=null,Ru(n,t,a,6);break;case 8:aw(),ee=6;break t;default:throw Error(k(462))}}mN();break}catch(h){oR(n,h)}while(!0);return Ca=Ql=null,K.H=i,K.A=s,wt=e,lt!==null?0:(kt=null,ht=0,iv(),ee)}function mN(){for(;lt!==null&&!FO();)cR(lt)}function cR(n){var t=zC(n.alternate,n,Ia);n.memoizedProps=n.pendingProps,t===null?cv(n):lt=t}function S1(n){var t=n,e=t.alternate;switch(t.tag){case 15:case 0:t=p1(e,t,t.pendingProps,t.type,void 0,ht);break;case 11:t=p1(e,t,t.pendingProps,t.type.render,t.ref,ht);break;case 5:qS(t);default:HC(e,t),t=lt=H_(t,Ia),t=zC(e,t,Ia)}n.memoizedProps=n.pendingProps,t===null?cv(n):lt=t}function Ru(n,t,e,i){Ca=Ql=null,qS(t),Gu=null,Ud=0;var s=t.return;try{if(aN(n,s,t,e,ht)){ee=1,iy(n,xi(e,n.current)),lt=null;return}}catch(a){if(s!==null)throw lt=s,a;ee=1,iy(n,xi(e,n.current)),lt=null;return}t.flags&32768?(mt||i===1?n=!0:Sh||ht&536870912?n=!1:(jr=n=!0,(i===2||i===9||i===3||i===6)&&(i=Li.current,i!==null&&i.tag===13&&(i.flags|=16384))),hR(t,n)):cv(t)}function cv(n){var t=n;do{if(t.flags&32768){hR(t,jr);return}n=t.return;var e=oN(t.alternate,t,Ia);if(e!==null){lt=e;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=n}while(t!==null);ee===0&&(ee=5)}function hR(n,t){do{var e=lN(n.alternate,n);if(e!==null){e.flags&=32767,lt=e;return}if(e=n.return,e!==null&&(e.flags|=32768,e.subtreeFlags=0,e.deletions=null),!t&&(n=n.sibling,n!==null)){lt=n;return}lt=n=e}while(n!==null);ee=6,lt=null}function w1(n,t,e,i,s,a,r,o,l){n.cancelPendingCommit=null;do hv();while($e!==0);if(wt&6)throw Error(k(327));if(t!==null){if(t===n.current)throw Error(k(177));if(a=t.lanes|t.childLanes,a|=OS,$O(n,e,a,r,o,l),n===kt&&(lt=kt=null,ht=0),ch=t,Kr=n,qu=e,yb=a,vb=s,sR=i,t.subtreeFlags&10256||t.flags&10256?(n.callbackNode=null,n.callbackPriority=0,AN(Gm,function(){return mR(),null})):(n.callbackNode=null,n.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=K.T,K.T=null,s=yt.p,yt.p=2,r=wt,wt|=4;try{uN(n,t,e)}finally{wt=r,yt.p=s,K.T=i}}$e=1,dR(),fR(),pR()}}function dR(){if($e===1){$e=0;var n=Kr,t=ch,e=(t.flags&13878)!==0;if(t.subtreeFlags&13878||e){e=K.T,K.T=null;var i=yt.p;yt.p=2;var s=wt;wt|=4;try{QC(t,n);var a=Tb,r=P_(n.containerInfo),o=a.focusedElem,l=a.selectionRange;if(r!==o&&o&&o.ownerDocument&&O_(o.ownerDocument.documentElement,o)){if(l!==null&&LS(o)){var c=l.start,h=l.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var d=o.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),y=o.textContent.length,m=Math.min(l.start,y),S=l.end===void 0?m:Math.min(l.end,y);!p.extend&&m>S&&(r=S,S=m,m=r);var g=jE(o,m),b=jE(o,S);if(g&&b&&(p.rangeCount!==1||p.anchorNode!==g.node||p.anchorOffset!==g.offset||p.focusNode!==b.node||p.focusOffset!==b.offset)){var A=d.createRange();A.setStart(g.node,g.offset),p.removeAllRanges(),m>S?(p.addRange(A),p.extend(b.node,b.offset)):(A.setEnd(b.node,b.offset),p.addRange(A))}}}}for(d=[],p=o;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<d.length;o++){var T=d[o];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}gy=!!Eb,Tb=Eb=null}finally{wt=s,yt.p=i,K.T=e}}n.current=t,$e=2}}function fR(){if($e===2){$e=0;var n=Kr,t=ch,e=(t.flags&8772)!==0;if(t.subtreeFlags&8772||e){e=K.T,K.T=null;var i=yt.p;yt.p=2;var s=wt;wt|=4;try{YC(n,t.alternate,t)}finally{wt=s,yt.p=i,K.T=e}}$e=3}}function pR(){if($e===4||$e===3){$e=0,VO();var n=Kr,t=ch,e=qu,i=sR;t.subtreeFlags&10256||t.flags&10256?$e=5:($e=0,ch=Kr=null,gR(n,n.pendingLanes));var s=n.pendingLanes;if(s===0&&($r=null),TS(e),t=t.stateNode,ii&&typeof ii.onCommitFiberRoot=="function")try{ii.onCommitFiberRoot(zp,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=K.T,s=yt.p,yt.p=2,K.T=null;try{for(var a=n.onRecoverableError,r=0;r<i.length;r++){var o=i[r];a(o.value,{componentStack:o.stack})}}finally{K.T=t,yt.p=s}}qu&3&&hv(),Bs(n),s=n.pendingLanes,e&4194090&&s&42?n===bb?Rd++:(Rd=0,bb=n):Rd=0,Zp(0)}}function gR(n,t){(n.pooledCacheLanes&=t)===0&&(t=n.pooledCache,t!=null&&(n.pooledCache=null,Yp(t)))}function hv(n){return dR(),fR(),pR(),mR()}function mR(){if($e!==5)return!1;var n=Kr,t=yb;yb=0;var e=TS(qu),i=K.T,s=yt.p;try{yt.p=32>e?32:e,K.T=null,e=vb,vb=null;var a=Kr,r=qu;if($e=0,ch=Kr=null,qu=0,wt&6)throw Error(k(331));var o=wt;if(wt|=4,nR(a.current),JC(a,a.current,r,e),wt=o,Zp(0,!1),ii&&typeof ii.onPostCommitFiberRoot=="function")try{ii.onPostCommitFiberRoot(zp,a)}catch{}return!0}finally{yt.p=s,K.T=i,gR(n,t)}}function E1(n,t,e){t=xi(e,t),t=db(n.stateNode,t,2),n=Yr(n,t,2),n!==null&&(Up(n,2),Bs(n))}function Lt(n,t,e){if(n.tag===3)E1(n,n,e);else for(;t!==null;){if(t.tag===3){E1(t,n,e);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&($r===null||!$r.has(i))){n=xi(e,n),e=PC(2),i=Yr(t,e,2),i!==null&&(NC(e,i,t,n),Up(i,2),Bs(i));break}}t=t.return}}function o0(n,t,e){var i=n.pingCache;if(i===null){i=n.pingCache=new dN;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(e)||(nw=!0,s.add(e),n=yN.bind(null,n,t,e),t.then(n,n))}function yN(n,t,e){var i=n.pingCache;i!==null&&i.delete(t),n.pingedLanes|=n.suspendedLanes&e,n.warmLanes&=~e,kt===n&&(ht&e)===e&&(ee===4||ee===3&&(ht&62914560)===ht&&300>Ms()-sw?!(wt&2)&&hh(n,0):iw|=e,uh===ht&&(uh=0)),Bs(n)}function yR(n,t){t===0&&(t=d_()),n=Ah(n,t),n!==null&&(Up(n,t),Bs(n))}function vN(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),yR(n,e)}function bN(n,t){var e=0;switch(n.tag){case 13:var i=n.stateNode,s=n.memoizedState;s!==null&&(e=s.retryLane);break;case 19:i=n.stateNode;break;case 22:i=n.stateNode._retryCache;break;default:throw Error(k(314))}i!==null&&i.delete(t),yR(n,e)}function AN(n,t){return wS(n,t)}var ly=null,uu=null,Sb=!1,uy=!1,l0=!1,Vl=0;function Bs(n){n!==uu&&n.next===null&&(uu===null?ly=uu=n:uu=uu.next=n),uy=!0,Sb||(Sb=!0,wN())}function Zp(n,t){if(!l0&&uy){l0=!0;do for(var e=!1,i=ly;i!==null;){if(n!==0){var s=i.pendingLanes;if(s===0)var a=0;else{var r=i.suspendedLanes,o=i.pingedLanes;a=(1<<31-si(42|n)+1)-1,a&=s&~(r&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(e=!0,T1(i,a))}else a=ht,a=Jy(i,i===kt?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||Hp(i,a)||(e=!0,T1(i,a));i=i.next}while(e);l0=!1}}function SN(){vR()}function vR(){uy=Sb=!1;var n=0;Vl!==0&&(DN()&&(n=Vl),Vl=0);for(var t=Ms(),e=null,i=ly;i!==null;){var s=i.next,a=bR(i,t);a===0?(i.next=null,e===null?ly=s:e.next=s,s===null&&(uu=e)):(e=i,(n!==0||a&3)&&(uy=!0)),i=s}Zp(n)}function bR(n,t){for(var e=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,a=n.pendingLanes&-62914561;0<a;){var r=31-si(a),o=1<<r,l=s[r];l===-1?(!(o&e)||o&i)&&(s[r]=YO(o,t)):l<=t&&(n.expiredLanes|=o),a&=~o}if(t=kt,e=ht,e=Jy(n,n===t?e:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),i=n.callbackNode,e===0||n===t&&(St===2||St===9)||n.cancelPendingCommit!==null)return i!==null&&i!==null&&Nv(i),n.callbackNode=null,n.callbackPriority=0;if(!(e&3)||Hp(n,e)){if(t=e&-e,t===n.callbackPriority)return t;switch(i!==null&&Nv(i),TS(e)){case 2:case 8:e=u_;break;case 32:e=Gm;break;case 268435456:e=c_;break;default:e=Gm}return i=AR.bind(null,n),e=wS(e,i),n.callbackPriority=t,n.callbackNode=e,t}return i!==null&&i!==null&&Nv(i),n.callbackPriority=2,n.callbackNode=null,2}function AR(n,t){if($e!==0&&$e!==5)return n.callbackNode=null,n.callbackPriority=0,null;var e=n.callbackNode;if(hv()&&n.callbackNode!==e)return null;var i=ht;return i=Jy(n,n===kt?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),i===0?null:(rR(n,i,t),bR(n,Ms()),n.callbackNode!=null&&n.callbackNode===e?AR.bind(null,n):null)}function T1(n,t){if(hv())return null;rR(n,t,!0)}function wN(){ON(function(){wt&6?wS(l_,SN):vR()})}function rw(){return Vl===0&&(Vl=h_()),Vl}function x1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Yg(""+n)}function _1(n,t){var e=t.ownerDocument.createElement("input");return e.name=t.name,e.value=t.value,n.id&&e.setAttribute("form",n.id),t.parentNode.insertBefore(e,t),n=new FormData(n),e.parentNode.removeChild(e),n}function EN(n,t,e,i,s){if(t==="submit"&&e&&e.stateNode===s){var a=x1((s[Nn]||null).action),r=i.submitter;r&&(t=(t=r[Nn]||null)?x1(t.formAction):r.getAttribute("formAction"),t!==null&&(a=t,r=null));var o=new tv("action","action",null,i,s);n.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Vl!==0){var l=r?_1(s,r):new FormData(s);cb(e,{pending:!0,data:l,method:s.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=r?_1(s,r):new FormData(s),cb(e,{pending:!0,data:l,method:s.method,action:a},a,l))},currentTarget:s}]})}}for(var u0=0;u0<Z0.length;u0++){var c0=Z0[u0],TN=c0.toLowerCase(),xN=c0[0].toUpperCase()+c0.slice(1);es(TN,"on"+xN)}es(k_,"onAnimationEnd");es(B_,"onAnimationIteration");es(I_,"onAnimationStart");es("dblclick","onDoubleClick");es("focusin","onFocus");es("focusout","onBlur");es(UP,"onTransitionRun");es(jP,"onTransitionStart");es(GP,"onTransitionCancel");es(F_,"onTransitionEnd");ih("onMouseEnter",["mouseout","mouseover"]);ih("onMouseLeave",["mouseout","mouseover"]);ih("onPointerEnter",["pointerout","pointerover"]);ih("onPointerLeave",["pointerout","pointerover"]);$l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$l("onBeforeInput",["compositionend","keypress","textInput","paste"]);$l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_N=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jd));function SR(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var i=n[e],s=i.event;i=i.listeners;t:{var a=void 0;if(t)for(var r=i.length-1;0<=r;r--){var o=i[r],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break t;a=o,s.currentTarget=c;try{a(s)}catch(h){ny(h)}s.currentTarget=null,a=l}else for(r=0;r<i.length;r++){if(o=i[r],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break t;a=o,s.currentTarget=c;try{a(s)}catch(h){ny(h)}s.currentTarget=null,a=l}}}}function ot(n,t){var e=t[q0];e===void 0&&(e=t[q0]=new Set);var i=n+"__bubble";e.has(i)||(wR(t,n,2,!1),e.add(i))}function h0(n,t,e){var i=0;t&&(i|=4),wR(e,n,i,t)}var Lg="_reactListening"+Math.random().toString(36).slice(2);function ow(n){if(!n[Lg]){n[Lg]=!0,m_.forEach(function(e){e!=="selectionchange"&&(_N.has(e)||h0(e,!1,n),h0(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[Lg]||(t[Lg]=!0,h0("selectionchange",!1,t))}}function wR(n,t,e,i){switch(NR(t)){case 2:var s=JN;break;case 8:s=tk;break;default:s=hw}e=s.bind(null,t,e,n),s=void 0,!K0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?n.addEventListener(t,e,{capture:!0,passive:s}):n.addEventListener(t,e,!0):s!==void 0?n.addEventListener(t,e,{passive:s}):n.addEventListener(t,e,!1)}function d0(n,t,e,i,s){var a=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var o=i.stateNode.containerInfo;if(o===s)break;if(r===4)for(r=i.return;r!==null;){var l=r.tag;if((l===3||l===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;o!==null;){if(r=bu(o),r===null)return;if(l=r.tag,l===5||l===6||l===26||l===27){i=a=r;continue t}o=o.parentNode}}i=i.return}T_(function(){var c=a,h=CS(e),d=[];t:{var f=V_.get(n);if(f!==void 0){var p=tv,y=n;switch(n){case"keypress":if(Kg(e)===0)break t;case"keydown":case"keyup":p=AP;break;case"focusin":y="focus",p=Uv;break;case"focusout":y="blur",p=Uv;break;case"beforeblur":case"afterblur":p=Uv;break;case"click":if(e.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=PE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=lP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=EP;break;case k_:case B_:case I_:p=hP;break;case F_:p=xP;break;case"scroll":case"scrollend":p=rP;break;case"wheel":p=CP;break;case"copy":case"cut":case"paste":p=fP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=kE;break;case"toggle":case"beforetoggle":p=MP}var m=(t&4)!==0,S=!m&&(n==="scroll"||n==="scrollend"),g=m?f!==null?f+"Capture":null:f;m=[];for(var b=c,A;b!==null;){var T=b;if(A=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||A===null||g===null||(T=Id(b,g),T!=null&&m.push(Gd(b,T,A))),S)break;b=b.return}0<m.length&&(f=new p(f,y,null,e,h),d.push({event:f,listeners:m}))}}if(!(t&7)){t:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&e!==$0&&(y=e.relatedTarget||e.fromElement)&&(bu(y)||y[vh]))break t;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=e.relatedTarget||e.toElement,p=c,y=y?bu(y):null,y!==null&&(S=Vp(y),m=y.tag,y!==S||m!==5&&m!==27&&m!==6)&&(y=null)):(p=null,y=c),p!==y)){if(m=PE,T="onMouseLeave",g="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(m=kE,T="onPointerLeave",g="onPointerEnter",b="pointer"),S=p==null?f:Xh(p),A=y==null?f:Xh(y),f=new m(T,b+"leave",p,e,h),f.target=S,f.relatedTarget=A,T=null,bu(h)===c&&(m=new m(g,b+"enter",y,e,h),m.target=A,m.relatedTarget=S,T=m),S=T,p&&y)e:{for(m=p,g=y,b=0,A=m;A;A=au(A))b++;for(A=0,T=g;T;T=au(T))A++;for(;0<b-A;)m=au(m),b--;for(;0<A-b;)g=au(g),A--;for(;b--;){if(m===g||g!==null&&m===g.alternate)break e;m=au(m),g=au(g)}m=null}else m=null;p!==null&&C1(d,f,p,m,!1),y!==null&&S!==null&&C1(d,S,y,m,!0)}}t:{if(f=c?Xh(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var x=VE;else if(FE(f))if(D_)x=VP;else{x=IP;var C=BP}else p=f.nodeName,!p||p.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?c&&_S(c.elementType)&&(x=VE):x=FP;if(x&&(x=x(n,c))){M_(d,x,e,h);break t}C&&C(n,f,c),n==="focusout"&&c&&f.type==="number"&&c.memoizedProps.value!=null&&Y0(f,"number",f.value)}switch(C=c?Xh(c):window,n){case"focusin":(FE(C)||C.contentEditable==="true")&&(wu=C,W0=c,vd=null);break;case"focusout":vd=W0=wu=null;break;case"mousedown":Q0=!0;break;case"contextmenu":case"mouseup":case"dragend":Q0=!1,GE(d,e,h);break;case"selectionchange":if(HP)break;case"keydown":case"keyup":GE(d,e,h)}var _;if(DS)t:{switch(n){case"compositionstart":var M="onCompositionStart";break t;case"compositionend":M="onCompositionEnd";break t;case"compositionupdate":M="onCompositionUpdate";break t}M=void 0}else Su?C_(n,e)&&(M="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(M="onCompositionStart");M&&(__&&e.locale!=="ko"&&(Su||M!=="onCompositionStart"?M==="onCompositionEnd"&&Su&&(_=x_()):(Ur=h,RS="value"in Ur?Ur.value:Ur.textContent,Su=!0)),C=cy(c,M),0<C.length&&(M=new NE(M,n,null,e,h),d.push({event:M,listeners:C}),_?M.data=_:(_=R_(e),_!==null&&(M.data=_)))),(_=LP?OP(n,e):PP(n,e))&&(M=cy(c,"onBeforeInput"),0<M.length&&(C=new NE("onBeforeInput","beforeinput",null,e,h),d.push({event:C,listeners:M}),C.data=_)),EN(d,n,c,e,h)}SR(d,t)})}function Gd(n,t,e){return{instance:n,listener:t,currentTarget:e}}function cy(n,t){for(var e=t+"Capture",i=[];n!==null;){var s=n,a=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||a===null||(s=Id(n,e),s!=null&&i.unshift(Gd(n,s,a)),s=Id(n,t),s!=null&&i.push(Gd(n,s,a))),n.tag===3)return i;n=n.return}return[]}function au(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function C1(n,t,e,i,s){for(var a=t._reactName,r=[];e!==null&&e!==i;){var o=e,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===i)break;o!==5&&o!==26&&o!==27||c===null||(l=c,s?(c=Id(e,a),c!=null&&r.unshift(Gd(e,c,l))):s||(c=Id(e,a),c!=null&&r.push(Gd(e,c,l)))),e=e.return}r.length!==0&&n.push({event:t,listeners:r})}var CN=/\r\n?/g,RN=/\u0000|\uFFFD/g;function R1(n){return(typeof n=="string"?n:""+n).replace(CN,`
`).replace(RN,"")}function ER(n,t){return t=R1(t),R1(n)===t}function dv(){}function Tt(n,t,e,i,s,a){switch(e){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||sh(n,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&sh(n,""+i);break;case"className":Tg(n,"class",i);break;case"tabIndex":Tg(n,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Tg(n,e,i);break;case"style":E_(n,i,a);break;case"data":if(t!=="object"){Tg(n,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||e!=="href")){n.removeAttribute(e);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){n.removeAttribute(e);break}i=Yg(""+i),n.setAttribute(e,i);break;case"action":case"formAction":if(typeof i=="function"){n.setAttribute(e,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(e==="formAction"?(t!=="input"&&Tt(n,t,"name",s.name,s,null),Tt(n,t,"formEncType",s.formEncType,s,null),Tt(n,t,"formMethod",s.formMethod,s,null),Tt(n,t,"formTarget",s.formTarget,s,null)):(Tt(n,t,"encType",s.encType,s,null),Tt(n,t,"method",s.method,s,null),Tt(n,t,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){n.removeAttribute(e);break}i=Yg(""+i),n.setAttribute(e,i);break;case"onClick":i!=null&&(n.onclick=dv);break;case"onScroll":i!=null&&ot("scroll",n);break;case"onScrollEnd":i!=null&&ot("scrollend",n);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(k(61));if(e=i.__html,e!=null){if(s.children!=null)throw Error(k(60));n.innerHTML=e}}break;case"multiple":n.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":n.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){n.removeAttribute("xlink:href");break}e=Yg(""+i),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(e,""+i):n.removeAttribute(e);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(e,""):n.removeAttribute(e);break;case"capture":case"download":i===!0?n.setAttribute(e,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(e,i):n.removeAttribute(e);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?n.setAttribute(e,i):n.removeAttribute(e);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?n.removeAttribute(e):n.setAttribute(e,i);break;case"popover":ot("beforetoggle",n),ot("toggle",n),Xg(n,"popover",i);break;case"xlinkActuate":zs(n,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":zs(n,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":zs(n,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":zs(n,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":zs(n,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":zs(n,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":zs(n,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":zs(n,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":zs(n,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Xg(n,"is",i);break;case"innerText":case"textContent":break;default:(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(e=sP.get(e)||e,Xg(n,e,i))}}function wb(n,t,e,i,s,a){switch(e){case"style":E_(n,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(k(61));if(e=i.__html,e!=null){if(s.children!=null)throw Error(k(60));n.innerHTML=e}}break;case"children":typeof i=="string"?sh(n,i):(typeof i=="number"||typeof i=="bigint")&&sh(n,""+i);break;case"onScroll":i!=null&&ot("scroll",n);break;case"onScrollEnd":i!=null&&ot("scrollend",n);break;case"onClick":i!=null&&(n.onclick=dv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!y_.hasOwnProperty(e))t:{if(e[0]==="o"&&e[1]==="n"&&(s=e.endsWith("Capture"),t=e.slice(2,s?e.length-7:void 0),a=n[Nn]||null,a=a!=null?a[e]:null,typeof a=="function"&&n.removeEventListener(t,a,s),typeof i=="function")){typeof a!="function"&&a!==null&&(e in n?n[e]=null:n.hasAttribute(e)&&n.removeAttribute(e)),n.addEventListener(t,i,s);break t}e in n?n[e]=i:i===!0?n.setAttribute(e,""):Xg(n,e,i)}}}function We(n,t,e){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",n),ot("load",n);var i=!1,s=!1,a;for(a in e)if(e.hasOwnProperty(a)){var r=e[a];if(r!=null)switch(a){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(k(137,t));default:Tt(n,t,a,r,e,null)}}s&&Tt(n,t,"srcSet",e.srcSet,e,null),i&&Tt(n,t,"src",e.src,e,null);return;case"input":ot("invalid",n);var o=a=r=s=null,l=null,c=null;for(i in e)if(e.hasOwnProperty(i)){var h=e[i];if(h!=null)switch(i){case"name":s=h;break;case"type":r=h;break;case"checked":l=h;break;case"defaultChecked":c=h;break;case"value":a=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(k(137,t));break;default:Tt(n,t,i,h,e,null)}}A_(n,a,o,l,c,r,s,!1),qm(n);return;case"select":ot("invalid",n),i=r=a=null;for(s in e)if(e.hasOwnProperty(s)&&(o=e[s],o!=null))switch(s){case"value":a=o;break;case"defaultValue":r=o;break;case"multiple":i=o;default:Tt(n,t,s,o,e,null)}t=a,e=r,n.multiple=!!i,t!=null?Vu(n,!!i,t,!1):e!=null&&Vu(n,!!i,e,!0);return;case"textarea":ot("invalid",n),a=s=i=null;for(r in e)if(e.hasOwnProperty(r)&&(o=e[r],o!=null))switch(r){case"value":i=o;break;case"defaultValue":s=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(k(91));break;default:Tt(n,t,r,o,e,null)}w_(n,i,s,a),qm(n);return;case"option":for(l in e)if(e.hasOwnProperty(l)&&(i=e[l],i!=null))switch(l){case"selected":n.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Tt(n,t,l,i,e,null)}return;case"dialog":ot("beforetoggle",n),ot("toggle",n),ot("cancel",n),ot("close",n);break;case"iframe":case"object":ot("load",n);break;case"video":case"audio":for(i=0;i<jd.length;i++)ot(jd[i],n);break;case"image":ot("error",n),ot("load",n);break;case"details":ot("toggle",n);break;case"embed":case"source":case"link":ot("error",n),ot("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in e)if(e.hasOwnProperty(c)&&(i=e[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(k(137,t));default:Tt(n,t,c,i,e,null)}return;default:if(_S(t)){for(h in e)e.hasOwnProperty(h)&&(i=e[h],i!==void 0&&wb(n,t,h,i,e,void 0));return}}for(o in e)e.hasOwnProperty(o)&&(i=e[o],i!=null&&Tt(n,t,o,i,e,null))}function MN(n,t,e,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,r=null,o=null,l=null,c=null,h=null;for(p in e){var d=e[p];if(e.hasOwnProperty(p)&&d!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=d;default:i.hasOwnProperty(p)||Tt(n,t,p,null,i,d)}}for(var f in i){var p=i[f];if(d=e[f],i.hasOwnProperty(f)&&(p!=null||d!=null))switch(f){case"type":a=p;break;case"name":s=p;break;case"checked":c=p;break;case"defaultChecked":h=p;break;case"value":r=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(k(137,t));break;default:p!==d&&Tt(n,t,f,p,i,d)}}X0(n,r,o,l,c,h,a,s);return;case"select":p=r=o=f=null;for(a in e)if(l=e[a],e.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":p=l;default:i.hasOwnProperty(a)||Tt(n,t,a,null,i,l)}for(s in i)if(a=i[s],l=e[s],i.hasOwnProperty(s)&&(a!=null||l!=null))switch(s){case"value":f=a;break;case"defaultValue":o=a;break;case"multiple":r=a;default:a!==l&&Tt(n,t,s,a,i,l)}t=o,e=r,i=p,f!=null?Vu(n,!!e,f,!1):!!i!=!!e&&(t!=null?Vu(n,!!e,t,!0):Vu(n,!!e,e?[]:"",!1));return;case"textarea":p=f=null;for(o in e)if(s=e[o],e.hasOwnProperty(o)&&s!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Tt(n,t,o,null,i,s)}for(r in i)if(s=i[r],a=e[r],i.hasOwnProperty(r)&&(s!=null||a!=null))switch(r){case"value":f=s;break;case"defaultValue":p=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(k(91));break;default:s!==a&&Tt(n,t,r,s,i,a)}S_(n,f,p);return;case"option":for(var y in e)if(f=e[y],e.hasOwnProperty(y)&&f!=null&&!i.hasOwnProperty(y))switch(y){case"selected":n.selected=!1;break;default:Tt(n,t,y,null,i,f)}for(l in i)if(f=i[l],p=e[l],i.hasOwnProperty(l)&&f!==p&&(f!=null||p!=null))switch(l){case"selected":n.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Tt(n,t,l,f,i,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in e)f=e[m],e.hasOwnProperty(m)&&f!=null&&!i.hasOwnProperty(m)&&Tt(n,t,m,null,i,f);for(c in i)if(f=i[c],p=e[c],i.hasOwnProperty(c)&&f!==p&&(f!=null||p!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(k(137,t));break;default:Tt(n,t,c,f,i,p)}return;default:if(_S(t)){for(var S in e)f=e[S],e.hasOwnProperty(S)&&f!==void 0&&!i.hasOwnProperty(S)&&wb(n,t,S,void 0,i,f);for(h in i)f=i[h],p=e[h],!i.hasOwnProperty(h)||f===p||f===void 0&&p===void 0||wb(n,t,h,f,i,p);return}}for(var g in e)f=e[g],e.hasOwnProperty(g)&&f!=null&&!i.hasOwnProperty(g)&&Tt(n,t,g,null,i,f);for(d in i)f=i[d],p=e[d],!i.hasOwnProperty(d)||f===p||f==null&&p==null||Tt(n,t,d,f,i,p)}var Eb=null,Tb=null;function hy(n){return n.nodeType===9?n:n.ownerDocument}function M1(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function TR(n,t){if(n===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&t==="foreignObject"?0:n}function xb(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var f0=null;function DN(){var n=window.event;return n&&n.type==="popstate"?n===f0?!1:(f0=n,!0):(f0=null,!1)}var xR=typeof setTimeout=="function"?setTimeout:void 0,LN=typeof clearTimeout=="function"?clearTimeout:void 0,D1=typeof Promise=="function"?Promise:void 0,ON=typeof queueMicrotask=="function"?queueMicrotask:typeof D1<"u"?function(n){return D1.resolve(null).then(n).catch(PN)}:xR;function PN(n){setTimeout(function(){throw n})}function co(n){return n==="head"}function L1(n,t){var e=t,i=0,s=0;do{var a=e.nextSibling;if(n.removeChild(e),a&&a.nodeType===8)if(e=a.data,e==="/$"){if(0<i&&8>i){e=i;var r=n.ownerDocument;if(e&1&&Md(r.documentElement),e&2&&Md(r.body),e&4)for(e=r.head,Md(e),r=e.firstChild;r;){var o=r.nextSibling,l=r.nodeName;r[jp]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&r.rel.toLowerCase()==="stylesheet"||e.removeChild(r),r=o}}if(s===0){n.removeChild(a),Kd(t);return}s--}else e==="$"||e==="$?"||e==="$!"?s++:i=e.charCodeAt(0)-48;else i=0;e=a}while(e);Kd(t)}function _b(n){var t=n.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var e=t;switch(t=t.nextSibling,e.nodeName){case"HTML":case"HEAD":case"BODY":_b(e),xS(e);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(e.rel.toLowerCase()==="stylesheet")continue}n.removeChild(e)}}function NN(n,t,e,i){for(;n.nodeType===1;){var s=e;if(n.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(i){if(!n[jp])switch(t){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(a=n.getAttribute("rel"),a==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(a!==s.rel||n.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||n.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||n.getAttribute("title")!==(s.title==null?null:s.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(a=n.getAttribute("src"),(a!==(s.src==null?null:s.src)||n.getAttribute("type")!==(s.type==null?null:s.type)||n.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&a&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(t==="input"&&n.type==="hidden"){var a=s.name==null?null:""+s.name;if(s.type==="hidden"&&n.getAttribute("name")===a)return n}else return n;if(n=Qi(n.nextSibling),n===null)break}return null}function kN(n,t,e){if(t==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!e||(n=Qi(n.nextSibling),n===null))return null;return n}function Cb(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function BN(n,t){var e=n.ownerDocument;if(n.data!=="$?"||e.readyState==="complete")t();else{var i=function(){t(),e.removeEventListener("DOMContentLoaded",i)};e.addEventListener("DOMContentLoaded",i),n._reactRetry=i}}function Qi(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return n}var Rb=null;function O1(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}function _R(n,t,e){switch(t=hy(e),n){case"html":if(n=t.documentElement,!n)throw Error(k(452));return n;case"head":if(n=t.head,!n)throw Error(k(453));return n;case"body":if(n=t.body,!n)throw Error(k(454));return n;default:throw Error(k(451))}}function Md(n){for(var t=n.attributes;t.length;)n.removeAttributeNode(t[0]);xS(n)}var Oi=new Map,P1=new Set;function dy(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ga=yt.d;yt.d={f:IN,r:FN,D:VN,C:zN,L:HN,m:UN,X:GN,S:jN,M:qN};function IN(){var n=Ga.f(),t=uv();return n||t}function FN(n){var t=bh(n);t!==null&&t.tag===5&&t.type==="form"?bC(t):Ga.r(n)}var wh=typeof document>"u"?null:document;function CR(n,t,e){var i=wh;if(i&&typeof t=="string"&&t){var s=Ti(t);s='link[rel="'+n+'"][href="'+s+'"]',typeof e=="string"&&(s+='[crossorigin="'+e+'"]'),P1.has(s)||(P1.add(s),n={rel:n,crossOrigin:e,href:t},i.querySelector(s)===null&&(t=i.createElement("link"),We(t,"link",n),ke(t),i.head.appendChild(t)))}}function VN(n){Ga.D(n),CR("dns-prefetch",n,null)}function zN(n,t){Ga.C(n,t),CR("preconnect",n,t)}function HN(n,t,e){Ga.L(n,t,e);var i=wh;if(i&&n&&t){var s='link[rel="preload"][as="'+Ti(t)+'"]';t==="image"&&e&&e.imageSrcSet?(s+='[imagesrcset="'+Ti(e.imageSrcSet)+'"]',typeof e.imageSizes=="string"&&(s+='[imagesizes="'+Ti(e.imageSizes)+'"]')):s+='[href="'+Ti(n)+'"]';var a=s;switch(t){case"style":a=dh(n);break;case"script":a=Eh(n)}Oi.has(a)||(n=It({rel:"preload",href:t==="image"&&e&&e.imageSrcSet?void 0:n,as:t},e),Oi.set(a,n),i.querySelector(s)!==null||t==="style"&&i.querySelector(Jp(a))||t==="script"&&i.querySelector(tg(a))||(t=i.createElement("link"),We(t,"link",n),ke(t),i.head.appendChild(t)))}}function UN(n,t){Ga.m(n,t);var e=wh;if(e&&n){var i=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Ti(i)+'"][href="'+Ti(n)+'"]',a=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Eh(n)}if(!Oi.has(a)&&(n=It({rel:"modulepreload",href:n},t),Oi.set(a,n),e.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(e.querySelector(tg(a)))return}i=e.createElement("link"),We(i,"link",n),ke(i),e.head.appendChild(i)}}}function jN(n,t,e){Ga.S(n,t,e);var i=wh;if(i&&n){var s=Fu(i).hoistableStyles,a=dh(n);t=t||"default";var r=s.get(a);if(!r){var o={loading:0,preload:null};if(r=i.querySelector(Jp(a)))o.loading=5;else{n=It({rel:"stylesheet",href:n,"data-precedence":t},e),(e=Oi.get(a))&&lw(n,e);var l=r=i.createElement("link");ke(l),We(l,"link",n),l._p=new Promise(function(c,h){l.onload=c,l.onerror=h}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,nm(r,t,i)}r={type:"stylesheet",instance:r,count:1,state:o},s.set(a,r)}}}function GN(n,t){Ga.X(n,t);var e=wh;if(e&&n){var i=Fu(e).hoistableScripts,s=Eh(n),a=i.get(s);a||(a=e.querySelector(tg(s)),a||(n=It({src:n,async:!0},t),(t=Oi.get(s))&&uw(n,t),a=e.createElement("script"),ke(a),We(a,"link",n),e.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function qN(n,t){Ga.M(n,t);var e=wh;if(e&&n){var i=Fu(e).hoistableScripts,s=Eh(n),a=i.get(s);a||(a=e.querySelector(tg(s)),a||(n=It({src:n,async:!0,type:"module"},t),(t=Oi.get(s))&&uw(n,t),a=e.createElement("script"),ke(a),We(a,"link",n),e.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function N1(n,t,e,i){var s=(s=qr.current)?dy(s):null;if(!s)throw Error(k(446));switch(n){case"meta":case"title":return null;case"style":return typeof e.precedence=="string"&&typeof e.href=="string"?(t=dh(e.href),e=Fu(s).hoistableStyles,i=e.get(t),i||(i={type:"style",instance:null,count:0,state:null},e.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(e.rel==="stylesheet"&&typeof e.href=="string"&&typeof e.precedence=="string"){n=dh(e.href);var a=Fu(s).hoistableStyles,r=a.get(n);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(n,r),(a=s.querySelector(Jp(n)))&&!a._p&&(r.instance=a,r.state.loading=5),Oi.has(n)||(e={rel:"preload",as:"style",href:e.href,crossOrigin:e.crossOrigin,integrity:e.integrity,media:e.media,hrefLang:e.hrefLang,referrerPolicy:e.referrerPolicy},Oi.set(n,e),a||XN(s,n,e,r.state))),t&&i===null)throw Error(k(528,""));return r}if(t&&i!==null)throw Error(k(529,""));return null;case"script":return t=e.async,e=e.src,typeof e=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Eh(e),e=Fu(s).hoistableScripts,i=e.get(t),i||(i={type:"script",instance:null,count:0,state:null},e.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(k(444,n))}}function dh(n){return'href="'+Ti(n)+'"'}function Jp(n){return'link[rel="stylesheet"]['+n+"]"}function RR(n){return It({},n,{"data-precedence":n.precedence,precedence:null})}function XN(n,t,e,i){n.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=n.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),We(t,"link",e),ke(t),n.head.appendChild(t))}function Eh(n){return'[src="'+Ti(n)+'"]'}function tg(n){return"script[async]"+n}function k1(n,t,e){if(t.count++,t.instance===null)switch(t.type){case"style":var i=n.querySelector('style[data-href~="'+Ti(e.href)+'"]');if(i)return t.instance=i,ke(i),i;var s=It({},e,{"data-href":e.href,"data-precedence":e.precedence,href:null,precedence:null});return i=(n.ownerDocument||n).createElement("style"),ke(i),We(i,"style",s),nm(i,e.precedence,n),t.instance=i;case"stylesheet":s=dh(e.href);var a=n.querySelector(Jp(s));if(a)return t.state.loading|=4,t.instance=a,ke(a),a;i=RR(e),(s=Oi.get(s))&&lw(i,s),a=(n.ownerDocument||n).createElement("link"),ke(a);var r=a;return r._p=new Promise(function(o,l){r.onload=o,r.onerror=l}),We(a,"link",i),t.state.loading|=4,nm(a,e.precedence,n),t.instance=a;case"script":return a=Eh(e.src),(s=n.querySelector(tg(a)))?(t.instance=s,ke(s),s):(i=e,(s=Oi.get(a))&&(i=It({},e),uw(i,s)),n=n.ownerDocument||n,s=n.createElement("script"),ke(s),We(s,"link",i),n.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(k(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,nm(i,e.precedence,n));return t.instance}function nm(n,t,e){for(var i=e.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,a=s,r=0;r<i.length;r++){var o=i[r];if(o.dataset.precedence===t)a=o;else if(a!==s)break}a?a.parentNode.insertBefore(n,a.nextSibling):(t=e.nodeType===9?e.head:e,t.insertBefore(n,t.firstChild))}function lw(n,t){n.crossOrigin==null&&(n.crossOrigin=t.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=t.referrerPolicy),n.title==null&&(n.title=t.title)}function uw(n,t){n.crossOrigin==null&&(n.crossOrigin=t.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=t.referrerPolicy),n.integrity==null&&(n.integrity=t.integrity)}var im=null;function B1(n,t,e){if(im===null){var i=new Map,s=im=new Map;s.set(e,i)}else s=im,i=s.get(e),i||(i=new Map,s.set(e,i));if(i.has(n))return i;for(i.set(n,null),e=e.getElementsByTagName(n),s=0;s<e.length;s++){var a=e[s];if(!(a[jp]||a[rn]||n==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var r=a.getAttribute(t)||"";r=n+r;var o=i.get(r);o?o.push(a):i.set(r,[a])}}return i}function I1(n,t,e){n=n.ownerDocument||n,n.head.insertBefore(e,t==="title"?n.querySelector("head > title"):null)}function YN(n,t,e){if(e===1||t.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return n=t.disabled,typeof t.precedence=="string"&&n==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function MR(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var qd=null;function $N(){}function KN(n,t,e){if(qd===null)throw Error(k(475));var i=qd;if(t.type==="stylesheet"&&(typeof e.media!="string"||matchMedia(e.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var s=dh(e.href),a=n.querySelector(Jp(s));if(a){n=a._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(i.count++,i=fy.bind(i),n.then(i,i)),t.state.loading|=4,t.instance=a,ke(a);return}a=n.ownerDocument||n,e=RR(e),(s=Oi.get(s))&&lw(e,s),a=a.createElement("link"),ke(a);var r=a;r._p=new Promise(function(o,l){r.onload=o,r.onerror=l}),We(a,"link",e),t.instance=a}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,n),(n=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=fy.bind(i),n.addEventListener("load",t),n.addEventListener("error",t))}}function WN(){if(qd===null)throw Error(k(475));var n=qd;return n.stylesheets&&n.count===0&&Mb(n,n.stylesheets),0<n.count?function(t){var e=setTimeout(function(){if(n.stylesheets&&Mb(n,n.stylesheets),n.unsuspend){var i=n.unsuspend;n.unsuspend=null,i()}},6e4);return n.unsuspend=t,function(){n.unsuspend=null,clearTimeout(e)}}:null}function fy(){if(this.count--,this.count===0){if(this.stylesheets)Mb(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var py=null;function Mb(n,t){n.stylesheets=null,n.unsuspend!==null&&(n.count++,py=new Map,t.forEach(QN,n),py=null,fy.call(n))}function QN(n,t){if(!(t.state.loading&4)){var e=py.get(n);if(e)var i=e.get(null);else{e=new Map,py.set(n,e);for(var s=n.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var r=s[a];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(e.set(r.dataset.precedence,r),i=r)}i&&e.set(null,i)}s=t.instance,r=s.getAttribute("data-precedence"),a=e.get(r)||i,a===i&&e.set(null,s),e.set(r,s),this.count++,i=fy.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),a?a.parentNode.insertBefore(s,a.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(s,n.firstChild)),t.state.loading|=4}}var Xd={$$typeof:Ta,Provider:null,Consumer:null,_currentValue:Pl,_currentValue2:Pl,_threadCount:0};function ZN(n,t,e,i,s,a,r,o){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kv(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kv(0),this.hiddenUpdates=kv(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function DR(n,t,e,i,s,a,r,o,l,c,h,d){return n=new ZN(n,t,e,r,o,l,c,d),t=1,a===!0&&(t|=24),a=ni(3,null,null,t),n.current=a,a.stateNode=n,t=IS(),t.refCount++,n.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:e,cache:t},VS(a),n}function LR(n){return n?(n=xu,n):xu}function OR(n,t,e,i,s,a){s=LR(s),i.context===null?i.context=s:i.pendingContext=s,i=Xr(t),i.payload={element:e},a=a===void 0?null:a,a!==null&&(i.callback=a),e=Yr(n,i,t),e!==null&&(ri(e,n,t),Sd(e,n,t))}function F1(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function cw(n,t){F1(n,t),(n=n.alternate)&&F1(n,t)}function PR(n){if(n.tag===13){var t=Ah(n,67108864);t!==null&&ri(t,n,67108864),cw(n,67108864)}}var gy=!0;function JN(n,t,e,i){var s=K.T;K.T=null;var a=yt.p;try{yt.p=2,hw(n,t,e,i)}finally{yt.p=a,K.T=s}}function tk(n,t,e,i){var s=K.T;K.T=null;var a=yt.p;try{yt.p=8,hw(n,t,e,i)}finally{yt.p=a,K.T=s}}function hw(n,t,e,i){if(gy){var s=Db(i);if(s===null)d0(n,t,i,my,e),V1(n,i);else if(nk(s,n,t,e,i))i.stopPropagation();else if(V1(n,i),t&4&&-1<ek.indexOf(n)){for(;s!==null;){var a=bh(s);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var r=mo(a.pendingLanes);if(r!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;r;){var l=1<<31-si(r);o.entanglements[1]|=l,r&=~l}Bs(a),!(wt&6)&&(ry=Ms()+500,Zp(0))}}break;case 13:o=Ah(a,2),o!==null&&ri(o,a,2),uv(),cw(a,2)}if(a=Db(i),a===null&&d0(n,t,i,my,e),a===s)break;s=a}s!==null&&i.stopPropagation()}else d0(n,t,i,null,e)}}function Db(n){return n=CS(n),dw(n)}var my=null;function dw(n){if(my=null,n=bu(n),n!==null){var t=Vp(n);if(t===null)n=null;else{var e=t.tag;if(e===13){if(n=s_(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null)}}return my=n,null}function NR(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zO()){case l_:return 2;case u_:return 8;case Gm:case HO:return 32;case c_:return 268435456;default:return 32}default:return 32}}var Lb=!1,Wr=null,Qr=null,Zr=null,Yd=new Map,$d=new Map,ir=[],ek="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V1(n,t){switch(n){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Yd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$d.delete(t.pointerId)}}function Ih(n,t,e,i,s,a){return n===null||n.nativeEvent!==a?(n={blockedOn:t,domEventName:e,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},t!==null&&(t=bh(t),t!==null&&PR(t)),n):(n.eventSystemFlags|=i,t=n.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),n)}function nk(n,t,e,i,s){switch(t){case"focusin":return Wr=Ih(Wr,n,t,e,i,s),!0;case"dragenter":return Qr=Ih(Qr,n,t,e,i,s),!0;case"mouseover":return Zr=Ih(Zr,n,t,e,i,s),!0;case"pointerover":var a=s.pointerId;return Yd.set(a,Ih(Yd.get(a)||null,n,t,e,i,s)),!0;case"gotpointercapture":return a=s.pointerId,$d.set(a,Ih($d.get(a)||null,n,t,e,i,s)),!0}return!1}function kR(n){var t=bu(n.target);if(t!==null){var e=Vp(t);if(e!==null){if(t=e.tag,t===13){if(t=s_(e),t!==null){n.blockedOn=t,KO(n.priority,function(){if(e.tag===13){var i=ai();i=ES(i);var s=Ah(e,i);s!==null&&ri(s,e,i),cw(e,i)}});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function sm(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=Db(n.nativeEvent);if(e===null){e=n.nativeEvent;var i=new e.constructor(e.type,e);$0=i,e.target.dispatchEvent(i),$0=null}else return t=bh(e),t!==null&&PR(t),n.blockedOn=e,!1;t.shift()}return!0}function z1(n,t,e){sm(n)&&e.delete(t)}function ik(){Lb=!1,Wr!==null&&sm(Wr)&&(Wr=null),Qr!==null&&sm(Qr)&&(Qr=null),Zr!==null&&sm(Zr)&&(Zr=null),Yd.forEach(z1),$d.forEach(z1)}function Og(n,t){n.blockedOn===t&&(n.blockedOn=null,Lb||(Lb=!0,_e.unstable_scheduleCallback(_e.unstable_NormalPriority,ik)))}var Pg=null;function H1(n){Pg!==n&&(Pg=n,_e.unstable_scheduleCallback(_e.unstable_NormalPriority,function(){Pg===n&&(Pg=null);for(var t=0;t<n.length;t+=3){var e=n[t],i=n[t+1],s=n[t+2];if(typeof i!="function"){if(dw(i||e)===null)continue;break}var a=bh(e);a!==null&&(n.splice(t,3),t-=3,cb(a,{pending:!0,data:s,method:e.method,action:i},i,s))}}))}function Kd(n){function t(l){return Og(l,n)}Wr!==null&&Og(Wr,n),Qr!==null&&Og(Qr,n),Zr!==null&&Og(Zr,n),Yd.forEach(t),$d.forEach(t);for(var e=0;e<ir.length;e++){var i=ir[e];i.blockedOn===n&&(i.blockedOn=null)}for(;0<ir.length&&(e=ir[0],e.blockedOn===null);)kR(e),e.blockedOn===null&&ir.shift();if(e=(n.ownerDocument||n).$$reactFormReplay,e!=null)for(i=0;i<e.length;i+=3){var s=e[i],a=e[i+1],r=s[Nn]||null;if(typeof a=="function")r||H1(e);else if(r){var o=null;if(a&&a.hasAttribute("formAction")){if(s=a,r=a[Nn]||null)o=r.formAction;else if(dw(s)!==null)continue}else o=r.action;typeof o=="function"?e[i+1]=o:(e.splice(i,3),i-=3),H1(e)}}}function fw(n){this._internalRoot=n}fv.prototype.render=fw.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(k(409));var e=t.current,i=ai();OR(e,i,n,t,null,null)};fv.prototype.unmount=fw.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;OR(n.current,2,null,n,null,null),uv(),t[vh]=null}};function fv(n){this._internalRoot=n}fv.prototype.unstable_scheduleHydration=function(n){if(n){var t=g_();n={blockedOn:null,target:n,priority:t};for(var e=0;e<ir.length&&t!==0&&t<ir[e].priority;e++);ir.splice(e,0,n),e===0&&kR(n)}};var U1=n_.version;if(U1!=="19.1.0")throw Error(k(527,U1,"19.1.0"));yt.findDOMNode=function(n){var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(k(188)):(n=Object.keys(n).join(","),Error(k(268,n)));return n=PO(t),n=n!==null?a_(n):null,n=n===null?null:n.stateNode,n};var sk={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ng=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ng.isDisabled&&Ng.supportsFiber)try{zp=Ng.inject(sk),ii=Ng}catch{}}Qy.createRoot=function(n,t){if(!i_(n))throw Error(k(299));var e=!1,i="",s=DC,a=LC,r=OC,o=null;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=DR(n,1,!1,null,null,e,i,s,a,r,o,null),n[vh]=t.current,ow(n),new fw(t)};Qy.hydrateRoot=function(n,t,e){if(!i_(n))throw Error(k(299));var i=!1,s="",a=DC,r=LC,o=OC,l=null,c=null;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(a=e.onUncaughtError),e.onCaughtError!==void 0&&(r=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(l=e.unstable_transitionCallbacks),e.formState!==void 0&&(c=e.formState)),t=DR(n,1,!0,t,e??null,i,s,a,r,o,l,c),t.context=LR(null),e=t.current,i=ai(),i=ES(i),s=Xr(i),s.callback=null,Yr(e,s,i),e=i,t.current.lanes=e,Up(t,e),Bs(t),n[vh]=t.current,ow(n),new fv(t)};Qy.version="19.1.0";function BR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BR)}catch(n){console.error(n)}}BR(),Wx.exports=Qy;var ak=Wx.exports,pw={};Object.defineProperty(pw,"__esModule",{value:!0});pw.parse=dk;pw.serialize=fk;const rk=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,ok=/^[\u0021-\u003A\u003C-\u007E]*$/,lk=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,uk=/^[\u0020-\u003A\u003D-\u007E]*$/,ck=Object.prototype.toString,hk=(()=>{const n=function(){};return n.prototype=Object.create(null),n})();function dk(n,t){const e=new hk,i=n.length;if(i<2)return e;const s=(t==null?void 0:t.decode)||pk;let a=0;do{const r=n.indexOf("=",a);if(r===-1)break;const o=n.indexOf(";",a),l=o===-1?i:o;if(r>l){a=n.lastIndexOf(";",r-1)+1;continue}const c=j1(n,a,r),h=G1(n,r,c),d=n.slice(c,h);if(e[d]===void 0){let f=j1(n,r+1,l),p=G1(n,l,f);const y=s(n.slice(f,p));e[d]=y}a=l+1}while(a<i);return e}function j1(n,t,e){do{const i=n.charCodeAt(t);if(i!==32&&i!==9)return t}while(++t<e);return e}function G1(n,t,e){for(;t>e;){const i=n.charCodeAt(--t);if(i!==32&&i!==9)return t+1}return e}function fk(n,t,e){const i=(e==null?void 0:e.encode)||encodeURIComponent;if(!rk.test(n))throw new TypeError(`argument name is invalid: ${n}`);const s=i(t);if(!ok.test(s))throw new TypeError(`argument val is invalid: ${t}`);let a=n+"="+s;if(!e)return a;if(e.maxAge!==void 0){if(!Number.isInteger(e.maxAge))throw new TypeError(`option maxAge is invalid: ${e.maxAge}`);a+="; Max-Age="+e.maxAge}if(e.domain){if(!lk.test(e.domain))throw new TypeError(`option domain is invalid: ${e.domain}`);a+="; Domain="+e.domain}if(e.path){if(!uk.test(e.path))throw new TypeError(`option path is invalid: ${e.path}`);a+="; Path="+e.path}if(e.expires){if(!gk(e.expires)||!Number.isFinite(e.expires.valueOf()))throw new TypeError(`option expires is invalid: ${e.expires}`);a+="; Expires="+e.expires.toUTCString()}if(e.httpOnly&&(a+="; HttpOnly"),e.secure&&(a+="; Secure"),e.partitioned&&(a+="; Partitioned"),e.priority)switch(typeof e.priority=="string"?e.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${e.priority}`)}if(e.sameSite)switch(typeof e.sameSite=="string"?e.sameSite.toLowerCase():e.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${e.sameSite}`)}return a}function pk(n){if(n.indexOf("%")===-1)return n;try{return decodeURIComponent(n)}catch{return n}}function gk(n){return ck.call(n)==="[object Date]"}var q1="popstate";function mk(n={}){function t(s,a){let{pathname:r="/",search:o="",hash:l=""}=Zl(s.location.hash.substring(1));return!r.startsWith("/")&&!r.startsWith(".")&&(r="/"+r),Ob("",{pathname:r,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(s,a){let r=s.document.querySelector("base"),o="";if(r&&r.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof a=="string"?a:Wd(a))}function i(s,a){Zi(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return vk(t,e,i,n)}function Wt(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Zi(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yk(){return Math.random().toString(36).substring(2,10)}function X1(n,t){return{usr:n.state,key:n.key,idx:t}}function Ob(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Zl(t):t,state:e,key:t&&t.key||i||yk()}}function Wd({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Zl(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function vk(n,t,e,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,r=s.history,o="POP",l=null,c=h();c==null&&(c=0,r.replaceState({...r.state,idx:c},""));function h(){return(r.state||{idx:null}).idx}function d(){o="POP";let S=h(),g=S==null?null:S-c;c=S,l&&l({action:o,location:m.location,delta:g})}function f(S,g){o="PUSH";let b=Ob(m.location,S,g);e&&e(b,S),c=h()+1;let A=X1(b,c),T=m.createHref(b);try{r.pushState(A,"",T)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;s.location.assign(T)}a&&l&&l({action:o,location:m.location,delta:1})}function p(S,g){o="REPLACE";let b=Ob(m.location,S,g);e&&e(b,S),c=h();let A=X1(b,c),T=m.createHref(b);r.replaceState(A,"",T),a&&l&&l({action:o,location:m.location,delta:0})}function y(S){return bk(S)}let m={get action(){return o},get location(){return n(s,r)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(q1,d),l=S,()=>{s.removeEventListener(q1,d),l=null}},createHref(S){return t(s,S)},createURL:y,encodeLocation(S){let g=y(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(S){return r.go(S)}};return m}function bk(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Wt(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Wd(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function IR(n,t,e="/"){return Ak(n,t,e,!1)}function Ak(n,t,e,i){let s=typeof t=="string"?Zl(t):t,a=Fa(s.pathname||"/",e);if(a==null)return null;let r=FR(n);Sk(r);let o=null;for(let l=0;o==null&&l<r.length;++l){let c=Ok(a);o=Dk(r[l],c,i)}return o}function FR(n,t=[],e=[],i=""){let s=(a,r,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:r,route:a};l.relativePath.startsWith("/")&&(Wt(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let c=La([i,l.relativePath]),h=e.concat(l);a.children&&a.children.length>0&&(Wt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),FR(a.children,t,h,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:Rk(c,a.index),routesMeta:h})};return n.forEach((a,r)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))s(a,r);else for(let l of VR(a.path))s(a,r,l)}),t}function VR(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),a=e.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let r=VR(i.join("/")),o=[];return o.push(...r.map(l=>l===""?a:[a,l].join("/"))),s&&o.push(...r),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function Sk(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:Mk(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var wk=/^:[\w-]+$/,Ek=3,Tk=2,xk=1,_k=10,Ck=-2,Y1=n=>n==="*";function Rk(n,t){let e=n.split("/"),i=e.length;return e.some(Y1)&&(i+=Ck),t&&(i+=Tk),e.filter(s=>!Y1(s)).reduce((s,a)=>s+(wk.test(a)?Ek:a===""?xk:_k),i)}function Mk(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function Dk(n,t,e=!1){let{routesMeta:i}=n,s={},a="/",r=[];for(let o=0;o<i.length;++o){let l=i[o],c=o===i.length-1,h=a==="/"?t:t.slice(a.length)||"/",d=yy({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),f=l.route;if(!d&&c&&e&&!i[i.length-1].route.index&&(d=yy({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(s,d.params),r.push({params:s,pathname:La([a,d.pathname]),pathnameBase:Bk(La([a,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(a=La([a,d.pathnameBase]))}return r}function yy(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=Lk(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let a=s[0],r=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:i.reduce((c,{paramName:h,isOptional:d},f)=>{if(h==="*"){let y=o[f]||"";r=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const p=o[f];return d&&!p?c[h]=void 0:c[h]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:r,pattern:n}}function Lk(n,t=!1,e=!0){Zi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function Ok(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Zi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Fa(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function Pk(n,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof n=="string"?Zl(n):n;return{pathname:e?e.startsWith("/")?e:Nk(e,t):t,search:Ik(i),hash:Fk(s)}}function Nk(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function p0(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kk(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function zR(n){let t=kk(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function HR(n,t,e,i=!1){let s;typeof n=="string"?s=Zl(n):(s={...n},Wt(!s.pathname||!s.pathname.includes("?"),p0("?","pathname","search",s)),Wt(!s.pathname||!s.pathname.includes("#"),p0("#","pathname","hash",s)),Wt(!s.search||!s.search.includes("#"),p0("#","search","hash",s)));let a=n===""||s.pathname==="",r=a?"/":s.pathname,o;if(r==null)o=e;else{let d=t.length-1;if(!i&&r.startsWith("..")){let f=r.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}o=d>=0?t[d]:"/"}let l=Pk(s,o),c=r&&r!=="/"&&r.endsWith("/"),h=(a||r===".")&&e.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}var La=n=>n.join("/").replace(/\/\/+/g,"/"),Bk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Ik=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Fk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Vk(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var UR=["POST","PUT","PATCH","DELETE"];new Set(UR);var zk=["GET",...UR];new Set(zk);var Th=R.createContext(null);Th.displayName="DataRouter";var pv=R.createContext(null);pv.displayName="DataRouterState";var jR=R.createContext({isTransitioning:!1});jR.displayName="ViewTransition";var Hk=R.createContext(new Map);Hk.displayName="Fetchers";var Uk=R.createContext(null);Uk.displayName="Await";var Is=R.createContext(null);Is.displayName="Navigation";var eg=R.createContext(null);eg.displayName="Location";var qa=R.createContext({outlet:null,matches:[],isDataRoute:!1});qa.displayName="Route";var gw=R.createContext(null);gw.displayName="RouteError";function jk(n,{relative:t}={}){Wt(ng(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=R.useContext(Is),{hash:s,pathname:a,search:r}=ig(n,{relative:t}),o=a;return e!=="/"&&(o=a==="/"?e:La([e,a])),i.createHref({pathname:o,search:r,hash:s})}function ng(){return R.useContext(eg)!=null}function Jl(){return Wt(ng(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(eg).location}var GR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qR(n){R.useContext(Is).static||R.useLayoutEffect(n)}function Gk(){let{isDataRoute:n}=R.useContext(qa);return n?iB():qk()}function qk(){Wt(ng(),"useNavigate() may be used only in the context of a <Router> component.");let n=R.useContext(Th),{basename:t,navigator:e}=R.useContext(Is),{matches:i}=R.useContext(qa),{pathname:s}=Jl(),a=JSON.stringify(zR(i)),r=R.useRef(!1);return qR(()=>{r.current=!0}),R.useCallback((l,c={})=>{if(Zi(r.current,GR),!r.current)return;if(typeof l=="number"){e.go(l);return}let h=HR(l,JSON.parse(a),s,c.relative==="path");n==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:La([t,h.pathname])),(c.replace?e.replace:e.push)(h,c.state,c)},[t,e,a,s,n])}R.createContext(null);function ig(n,{relative:t}={}){let{matches:e}=R.useContext(qa),{pathname:i}=Jl(),s=JSON.stringify(zR(e));return R.useMemo(()=>HR(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function Xk(n,t){return XR(n,t)}function XR(n,t,e,i){var g;Wt(ng(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=R.useContext(Is),{matches:a}=R.useContext(qa),r=a[a.length-1],o=r?r.params:{},l=r?r.pathname:"/",c=r?r.pathnameBase:"/",h=r&&r.route;{let b=h&&h.path||"";YR(l,!h||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let d=Jl(),f;if(t){let b=typeof t=="string"?Zl(t):t;Wt(c==="/"||((g=b.pathname)==null?void 0:g.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${b.pathname}" was given in the \`location\` prop.`),f=b}else f=d;let p=f.pathname||"/",y=p;if(c!=="/"){let b=c.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=IR(n,{pathname:y});Zi(h||m!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Zi(m==null||m[m.length-1].route.element!==void 0||m[m.length-1].route.Component!==void 0||m[m.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=Qk(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:La([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:La([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,e,i);return t&&S?R.createElement(eg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},S):S}function Yk(){let n=nB(),t=Vk(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},r=null;return console.error("Error handled by React Router default ErrorBoundary:",n),r=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:a},"ErrorBoundary")," or"," ",R.createElement("code",{style:a},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),e?R.createElement("pre",{style:s},e):null,r)}var $k=R.createElement(Yk,null),Kk=class extends R.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?R.createElement(qa.Provider,{value:this.props.routeContext},R.createElement(gw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Wk({routeContext:n,match:t,children:e}){let i=R.useContext(Th);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),R.createElement(qa.Provider,{value:n},e)}function Qk(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let s=n,a=e==null?void 0:e.errors;if(a!=null){let l=s.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id])!==void 0);Wt(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let r=!1,o=-1;if(e)for(let l=0;l<s.length;l++){let c=s[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(o=l),c.route.id){let{loaderData:h,errors:d}=e,f=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||f){r=!0,o>=0?s=s.slice(0,o+1):s=[s[0]];break}}}return s.reduceRight((l,c,h)=>{let d,f=!1,p=null,y=null;e&&(d=a&&c.route.id?a[c.route.id]:void 0,p=c.route.errorElement||$k,r&&(o<0&&h===0?(YR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,y=null):o===h&&(f=!0,y=c.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,h+1)),S=()=>{let g;return d?g=p:f?g=y:c.route.Component?g=R.createElement(c.route.Component,null):c.route.element?g=c.route.element:g=l,R.createElement(Wk,{match:c,routeContext:{outlet:l,matches:m,isDataRoute:e!=null},children:g})};return e&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?R.createElement(Kk,{location:e.location,revalidation:e.revalidation,component:p,error:d,children:S(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):S()},null)}function mw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zk(n){let t=R.useContext(Th);return Wt(t,mw(n)),t}function Jk(n){let t=R.useContext(pv);return Wt(t,mw(n)),t}function tB(n){let t=R.useContext(qa);return Wt(t,mw(n)),t}function yw(n){let t=tB(n),e=t.matches[t.matches.length-1];return Wt(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function eB(){return yw("useRouteId")}function nB(){var i;let n=R.useContext(gw),t=Jk("useRouteError"),e=yw("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[e]}function iB(){let{router:n}=Zk("useNavigate"),t=yw("useNavigate"),e=R.useRef(!1);return qR(()=>{e.current=!0}),R.useCallback(async(s,a={})=>{Zi(e.current,GR),e.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:t,...a}))},[n,t])}var $1={};function YR(n,t,e){!t&&!$1[n]&&($1[n]=!0,Zi(!1,e))}R.memo(sB);function sB({routes:n,future:t,state:e}){return XR(n,void 0,e,t)}function $h(n){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aB({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:a=!1}){Wt(!ng(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let r=n.replace(/^\/*/,"/"),o=R.useMemo(()=>({basename:r,navigator:s,static:a,future:{}}),[r,s,a]);typeof e=="string"&&(e=Zl(e));let{pathname:l="/",search:c="",hash:h="",state:d=null,key:f="default"}=e,p=R.useMemo(()=>{let y=Fa(l,r);return y==null?null:{location:{pathname:y,search:c,hash:h,state:d,key:f},navigationType:i}},[r,l,c,h,d,f,i]);return Zi(p!=null,`<Router basename="${r}"> is not able to match the URL "${l}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:R.createElement(Is.Provider,{value:o},R.createElement(eg.Provider,{children:t,value:p}))}function rB({children:n,location:t}){return Xk(Pb(n),t)}function Pb(n,t=[]){let e=[];return R.Children.forEach(n,(i,s)=>{if(!R.isValidElement(i))return;let a=[...t,s];if(i.type===R.Fragment){e.push.apply(e,Pb(i.props.children,a));return}Wt(i.type===$h,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let r={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(r.children=Pb(i.props.children,a)),e.push(r)}),e}var am="get",rm="application/x-www-form-urlencoded";function gv(n){return n!=null&&typeof n.tagName=="string"}function oB(n){return gv(n)&&n.tagName.toLowerCase()==="button"}function lB(n){return gv(n)&&n.tagName.toLowerCase()==="form"}function uB(n){return gv(n)&&n.tagName.toLowerCase()==="input"}function cB(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hB(n,t){return n.button===0&&(!t||t==="_self")&&!cB(n)}var kg=null;function dB(){if(kg===null)try{new FormData(document.createElement("form"),0),kg=!1}catch{kg=!0}return kg}var fB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function g0(n){return n!=null&&!fB.has(n)?(Zi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rm}"`),null):n}function pB(n,t){let e,i,s,a,r;if(lB(n)){let o=n.getAttribute("action");i=o?Fa(o,t):null,e=n.getAttribute("method")||am,s=g0(n.getAttribute("enctype"))||rm,a=new FormData(n)}else if(oB(n)||uB(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(i=l?Fa(l,t):null,e=n.getAttribute("formmethod")||o.getAttribute("method")||am,s=g0(n.getAttribute("formenctype"))||g0(o.getAttribute("enctype"))||rm,a=new FormData(o,n),!dB()){let{name:c,type:h,value:d}=n;if(h==="image"){let f=c?`${c}.`:"";a.append(`${f}x`,"0"),a.append(`${f}y`,"0")}else c&&a.append(c,d)}}else{if(gv(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=am,i=null,s=rm,r=n}return a&&s==="text/plain"&&(r=a,a=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:a,body:r}}function vw(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function gB(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mB(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function yB(n,t,e){let i=await Promise.all(n.map(async s=>{let a=t.routes[s.route.id];if(a){let r=await gB(a,e);return r.links?r.links():[]}return[]}));return SB(i.flat(1).filter(mB).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function K1(n,t,e,i,s,a){let r=(l,c)=>e[c]?l.route.id!==e[c].route.id:!0,o=(l,c)=>{var h;return e[c].pathname!==l.pathname||((h=e[c].route.path)==null?void 0:h.endsWith("*"))&&e[c].params["*"]!==l.params["*"]};return a==="assets"?t.filter((l,c)=>r(l,c)||o(l,c)):a==="data"?t.filter((l,c)=>{var d;let h=i.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(r(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((d=e[0])==null?void 0:d.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function vB(n,t,{includeHydrateFallback:e}={}){return bB(n.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function bB(n){return[...new Set(n)]}function AB(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function SB(n,t){let e=new Set;return new Set(t),n.reduce((i,s)=>{let a=JSON.stringify(AB(s));return e.has(a)||(e.add(a),i.push({key:a,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wB=new Set([100,101,204,205]);function EB(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&Fa(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function $R(){let n=R.useContext(Th);return vw(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function TB(){let n=R.useContext(pv);return vw(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var bw=R.createContext(void 0);bw.displayName="FrameworkContext";function KR(){let n=R.useContext(bw);return vw(n,"You must render this element inside a <HydratedRouter> element"),n}function xB(n,t){let e=R.useContext(bw),[i,s]=R.useState(!1),[a,r]=R.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:h,onTouchStart:d}=t,f=R.useRef(null);R.useEffect(()=>{if(n==="render"&&r(!0),n==="viewport"){let m=g=>{g.forEach(b=>{r(b.isIntersecting)})},S=new IntersectionObserver(m,{threshold:.5});return f.current&&S.observe(f.current),()=>{S.disconnect()}}},[n]),R.useEffect(()=>{if(i){let m=setTimeout(()=>{r(!0)},100);return()=>{clearTimeout(m)}}},[i]);let p=()=>{s(!0)},y=()=>{s(!1),r(!1)};return e?n!=="intent"?[a,f,{}]:[a,f,{onFocus:Fh(o,p),onBlur:Fh(l,y),onMouseEnter:Fh(c,p),onMouseLeave:Fh(h,y),onTouchStart:Fh(d,p)}]:[!1,f,{}]}function Fh(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function _B({page:n,...t}){let{router:e}=$R(),i=R.useMemo(()=>IR(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?R.createElement(RB,{page:n,matches:i,...t}):null}function CB(n){let{manifest:t,routeModules:e}=KR(),[i,s]=R.useState([]);return R.useEffect(()=>{let a=!1;return yB(n,t,e).then(r=>{a||s(r)}),()=>{a=!0}},[n,t,e]),i}function RB({page:n,matches:t,...e}){let i=Jl(),{manifest:s,routeModules:a}=KR(),{basename:r}=$R(),{loaderData:o,matches:l}=TB(),c=R.useMemo(()=>K1(n,t,l,s,i,"data"),[n,t,l,s,i]),h=R.useMemo(()=>K1(n,t,l,s,i,"assets"),[n,t,l,s,i]),d=R.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let y=new Set,m=!1;if(t.forEach(g=>{var A;let b=s.routes[g.route.id];!b||!b.hasLoader||(!c.some(T=>T.route.id===g.route.id)&&g.route.id in o&&((A=a[g.route.id])!=null&&A.shouldRevalidate)||b.hasClientLoader?m=!0:y.add(g.route.id))}),y.size===0)return[];let S=EB(n,r);return m&&y.size>0&&S.searchParams.set("_routes",t.filter(g=>y.has(g.route.id)).map(g=>g.route.id).join(",")),[S.pathname+S.search]},[r,o,i,s,c,t,n,a]),f=R.useMemo(()=>vB(h,s),[h,s]),p=CB(h);return R.createElement(R.Fragment,null,d.map(y=>R.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...e})),f.map(y=>R.createElement("link",{key:y,rel:"modulepreload",href:y,...e})),p.map(({key:y,link:m})=>R.createElement("link",{key:y,...m})))}function MB(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var WR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WR&&(window.__reactRouterVersion="7.6.3")}catch{}function DB({basename:n,children:t,window:e}){let i=R.useRef();i.current==null&&(i.current=mk({window:e,v5Compat:!0}));let s=i.current,[a,r]=R.useState({action:s.action,location:s.location}),o=R.useCallback(l=>{R.startTransition(()=>r(l))},[r]);return R.useLayoutEffect(()=>s.listen(o),[s,o]),R.createElement(aB,{basename:n,children:t,location:a.location,navigationType:a.action,navigator:s})}var QR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mu=R.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:s,reloadDocument:a,replace:r,state:o,target:l,to:c,preventScrollReset:h,viewTransition:d,...f},p){let{basename:y}=R.useContext(Is),m=typeof c=="string"&&QR.test(c),S,g=!1;if(typeof c=="string"&&m&&(S=c,WR))try{let L=new URL(window.location.href),O=c.startsWith("//")?new URL(L.protocol+c):new URL(c),N=Fa(O.pathname,y);O.origin===L.origin&&N!=null?c=N+O.search+O.hash:g=!0}catch{Zi(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=jk(c,{relative:s}),[A,T,x]=xB(i,f),C=NB(c,{replace:r,state:o,target:l,preventScrollReset:h,relative:s,viewTransition:d});function _(L){t&&t(L),L.defaultPrevented||C(L)}let M=R.createElement("a",{...f,...x,href:S||b,onClick:g||a?t:_,ref:MB(p,T),target:l,"data-discover":!m&&e==="render"?"true":void 0});return A&&!m?R.createElement(R.Fragment,null,M,R.createElement(_B,{page:b})):M});Mu.displayName="Link";var LB=R.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:s=!1,style:a,to:r,viewTransition:o,children:l,...c},h){let d=ig(r,{relative:c.relative}),f=Jl(),p=R.useContext(pv),{navigator:y,basename:m}=R.useContext(Is),S=p!=null&&VB(d)&&o===!0,g=y.encodeLocation?y.encodeLocation(d).pathname:d.pathname,b=f.pathname,A=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;e||(b=b.toLowerCase(),A=A?A.toLowerCase():null,g=g.toLowerCase()),A&&m&&(A=Fa(A,m)||A);const T=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let x=b===g||!s&&b.startsWith(g)&&b.charAt(T)==="/",C=A!=null&&(A===g||!s&&A.startsWith(g)&&A.charAt(g.length)==="/"),_={isActive:x,isPending:C,isTransitioning:S},M=x?t:void 0,L;typeof i=="function"?L=i(_):L=[i,x?"active":null,C?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(_):a;return R.createElement(Mu,{...c,"aria-current":M,className:L,ref:h,style:O,to:r,viewTransition:o},typeof l=="function"?l(_):l)});LB.displayName="NavLink";var OB=R.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:a,method:r=am,action:o,onSubmit:l,relative:c,preventScrollReset:h,viewTransition:d,...f},p)=>{let y=IB(),m=FB(o,{relative:c}),S=r.toLowerCase()==="get"?"get":"post",g=typeof o=="string"&&QR.test(o),b=A=>{if(l&&l(A),A.defaultPrevented)return;A.preventDefault();let T=A.nativeEvent.submitter,x=(T==null?void 0:T.getAttribute("formmethod"))||r;y(T||A.currentTarget,{fetcherKey:t,method:x,navigate:e,replace:s,state:a,relative:c,preventScrollReset:h,viewTransition:d})};return R.createElement("form",{ref:p,method:S,action:m,onSubmit:i?l:b,...f,"data-discover":!g&&n==="render"?"true":void 0})});OB.displayName="Form";function PB(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZR(n){let t=R.useContext(Th);return Wt(t,PB(n)),t}function NB(n,{target:t,replace:e,state:i,preventScrollReset:s,relative:a,viewTransition:r}={}){let o=Gk(),l=Jl(),c=ig(n,{relative:a});return R.useCallback(h=>{if(hB(h,t)){h.preventDefault();let d=e!==void 0?e:Wd(l)===Wd(c);o(n,{replace:d,state:i,preventScrollReset:s,relative:a,viewTransition:r})}},[l,o,c,e,i,t,n,s,a,r])}var kB=0,BB=()=>`__${String(++kB)}__`;function IB(){let{router:n}=ZR("useSubmit"),{basename:t}=R.useContext(Is),e=eB();return R.useCallback(async(i,s={})=>{let{action:a,method:r,encType:o,formData:l,body:c}=pB(i,t);if(s.navigate===!1){let h=s.fetcherKey||BB();await n.fetch(h,e,s.action||a,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||r,formEncType:s.encType||o,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||r,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,t,e])}function FB(n,{relative:t}={}){let{basename:e}=R.useContext(Is),i=R.useContext(qa);Wt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...ig(n||".",{relative:t})},r=Jl();if(n==null){a.search=r.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(h=>h==="")){o.delete("index"),l.filter(d=>d).forEach(d=>o.append("index",d));let h=o.toString();a.search=h?`?${h}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(a.pathname=a.pathname==="/"?e:La([e,a.pathname])),Wd(a)}function VB(n,t={}){let e=R.useContext(jR);Wt(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ZR("useViewTransitionState"),s=ig(n,{relative:t.relative});if(!e.isTransitioning)return!1;let a=Fa(e.currentLocation.pathname,i)||e.currentLocation.pathname,r=Fa(e.nextLocation.pathname,i)||e.nextLocation.pathname;return yy(s.pathname,r)!=null||yy(s.pathname,a)!=null}[...wB];const JR=R.createContext({});function zB(n){const t=R.useRef(null);return t.current===null&&(t.current=n()),t.current}const Aw=typeof window<"u",HB=Aw?R.useLayoutEffect:R.useEffect,Sw=R.createContext(null);function ww(n,t){n.indexOf(t)===-1&&n.push(t)}function Ew(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Va=(n,t,e)=>e>t?t:e<n?n:e;let Tw=()=>{};const za={},tM=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function eM(n){return typeof n=="object"&&n!==null}const nM=n=>/^0[^.\s]+$/u.test(n);function xw(n){let t;return()=>(t===void 0&&(t=n()),t)}const Mi=n=>n,UB=(n,t)=>e=>t(n(e)),sg=(...n)=>n.reduce(UB),Qd=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};class _w{constructor(){this.subscriptions=[]}add(t){return ww(this.subscriptions,t),()=>Ew(this.subscriptions,t)}notify(t,e,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,i);else for(let a=0;a<s;a++){const r=this.subscriptions[a];r&&r(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ls=n=>n*1e3,Os=n=>n/1e3;function iM(n,t){return t?n*(1e3/t):0}const sM=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,jB=1e-7,GB=12;function qB(n,t,e,i,s){let a,r,o=0;do r=t+(e-t)/2,a=sM(r,i,s)-n,a>0?e=r:t=r;while(Math.abs(a)>jB&&++o<GB);return r}function ag(n,t,e,i){if(n===t&&e===i)return Mi;const s=a=>qB(a,0,1,n,e);return a=>a===0||a===1?a:sM(s(a),t,i)}const aM=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,rM=n=>t=>1-n(1-t),oM=ag(.33,1.53,.69,.99),Cw=rM(oM),lM=aM(Cw),uM=n=>(n*=2)<1?.5*Cw(n):.5*(2-Math.pow(2,-10*(n-1))),Rw=n=>1-Math.sin(Math.acos(n)),cM=rM(Rw),hM=aM(Rw),XB=ag(.42,0,1,1),YB=ag(0,0,.58,1),dM=ag(.42,0,.58,1),$B=n=>Array.isArray(n)&&typeof n[0]!="number",fM=n=>Array.isArray(n)&&typeof n[0]=="number",KB={linear:Mi,easeIn:XB,easeInOut:dM,easeOut:YB,circIn:Rw,circInOut:hM,circOut:cM,backIn:Cw,backInOut:lM,backOut:oM,anticipate:uM},WB=n=>typeof n=="string",W1=n=>{if(fM(n)){Tw(n.length===4);const[t,e,i,s]=n;return ag(t,e,i,s)}else if(WB(n))return KB[n];return n},Bg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Q1={value:null};function QB(n,t){let e=new Set,i=new Set,s=!1,a=!1;const r=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){r.has(d)&&(h.schedule(d),n()),l++,d(o)}const h={schedule:(d,f=!1,p=!1)=>{const m=p&&s?e:i;return f&&r.add(d),m.has(d)||m.add(d),d},cancel:d=>{i.delete(d),r.delete(d)},process:d=>{if(o=d,s){a=!0;return}s=!0,[e,i]=[i,e],e.forEach(c),t&&Q1.value&&Q1.value.frameloop[t].push(l),l=0,e.clear(),s=!1,a&&(a=!1,h.process(d))}};return h}const ZB=40;function pM(n,t){let e=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>e=!0,r=Bg.reduce((A,T)=>(A[T]=QB(a,t?T:void 0),A),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:h,update:d,preRender:f,render:p,postRender:y}=r,m=()=>{const A=za.useManualTiming?s.timestamp:performance.now();e=!1,za.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(A-s.timestamp,ZB),1)),s.timestamp=A,s.isProcessing=!0,o.process(s),l.process(s),c.process(s),h.process(s),d.process(s),f.process(s),p.process(s),y.process(s),s.isProcessing=!1,e&&t&&(i=!1,n(m))},S=()=>{e=!0,i=!0,s.isProcessing||n(m)};return{schedule:Bg.reduce((A,T)=>{const x=r[T];return A[T]=(C,_=!1,M=!1)=>(e||S(),x.schedule(C,_,M)),A},{}),cancel:A=>{for(let T=0;T<Bg.length;T++)r[Bg[T]].cancel(A)},state:s,steps:r}}const{schedule:qt,cancel:no,state:Ge,steps:m0}=pM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mi,!0);let om;function JB(){om=void 0}const Pn={now:()=>(om===void 0&&Pn.set(Ge.isProcessing||za.useManualTiming?Ge.timestamp:performance.now()),om),set:n=>{om=n,queueMicrotask(JB)}},gM=n=>t=>typeof t=="string"&&t.startsWith(n),Mw=gM("--"),tI=gM("var(--"),Dw=n=>tI(n)?eI.test(n.split("/*")[0].trim()):!1,eI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xh={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Zd={...xh,transform:n=>Va(0,1,n)},Ig={...xh,default:1},Dd=n=>Math.round(n*1e5)/1e5,Lw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nI(n){return n==null}const iI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ow=(n,t)=>e=>!!(typeof e=="string"&&iI.test(e)&&e.startsWith(n)||t&&!nI(e)&&Object.prototype.hasOwnProperty.call(e,t)),mM=(n,t,e)=>i=>{if(typeof i!="string")return i;const[s,a,r,o]=i.match(Lw);return{[n]:parseFloat(s),[t]:parseFloat(a),[e]:parseFloat(r),alpha:o!==void 0?parseFloat(o):1}},sI=n=>Va(0,255,n),y0={...xh,transform:n=>Math.round(sI(n))},xo={test:Ow("rgb","red"),parse:mM("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+y0.transform(n)+", "+y0.transform(t)+", "+y0.transform(e)+", "+Dd(Zd.transform(i))+")"};function aI(n){let t="",e="",i="",s="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),t+=t,e+=e,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Nb={test:Ow("#"),parse:aI,transform:xo.transform},rg=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Wa=rg("deg"),Ps=rg("%"),$=rg("px"),rI=rg("vh"),oI=rg("vw"),Z1={...Ps,parse:n=>Ps.parse(n)/100,transform:n=>Ps.transform(n*100)},Du={test:Ow("hsl","hue"),parse:mM("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+Ps.transform(Dd(t))+", "+Ps.transform(Dd(e))+", "+Dd(Zd.transform(i))+")"},pe={test:n=>xo.test(n)||Nb.test(n)||Du.test(n),parse:n=>xo.test(n)?xo.parse(n):Du.test(n)?Du.parse(n):Nb.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?xo.transform(n):Du.transform(n),getAnimatableNone:n=>{const t=pe.parse(n);return t.alpha=0,pe.transform(t)}},lI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uI(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(Lw))==null?void 0:t.length)||0)+(((e=n.match(lI))==null?void 0:e.length)||0)>0}const yM="number",vM="color",cI="var",hI="var(",J1="${}",dI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Jd(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},s=[];let a=0;const o=t.replace(dI,l=>(pe.test(l)?(i.color.push(a),s.push(vM),e.push(pe.parse(l))):l.startsWith(hI)?(i.var.push(a),s.push(cI),e.push(l)):(i.number.push(a),s.push(yM),e.push(parseFloat(l))),++a,J1)).split(J1);return{values:e,split:o,indexes:i,types:s}}function bM(n){return Jd(n).values}function AM(n){const{split:t,types:e}=Jd(n),i=t.length;return s=>{let a="";for(let r=0;r<i;r++)if(a+=t[r],s[r]!==void 0){const o=e[r];o===yM?a+=Dd(s[r]):o===vM?a+=pe.transform(s[r]):a+=s[r]}return a}}const fI=n=>typeof n=="number"?0:pe.test(n)?pe.getAnimatableNone(n):n;function pI(n){const t=bM(n);return AM(n)(t.map(fI))}const io={test:uI,parse:bM,createTransformer:AM,getAnimatableNone:pI};function v0(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function gI({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let s=0,a=0,r=0;if(!t)s=a=r=e;else{const o=e<.5?e*(1+t):e+t-e*t,l=2*e-o;s=v0(l,o,n+1/3),a=v0(l,o,n),r=v0(l,o,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(r*255),alpha:i}}function vy(n,t){return e=>e>0?t:n}const Kt=(n,t,e)=>n+(t-n)*e,b0=(n,t,e)=>{const i=n*n,s=e*(t*t-i)+i;return s<0?0:Math.sqrt(s)},mI=[Nb,xo,Du],yI=n=>mI.find(t=>t.test(n));function tT(n){const t=yI(n);if(!t)return!1;let e=t.parse(n);return t===Du&&(e=gI(e)),e}const eT=(n,t)=>{const e=tT(n),i=tT(t);if(!e||!i)return vy(n,t);const s={...e};return a=>(s.red=b0(e.red,i.red,a),s.green=b0(e.green,i.green,a),s.blue=b0(e.blue,i.blue,a),s.alpha=Kt(e.alpha,i.alpha,a),xo.transform(s))},kb=new Set(["none","hidden"]);function vI(n,t){return kb.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function bI(n,t){return e=>Kt(n,t,e)}function Pw(n){return typeof n=="number"?bI:typeof n=="string"?Dw(n)?vy:pe.test(n)?eT:wI:Array.isArray(n)?SM:typeof n=="object"?pe.test(n)?eT:AI:vy}function SM(n,t){const e=[...n],i=e.length,s=n.map((a,r)=>Pw(a)(a,t[r]));return a=>{for(let r=0;r<i;r++)e[r]=s[r](a);return e}}function AI(n,t){const e={...n,...t},i={};for(const s in e)n[s]!==void 0&&t[s]!==void 0&&(i[s]=Pw(n[s])(n[s],t[s]));return s=>{for(const a in i)e[a]=i[a](s);return e}}function SI(n,t){const e=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],r=n.indexes[a][i[a]],o=n.values[r]??0;e[s]=o,i[a]++}return e}const wI=(n,t)=>{const e=io.createTransformer(t),i=Jd(n),s=Jd(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?kb.has(n)&&!s.values.length||kb.has(t)&&!i.values.length?vI(n,t):sg(SM(SI(i,s),s.values),e):vy(n,t)};function wM(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?Kt(n,t,e):Pw(n)(n,t)}const EI=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>qt.update(t,e),stop:()=>no(t),now:()=>Ge.isProcessing?Ge.timestamp:Pn.now()}},EM=(n,t,e=10)=>{let i="";const s=Math.max(Math.round(t/e),2);for(let a=0;a<s;a++)i+=Math.round(n(a/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},by=2e4;function Nw(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<by;)t+=e,i=n.next(t);return t>=by?1/0:t}function TI(n,t=100,e){const i=e({...n,keyframes:[0,t]}),s=Math.min(Nw(i),by);return{type:"keyframes",ease:a=>i.next(s*a).value/t,duration:Os(s)}}const xI=5;function TM(n,t,e){const i=Math.max(t-xI,0);return iM(e-n(i),t-i)}const Jt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},A0=.001;function _I({duration:n=Jt.duration,bounce:t=Jt.bounce,velocity:e=Jt.velocity,mass:i=Jt.mass}){let s,a,r=1-t;r=Va(Jt.minDamping,Jt.maxDamping,r),n=Va(Jt.minDuration,Jt.maxDuration,Os(n)),r<1?(s=c=>{const h=c*r,d=h*n,f=h-e,p=Bb(c,r),y=Math.exp(-d);return A0-f/p*y},a=c=>{const d=c*r*n,f=d*e+e,p=Math.pow(r,2)*Math.pow(c,2)*n,y=Math.exp(-d),m=Bb(Math.pow(c,2),r);return(-s(c)+A0>0?-1:1)*((f-p)*y)/m}):(s=c=>{const h=Math.exp(-c*n),d=(c-e)*n+1;return-A0+h*d},a=c=>{const h=Math.exp(-c*n),d=(e-c)*(n*n);return h*d});const o=5/n,l=RI(s,a,o);if(n=Ls(n),isNaN(l))return{stiffness:Jt.stiffness,damping:Jt.damping,duration:n};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:r*2*Math.sqrt(i*c),duration:n}}}const CI=12;function RI(n,t,e){let i=e;for(let s=1;s<CI;s++)i=i-n(i)/t(i);return i}function Bb(n,t){return n*Math.sqrt(1-t*t)}const MI=["duration","bounce"],DI=["stiffness","damping","mass"];function nT(n,t){return t.some(e=>n[e]!==void 0)}function LI(n){let t={velocity:Jt.velocity,stiffness:Jt.stiffness,damping:Jt.damping,mass:Jt.mass,isResolvedFromDuration:!1,...n};if(!nT(n,DI)&&nT(n,MI))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),s=i*i,a=2*Va(.05,1,1-(n.bounce||0))*Math.sqrt(s);t={...t,mass:Jt.mass,stiffness:s,damping:a}}else{const e=_I(n);t={...t,...e,mass:Jt.mass},t.isResolvedFromDuration=!0}return t}function Ay(n=Jt.visualDuration,t=Jt.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:s}=e;const a=e.keyframes[0],r=e.keyframes[e.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:h,duration:d,velocity:f,isResolvedFromDuration:p}=LI({...e,velocity:-Os(e.velocity||0)}),y=f||0,m=c/(2*Math.sqrt(l*h)),S=r-a,g=Os(Math.sqrt(l/h)),b=Math.abs(S)<5;i||(i=b?Jt.restSpeed.granular:Jt.restSpeed.default),s||(s=b?Jt.restDelta.granular:Jt.restDelta.default);let A;if(m<1){const x=Bb(g,m);A=C=>{const _=Math.exp(-m*g*C);return r-_*((y+m*g*S)/x*Math.sin(x*C)+S*Math.cos(x*C))}}else if(m===1)A=x=>r-Math.exp(-g*x)*(S+(y+g*S)*x);else{const x=g*Math.sqrt(m*m-1);A=C=>{const _=Math.exp(-m*g*C),M=Math.min(x*C,300);return r-_*((y+m*g*S)*Math.sinh(M)+x*S*Math.cosh(M))/x}}const T={calculatedDuration:p&&d||null,next:x=>{const C=A(x);if(p)o.done=x>=d;else{let _=x===0?y:0;m<1&&(_=x===0?Ls(y):TM(A,x,C));const M=Math.abs(_)<=i,L=Math.abs(r-C)<=s;o.done=M&&L}return o.value=o.done?r:C,o},toString:()=>{const x=Math.min(Nw(T),by),C=EM(_=>T.next(x*_).value,x,30);return x+"ms "+C},toTransition:()=>{}};return T}Ay.applyToOptions=n=>{const t=TI(n,100,Ay);return n.ease=t.ease,n.duration=Ls(t.duration),n.type="keyframes",n};function Ib({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:r,min:o,max:l,restDelta:c=.5,restSpeed:h}){const d=n[0],f={done:!1,value:d},p=M=>o!==void 0&&M<o||l!==void 0&&M>l,y=M=>o===void 0?l:l===void 0||Math.abs(o-M)<Math.abs(l-M)?o:l;let m=e*t;const S=d+m,g=r===void 0?S:r(S);g!==S&&(m=g-d);const b=M=>-m*Math.exp(-M/i),A=M=>g+b(M),T=M=>{const L=b(M),O=A(M);f.done=Math.abs(L)<=c,f.value=f.done?g:O};let x,C;const _=M=>{p(f.value)&&(x=M,C=Ay({keyframes:[f.value,y(f.value)],velocity:TM(A,M,f.value),damping:s,stiffness:a,restDelta:c,restSpeed:h}))};return _(0),{calculatedDuration:null,next:M=>{let L=!1;return!C&&x===void 0&&(L=!0,T(M),_(M)),x!==void 0&&M>=x?C.next(M-x):(!L&&T(M),f)}}}function OI(n,t,e){const i=[],s=e||za.mix||wM,a=n.length-1;for(let r=0;r<a;r++){let o=s(n[r],n[r+1]);if(t){const l=Array.isArray(t)?t[r]||Mi:t;o=sg(l,o)}i.push(o)}return i}function PI(n,t,{clamp:e=!0,ease:i,mixer:s}={}){const a=n.length;if(Tw(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const r=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),t=[...t].reverse());const o=OI(t,i,s),l=o.length,c=h=>{if(r&&h<n[0])return t[0];let d=0;if(l>1)for(;d<n.length-2&&!(h<n[d+1]);d++);const f=Qd(n[d],n[d+1],h);return o[d](f)};return e?h=>c(Va(n[0],n[a-1],h)):c}function NI(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const s=Qd(0,t,i);n.push(Kt(e,1,s))}}function kI(n){const t=[0];return NI(t,n.length-1),t}function BI(n,t){return n.map(e=>e*t)}function II(n,t){return n.map(()=>t||dM).splice(0,n.length-1)}function Ld({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const s=$B(i)?i.map(W1):W1(i),a={done:!1,value:t[0]},r=BI(e&&e.length===t.length?e:kI(t),n),o=PI(r,t,{ease:Array.isArray(s)?s:II(t,s)});return{calculatedDuration:n,next:l=>(a.value=o(l),a.done=l>=n,a)}}const FI=n=>n!==null;function kw(n,{repeat:t,repeatType:e="loop"},i,s=1){const a=n.filter(FI),o=s<0||t&&e!=="loop"&&t%2===1?0:a.length-1;return!o||i===void 0?a[o]:i}const VI={decay:Ib,inertia:Ib,tween:Ld,keyframes:Ld,spring:Ay};function xM(n){typeof n.type=="string"&&(n.type=VI[n.type])}class Bw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const zI=n=>n/100;class Iw extends Bw{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:e}=this.options;e&&e.updatedAt!==Pn.now()&&this.tick(Pn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;xM(t);const{type:e=Ld,repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:r=0}=t;let{keyframes:o}=t;const l=e||Ld;l!==Ld&&typeof o[0]!="number"&&(this.mixKeyframes=sg(zI,wM(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});a==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-r})),c.calculatedDuration===null&&(c.calculatedDuration=Nw(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=c}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:s,mixKeyframes:a,mirroredGenerator:r,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return i.next(0);const{delay:c=0,keyframes:h,repeat:d,repeatType:f,repeatDelay:p,type:y,onUpdate:m,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let A=this.currentTime,T=i;if(d){const M=Math.min(this.currentTime,s)/o;let L=Math.floor(M),O=M%1;!O&&M>=1&&(O=1),O===1&&L--,L=Math.min(L,d+1),!!(L%2)&&(f==="reverse"?(O=1-O,p&&(O-=p/o)):f==="mirror"&&(T=r)),A=Va(0,1,O)*o}const x=b?{done:!1,value:h[0]}:T.next(A);a&&(x.value=a(x.value));let{done:C}=x;!b&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return _&&y!==Ib&&(x.value=kw(h,this.options,S,this.speed)),m&&m(x.value),_&&this.finish(),x}then(t,e){return this.finished.then(t,e)}get duration(){return Os(this.calculatedDuration)}get time(){return Os(this.currentTime)}set time(t){var e;t=Ls(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(e=this.driver)==null||e.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Pn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Os(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:t=EI,startTime:e}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),(a=(s=this.options).onPlay)==null||a.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,e;this.notifyFinished(),this.teardown(),this.state="finished",(e=(t=this.options).onComplete)==null||e.call(t)}cancel(){var t,e;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(e=(t=this.options).onCancel)==null||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var e;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(e=this.driver)==null||e.stop(),t.observe(this)}}function HI(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const _o=n=>n*180/Math.PI,Fb=n=>{const t=_o(Math.atan2(n[1],n[0]));return Vb(t)},UI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Fb,rotateZ:Fb,skewX:n=>_o(Math.atan(n[1])),skewY:n=>_o(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Vb=n=>(n=n%360,n<0&&(n+=360),n),iT=Fb,sT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),aT=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),jI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:sT,scaleY:aT,scale:n=>(sT(n)+aT(n))/2,rotateX:n=>Vb(_o(Math.atan2(n[6],n[5]))),rotateY:n=>Vb(_o(Math.atan2(-n[2],n[0]))),rotateZ:iT,rotate:iT,skewX:n=>_o(Math.atan(n[4])),skewY:n=>_o(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function zb(n){return n.includes("scale")?1:0}function Hb(n,t){if(!n||n==="none")return zb(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(e)i=jI,s=e;else{const o=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=UI,s=o}if(!s)return zb(t);const a=i[t],r=s[1].split(",").map(qI);return typeof a=="function"?a(r):r[a]}const GI=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return Hb(e,t)};function qI(n){return parseFloat(n.trim())}const _h=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ch=new Set(_h),rT=n=>n===xh||n===$,XI=new Set(["x","y","z"]),YI=_h.filter(n=>!XI.has(n));function $I(n){const t=[];return YI.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const zl={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Hb(t,"x"),y:(n,{transform:t})=>Hb(t,"y")};zl.translateX=zl.x;zl.translateY=zl.y;const Hl=new Set;let Ub=!1,jb=!1,Gb=!1;function _M(){if(jb){const n=Array.from(Hl).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const s=$I(i);s.length&&(e.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=e.get(i);s&&s.forEach(([a,r])=>{var o;(o=i.getValue(a))==null||o.set(r)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}jb=!1,Ub=!1,Hl.forEach(n=>n.complete(Gb)),Hl.clear()}function CM(){Hl.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(jb=!0)})}function KI(){Gb=!0,CM(),_M(),Gb=!1}class Fw{constructor(t,e,i,s,a,r=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=a,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(Hl.add(this),Ub||(Ub=!0,qt.read(CM),qt.resolveKeyframes(_M))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;if(t[0]===null){const a=s==null?void 0:s.get(),r=t[t.length-1];if(a!==void 0)t[0]=a;else if(i&&e){const o=i.readValue(e,r);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=r),s&&a===void 0&&s.set(t[0])}HI(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Hl.delete(this)}cancel(){this.state==="scheduled"&&(Hl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const WI=n=>n.startsWith("--");function QI(n,t,e){WI(t)?n.style.setProperty(t,e):n.style[t]=e}const ZI=xw(()=>window.ScrollTimeline!==void 0),JI={};function t3(n,t){const e=xw(n);return()=>JI[t]??e()}const RM=t3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Kh=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,oT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Kh([0,.65,.55,1]),circOut:Kh([.55,0,1,.45]),backIn:Kh([.31,.01,.66,-.59]),backOut:Kh([.33,1.53,.69,.99])};function MM(n,t){if(n)return typeof n=="function"?RM()?EM(n,t):"ease-out":fM(n)?Kh(n):Array.isArray(n)?n.map(e=>MM(e,t)||oT.easeOut):oT[n]}function e3(n,t,e,{delay:i=0,duration:s=300,repeat:a=0,repeatType:r="loop",ease:o="easeOut",times:l}={},c=void 0){const h={[t]:e};l&&(h.offset=l);const d=MM(o,s);Array.isArray(d)&&(h.easing=d);const f={delay:i,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:r==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),n.animate(h,f)}function DM(n){return typeof n=="function"&&"applyToOptions"in n}function n3({type:n,...t}){return DM(n)&&RM()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class i3 extends Bw{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:i,keyframes:s,pseudoElement:a,allowFlatten:r=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!a,this.allowFlatten=r,this.options=t,Tw(typeof t.type!="string");const c=n3(t);this.animation=e3(e,i,s,c,a),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const h=kw(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(h):QI(e,i,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,e;(e=(t=this.animation).finish)==null||e.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,e;this.isPseudoElement||(e=(t=this.animation).commitStyles)==null||e.call(t)}get duration(){var e,i;const t=((i=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:i.call(e).duration)||0;return Os(Number(t))}get time(){return Os(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ls(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&ZI()?(this.animation.timeline=t,Mi):e(this)}}const LM={anticipate:uM,backInOut:lM,circInOut:hM};function s3(n){return n in LM}function a3(n){typeof n.ease=="string"&&s3(n.ease)&&(n.ease=LM[n.ease])}const lT=10;class r3 extends i3{constructor(t){a3(t),xM(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:s,element:a,...r}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const o=new Iw({...r,autoplay:!1}),l=Ls(this.finishedTime??this.time);e.setWithVelocity(o.sample(l-lT).value,o.sample(l).value,lT),o.stop()}}const uT=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(io.test(n)||n==="0")&&!n.startsWith("url("));function o3(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function l3(n,t,e,i){const s=n[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=n[n.length-1],r=uT(s,t),o=uT(a,t);return!r||!o?!1:o3(n)||(e==="spring"||DM(e))&&i}function OM(n){return eM(n)&&"offsetHeight"in n}const u3=new Set(["opacity","clipPath","filter","transform"]),c3=xw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function h3(n){var c;const{motionValue:t,name:e,repeatDelay:i,repeatType:s,damping:a,type:r}=n;if(!OM((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return c3()&&e&&u3.has(e)&&(e!=="transform"||!l)&&!o&&!i&&s!=="mirror"&&a!==0&&r!=="inertia"}const d3=40;class f3 extends Bw{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:r="loop",keyframes:o,name:l,motionValue:c,element:h,...d}){var y;super(),this.stop=()=>{var m,S;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Pn.now();const f={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:a,repeatType:r,name:l,motionValue:c,element:h,...d},p=(h==null?void 0:h.KeyframeResolver)||Fw;this.keyframeResolver=new p(o,(m,S,g)=>this.onKeyframesResolved(m,S,f,!g),l,c,h),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(t,e,i,s){this.keyframeResolver=void 0;const{name:a,type:r,velocity:o,delay:l,isHandoff:c,onUpdate:h}=i;this.resolvedAt=Pn.now(),l3(t,a,r,o)||((za.instantAnimations||!l)&&(h==null||h(kw(t,i,e))),t[0]=t[t.length-1],i.duration=0,i.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>d3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},p=!c&&h3(f)?new r3({...f,element:f.motionValue.owner.current}):new Iw(f);p.finished.then(()=>this.notifyFinished()).catch(Mi),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),KI()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const p3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function g3(n){const t=p3.exec(n);if(!t)return[,];const[,e,i,s]=t;return[`--${e??i}`,s]}function PM(n,t,e=1){const[i,s]=g3(n);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const r=a.trim();return tM(r)?parseFloat(r):r}return Dw(s)?PM(s,t,e+1):s}function Vw(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const NM=new Set(["width","height","top","left","right","bottom",..._h]),m3={test:n=>n==="auto",parse:n=>n},kM=n=>t=>t.test(n),BM=[xh,$,Ps,Wa,oI,rI,m3],cT=n=>BM.find(kM(n));function y3(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||nM(n):!0}const v3=new Set(["brightness","contrast","saturate","opacity"]);function b3(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(Lw)||[];if(!i)return n;const s=e.replace(i,"");let a=v3.has(t)?1:0;return i!==e&&(a*=100),t+"("+a+s+")"}const A3=/\b([a-z-]*)\(.*?\)/gu,qb={...io,getAnimatableNone:n=>{const t=n.match(A3);return t?t.map(b3).join(" "):n}},hT={...xh,transform:Math.round},S3={rotate:Wa,rotateX:Wa,rotateY:Wa,rotateZ:Wa,scale:Ig,scaleX:Ig,scaleY:Ig,scaleZ:Ig,skew:Wa,skewX:Wa,skewY:Wa,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:Zd,originX:Z1,originY:Z1,originZ:$},zw={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,backgroundPositionX:$,backgroundPositionY:$,...S3,zIndex:hT,fillOpacity:Zd,strokeOpacity:Zd,numOctaves:hT},w3={...zw,color:pe,backgroundColor:pe,outlineColor:pe,fill:pe,stroke:pe,borderColor:pe,borderTopColor:pe,borderRightColor:pe,borderBottomColor:pe,borderLeftColor:pe,filter:qb,WebkitFilter:qb},IM=n=>w3[n];function FM(n,t){let e=IM(n);return e!==qb&&(e=io),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const E3=new Set(["auto","none","0"]);function T3(n,t,e){let i=0,s;for(;i<n.length&&!s;){const a=n[i];typeof a=="string"&&!E3.has(a)&&Jd(a).values.length&&(s=n[i]),i++}if(s&&e)for(const a of t)n[a]=FM(e,s)}class x3 extends Fw{constructor(t,e,i,s,a){super(t,e,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Dw(c))){const h=PM(c,e.current);h!==void 0&&(t[l]=h),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!NM.has(i)||t.length!==2)return;const[s,a]=t,r=cT(s),o=cT(a);if(r!==o)if(rT(r)&&rT(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else zl[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||y3(t[s]))&&i.push(s);i.length&&T3(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zl[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var o;const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(e);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,r=i[a];i[a]=zl[e](t.measureViewportBox(),window.getComputedStyle(t.current)),r!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=r),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function _3(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const s=(e==null?void 0:e[n])??i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const VM=(n,t)=>t&&typeof n=="number"?t.transform(n):n,dT=30,C3=n=>!isNaN(parseFloat(n));class R3{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{var r,o;const a=Pn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Pn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=C3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new _w);const i=this.events[t].add(e);return t==="change"?()=>{i(),qt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>dT)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,dT);return iM(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,e;(t=this.dependents)==null||t.clear(),(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fh(n,t){return new R3(n,t)}const{schedule:Hw}=pM(queueMicrotask,!1),Ni={x:!1,y:!1};function zM(){return Ni.x||Ni.y}function M3(n){return n==="x"||n==="y"?Ni[n]?null:(Ni[n]=!0,()=>{Ni[n]=!1}):Ni.x||Ni.y?null:(Ni.x=Ni.y=!0,()=>{Ni.x=Ni.y=!1})}function HM(n,t){const e=_3(n),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[e,s,()=>i.abort()]}function fT(n){return!(n.pointerType==="touch"||zM())}function D3(n,t,e={}){const[i,s,a]=HM(n,e),r=o=>{if(!fT(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const h=d=>{fT(d)&&(c(d),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,s)};return i.forEach(o=>{o.addEventListener("pointerenter",r,s)}),a}const UM=(n,t)=>t?n===t?!0:UM(n,t.parentElement):!1,Uw=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,L3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function O3(n){return L3.has(n.tagName)||n.tabIndex!==-1}const lm=new WeakSet;function pT(n){return t=>{t.key==="Enter"&&n(t)}}function S0(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const P3=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=pT(()=>{if(lm.has(e))return;S0(e,"down");const s=pT(()=>{S0(e,"up")}),a=()=>S0(e,"cancel");e.addEventListener("keyup",s,t),e.addEventListener("blur",a,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function gT(n){return Uw(n)&&!zM()}function N3(n,t,e={}){const[i,s,a]=HM(n,e),r=o=>{const l=o.currentTarget;if(!gT(o))return;lm.add(l);const c=t(l,o),h=(p,y)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),lm.has(l)&&lm.delete(l),gT(p)&&typeof c=="function"&&c(p,{success:y})},d=p=>{h(p,l===window||l===document||e.useGlobalTarget||UM(l,p.target))},f=p=>{h(p,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",f,s)};return i.forEach(o=>{(e.useGlobalTarget?window:o).addEventListener("pointerdown",r,s),OM(o)&&(o.addEventListener("focus",c=>P3(c,s)),!O3(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function jM(n){return eM(n)&&"ownerSVGElement"in n}function k3(n){return jM(n)&&n.tagName==="svg"}const ln=n=>!!(n&&n.getVelocity),B3=[...BM,pe,io],I3=n=>B3.find(kM(n)),GM=R.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function F3(n=!0){const t=R.useContext(Sw);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:s}=t,a=R.useId();R.useEffect(()=>{if(n)return s(a)},[n]);const r=R.useCallback(()=>n&&i&&i(a),[a,i,n]);return!e&&i?[!1,r]:[!0]}const qM=R.createContext({strict:!1}),mT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ph={};for(const n in mT)ph[n]={isEnabled:t=>mT[n].some(e=>!!t[e])};function V3(n){for(const t in n)ph[t]={...ph[t],...n[t]}}const z3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sy(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||z3.has(n)}let XM=n=>!Sy(n);function H3(n){typeof n=="function"&&(XM=t=>t.startsWith("on")?!Sy(t):n(t))}try{H3(require("@emotion/is-prop-valid").default)}catch{}function U3(n,t,e){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(XM(s)||e===!0&&Sy(s)||!t&&!Sy(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function j3(n){if(typeof Proxy>"u")return n;const t=new Map,e=(...i)=>n(...i);return new Proxy(e,{get:(i,s)=>s==="create"?n:(t.has(s)||t.set(s,n(s)),t.get(s))})}const mv=R.createContext({});function yv(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function tf(n){return typeof n=="string"||Array.isArray(n)}const jw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gw=["initial",...jw];function vv(n){return yv(n.animate)||Gw.some(t=>tf(n[t]))}function YM(n){return!!(vv(n)||n.variants)}function G3(n,t){if(vv(n)){const{initial:e,animate:i}=n;return{initial:e===!1||tf(e)?e:void 0,animate:tf(i)?i:void 0}}return n.inherit!==!1?t:{}}function q3(n){const{initial:t,animate:e}=G3(n,R.useContext(mv));return R.useMemo(()=>({initial:t,animate:e}),[yT(t),yT(e)])}function yT(n){return Array.isArray(n)?n.join(" "):n}const X3=Symbol.for("motionComponentSymbol");function Lu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Y3(n,t,e){return R.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):Lu(e)&&(e.current=i))},[t])}const qw=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$3="framerAppearId",$M="data-"+qw($3),KM=R.createContext({});function K3(n,t,e,i,s){var m,S;const{visualElement:a}=R.useContext(mv),r=R.useContext(qM),o=R.useContext(Sw),l=R.useContext(GM).reducedMotion,c=R.useRef(null);i=i||r.renderer,!c.current&&i&&(c.current=i(n,{visualState:t,parent:a,props:e,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const h=c.current,d=R.useContext(KM);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&W3(c.current,e,s,d);const f=R.useRef(!1);R.useInsertionEffect(()=>{h&&f.current&&h.update(e,o)});const p=e[$M],y=R.useRef(!!p&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,p))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,p)));return HB(()=>{h&&(f.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),Hw.render(h.render),y.current&&h.animationState&&h.animationState.animateChanges())}),R.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,p)}),y.current=!1))}),h}function W3(n,t,e,i){const{layoutId:s,layout:a,drag:r,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:h}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:WM(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!r||o&&Lu(o),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:h,layoutScroll:l,layoutRoot:c})}function WM(n){if(n)return n.options.allowProjection!==!1?n.projection:WM(n.parent)}function Q3({preloadedFeatures:n,createVisualElement:t,useRender:e,useVisualState:i,Component:s}){n&&V3(n);function a(o,l){let c;const h={...R.useContext(GM),...o,layoutId:Z3(o)},{isStatic:d}=h,f=q3(o),p=i(o,d);if(!d&&Aw){J3();const y=tF(h);c=y.MeasureLayout,f.visualElement=K3(s,p,h,t,y.ProjectionNode)}return I.jsxs(mv.Provider,{value:f,children:[c&&f.visualElement?I.jsx(c,{visualElement:f.visualElement,...h}):null,e(s,o,Y3(p,f.visualElement,l),p,d,f.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const r=R.forwardRef(a);return r[X3]=s,r}function Z3({layoutId:n}){const t=R.useContext(JR).id;return t&&n!==void 0?t+"-"+n:n}function J3(n,t){R.useContext(qM).strict}function tF(n){const{drag:t,layout:e}=ph;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const ef={};function eF(n){for(const t in n)ef[t]=n[t],Mw(t)&&(ef[t].isCSSVariable=!0)}function QM(n,{layout:t,layoutId:e}){return Ch.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!ef[n]||n==="opacity")}const nF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iF=_h.length;function sF(n,t,e){let i="",s=!0;for(let a=0;a<iF;a++){const r=_h[a],o=n[r];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(r.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||e){const c=VM(o,zw[r]);if(!l){s=!1;const h=nF[r]||r;i+=`${h}(${c}) `}e&&(t[r]=c)}}return i=i.trim(),e?i=e(t,s?"":i):s&&(i="none"),i}function Xw(n,t,e){const{style:i,vars:s,transformOrigin:a}=n;let r=!1,o=!1;for(const l in t){const c=t[l];if(Ch.has(l)){r=!0;continue}else if(Mw(l)){s[l]=c;continue}else{const h=VM(c,zw[l]);l.startsWith("origin")?(o=!0,a[l]=h):i[l]=h}}if(t.transform||(r||e?i.transform=sF(t,n.transform,e):i.transform&&(i.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:h=0}=a;i.transformOrigin=`${l} ${c} ${h}`}}const Yw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZM(n,t,e){for(const i in t)!ln(t[i])&&!QM(i,e)&&(n[i]=t[i])}function aF({transformTemplate:n},t){return R.useMemo(()=>{const e=Yw();return Xw(e,t,n),Object.assign({},e.vars,e.style)},[t])}function rF(n,t){const e=n.style||{},i={};return ZM(i,e,n),Object.assign(i,aF(n,t)),i}function oF(n,t){const e={},i=rF(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const lF={offset:"stroke-dashoffset",array:"stroke-dasharray"},uF={offset:"strokeDashoffset",array:"strokeDasharray"};function cF(n,t,e=1,i=0,s=!0){n.pathLength=1;const a=s?lF:uF;n[a.offset]=$.transform(-i);const r=$.transform(t),o=$.transform(e);n[a.array]=`${r} ${o}`}function JM(n,{attrX:t,attrY:e,attrScale:i,pathLength:s,pathSpacing:a=1,pathOffset:r=0,...o},l,c,h){if(Xw(n,o,c),l){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:d,style:f}=n;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),e!==void 0&&(d.y=e),i!==void 0&&(d.scale=i),s!==void 0&&cF(d,s,a,r,!1)}const tD=()=>({...Yw(),attrs:{}}),eD=n=>typeof n=="string"&&n.toLowerCase()==="svg";function hF(n,t,e,i){const s=R.useMemo(()=>{const a=tD();return JM(a,t,eD(i),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[t]);if(n.style){const a={};ZM(a,n.style,n),s.style={...a,...s.style}}return s}const dF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $w(n){return typeof n!="string"||n.includes("-")?!1:!!(dF.indexOf(n)>-1||/[A-Z]/u.test(n))}function fF(n=!1){return(e,i,s,{latestValues:a},r)=>{const l=($w(e)?hF:oF)(i,a,r,e),c=U3(i,typeof e=="string",n),h=e!==R.Fragment?{...c,...l,ref:s}:{},{children:d}=i,f=R.useMemo(()=>ln(d)?d.get():d,[d]);return R.createElement(e,{...h,children:f})}}function vT(n){const t=[{},{}];return n==null||n.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function Kw(n,t,e,i){if(typeof t=="function"){const[s,a]=vT(i);t=t(e!==void 0?e:n.custom,s,a)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[s,a]=vT(i);t=t(e!==void 0?e:n.custom,s,a)}return t}function um(n){return ln(n)?n.get():n}function pF({scrapeMotionValuesFromProps:n,createRenderState:t},e,i,s){return{latestValues:gF(e,i,s,n),renderState:t()}}const nD=n=>(t,e)=>{const i=R.useContext(mv),s=R.useContext(Sw),a=()=>pF(n,t,i,s);return e?a():zB(a)};function gF(n,t,e,i){const s={},a=i(n,{});for(const f in a)s[f]=um(a[f]);let{initial:r,animate:o}=n;const l=vv(n),c=YM(n);t&&c&&!l&&n.inherit!==!1&&(r===void 0&&(r=t.initial),o===void 0&&(o=t.animate));let h=e?e.initial===!1:!1;h=h||r===!1;const d=h?o:r;if(d&&typeof d!="boolean"&&!yv(d)){const f=Array.isArray(d)?d:[d];for(let p=0;p<f.length;p++){const y=Kw(n,f[p]);if(y){const{transitionEnd:m,transition:S,...g}=y;for(const b in g){let A=g[b];if(Array.isArray(A)){const T=h?A.length-1:0;A=A[T]}A!==null&&(s[b]=A)}for(const b in m)s[b]=m[b]}}}return s}function Ww(n,t,e){var a;const{style:i}=n,s={};for(const r in i)(ln(i[r])||t.style&&ln(t.style[r])||QM(r,n)||((a=e==null?void 0:e.getValue(r))==null?void 0:a.liveStyle)!==void 0)&&(s[r]=i[r]);return s}const mF={useVisualState:nD({scrapeMotionValuesFromProps:Ww,createRenderState:Yw})};function iD(n,t,e){const i=Ww(n,t,e);for(const s in n)if(ln(n[s])||ln(t[s])){const a=_h.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=n[s]}return i}const yF={useVisualState:nD({scrapeMotionValuesFromProps:iD,createRenderState:tD})};function vF(n,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const r={...$w(i)?yF:mF,preloadedFeatures:n,useRender:fF(s),createVisualElement:t,Component:i};return Q3(r)}}function nf(n,t,e){const i=n.getProps();return Kw(i,t,e!==void 0?e:i.custom,n)}const Xb=n=>Array.isArray(n);function bF(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,fh(e))}function AF(n){return Xb(n)?n[n.length-1]||0:n}function SF(n,t){const e=nf(n,t);let{transitionEnd:i={},transition:s={},...a}=e||{};a={...a,...i};for(const r in a){const o=AF(a[r]);bF(n,r,o)}}function wF(n){return!!(ln(n)&&n.add)}function Yb(n,t){const e=n.getValue("willChange");if(wF(e))return e.add(t);if(!e&&za.WillChange){const i=new za.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function sD(n){return n.props[$M]}const EF=n=>n!==null;function TF(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter(EF),a=t&&e!=="loop"&&t%2===1?0:s.length-1;return s[a]}const xF={type:"spring",stiffness:500,damping:25,restSpeed:10},_F=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),CF={type:"keyframes",duration:.8},RF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},MF=(n,{keyframes:t})=>t.length>2?CF:Ch.has(n)?n.startsWith("scale")?_F(t[1]):xF:RF;function DF({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:r,repeatDelay:o,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const Qw=(n,t,e,i={},s,a)=>r=>{const o=Vw(i,n)||{},l=o.delay||i.delay||0;let{elapsed:c=0}=i;c=c-Ls(l);const h={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:f=>{t.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{r(),o.onComplete&&o.onComplete()},name:n,motionValue:t,element:a?void 0:s};DF(o)||Object.assign(h,MF(n,h)),h.duration&&(h.duration=Ls(h.duration)),h.repeatDelay&&(h.repeatDelay=Ls(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),(za.instantAnimations||za.skipAnimations)&&(d=!0,h.duration=0,h.delay=0),h.allowFlatten=!o.type&&!o.ease,d&&!a&&t.get()!==void 0){const f=TF(h.keyframes,o);if(f!==void 0){qt.update(()=>{h.onUpdate(f),h.onComplete()});return}}return o.isSync?new Iw(h):new f3(h)};function LF({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function aD(n,t,{delay:e=0,transitionOverride:i,type:s}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:r,...o}=t;i&&(a=i);const l=[],c=s&&n.animationState&&n.animationState.getState()[s];for(const h in o){const d=n.getValue(h,n.latestValues[h]??null),f=o[h];if(f===void 0||c&&LF(c,h))continue;const p={delay:e,...Vw(a||{},h)},y=d.get();if(y!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===y&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const g=sD(n);if(g){const b=window.MotionHandoffAnimation(g,h,qt);b!==null&&(p.startTime=b,m=!0)}}Yb(n,h),d.start(Qw(h,d,f,n.shouldReduceMotion&&NM.has(h)?{type:!1}:p,n,m));const S=d.animation;S&&l.push(S)}return r&&Promise.all(l).then(()=>{qt.update(()=>{r&&SF(n,r)})}),l}function $b(n,t,e={}){var l;const i=nf(n,t,e.type==="exit"?(l=n.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(s=e.transitionOverride);const a=i?()=>Promise.all(aD(n,i,e)):()=>Promise.resolve(),r=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=s;return OF(n,t,c,h,d,f,e)}:()=>Promise.resolve(),{when:o}=s;if(o){const[c,h]=o==="beforeChildren"?[a,r]:[r,a];return c().then(()=>h())}else return Promise.all([a(),r(e.delay)])}function OF(n,t,e=0,i=0,s=0,a=1,r){const o=[],l=n.variantChildren.size,c=(l-1)*s,h=typeof i=="function",d=h?f=>i(f,l):a===1?(f=0)=>f*s:(f=0)=>c-f*s;return Array.from(n.variantChildren).sort(PF).forEach((f,p)=>{f.notify("AnimationStart",t),o.push($b(f,t,{...r,delay:e+(h?0:i)+d(p)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(o)}function PF(n,t){return n.sortNodePosition(t)}function NF(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(a=>$b(n,a,e));i=Promise.all(s)}else if(typeof t=="string")i=$b(n,t,e);else{const s=typeof t=="function"?nf(n,t,e.custom):t;i=Promise.all(aD(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function rD(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const kF=Gw.length;function oD(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?oD(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<kF;e++){const i=Gw[e],s=n.props[i];(tf(s)||s===!1)&&(t[i]=s)}return t}const BF=[...jw].reverse(),IF=jw.length;function FF(n){return t=>Promise.all(t.map(({animation:e,options:i})=>NF(n,e,i)))}function VF(n){let t=FF(n),e=bT(),i=!0;const s=l=>(c,h)=>{var f;const d=nf(n,h,l==="exit"?(f=n.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:p,transitionEnd:y,...m}=d;c={...c,...m,...y}}return c};function a(l){t=l(n)}function r(l){const{props:c}=n,h=oD(n.parent)||{},d=[],f=new Set;let p={},y=1/0;for(let S=0;S<IF;S++){const g=BF[S],b=e[g],A=c[g]!==void 0?c[g]:h[g],T=tf(A),x=g===l?b.isActive:null;x===!1&&(y=S);let C=A===h[g]&&A!==c[g]&&T;if(C&&i&&n.manuallyAnimateOnMount&&(C=!1),b.protectedKeys={...p},!b.isActive&&x===null||!A&&!b.prevProp||yv(A)||typeof A=="boolean")continue;const _=zF(b.prevProp,A);let M=_||g===l&&b.isActive&&!C&&T||S>y&&T,L=!1;const O=Array.isArray(A)?A:[A];let N=O.reduce(s(g),{});x===!1&&(N={});const{prevResolvedValues:X={}}=b,J={...X,...N},q=P=>{M=!0,f.has(P)&&(L=!0,f.delete(P)),b.needsAnimating[P]=!0;const V=n.getValue(P);V&&(V.liveStyle=!1)};for(const P in J){const V=N[P],tt=X[P];if(p.hasOwnProperty(P))continue;let rt=!1;Xb(V)&&Xb(tt)?rt=!rD(V,tt):rt=V!==tt,rt?V!=null?q(P):f.add(P):V!==void 0&&f.has(P)?q(P):b.protectedKeys[P]=!0}b.prevProp=A,b.prevResolvedValues=N,b.isActive&&(p={...p,...N}),i&&n.blockInitialAnimation&&(M=!1),M&&(!(C&&_)||L)&&d.push(...O.map(P=>({animation:P,options:{type:g}})))}if(f.size){const S={};if(typeof c.initial!="boolean"){const g=nf(n,Array.isArray(c.initial)?c.initial[0]:c.initial);g&&g.transition&&(S.transition=g.transition)}f.forEach(g=>{const b=n.getBaseTarget(g),A=n.getValue(g);A&&(A.liveStyle=!0),S[g]=b??null}),d.push({animation:S})}let m=!!d.length;return i&&(c.initial===!1||c.initial===c.animate)&&!n.manuallyAnimateOnMount&&(m=!1),i=!1,m?t(d):Promise.resolve()}function o(l,c){var d;if(e[l].isActive===c)return Promise.resolve();(d=n.variantChildren)==null||d.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(l,c)}),e[l].isActive=c;const h=r(l);for(const f in e)e[f].protectedKeys={};return h}return{animateChanges:r,setActive:o,setAnimateFunction:a,getState:()=>e,reset:()=>{e=bT(),i=!0}}}function zF(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!rD(t,n):!1}function po(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bT(){return{animate:po(!0),whileInView:po(),whileHover:po(),whileTap:po(),whileDrag:po(),whileFocus:po(),exit:po()}}class ho{constructor(t){this.isMounted=!1,this.node=t}update(){}}class HF extends ho{constructor(t){super(t),t.animationState||(t.animationState=VF(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();yv(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let UF=0;class jF extends ho{constructor(){super(...arguments),this.id=UF++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const GF={animation:{Feature:HF},exit:{Feature:jF}};function sf(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}function og(n){return{point:{x:n.pageX,y:n.pageY}}}const qF=n=>t=>Uw(t)&&n(t,og(t));function Od(n,t,e,i){return sf(n,t,qF(e),i)}function lD({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function XF({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function YF(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}const uD=1e-4,$F=1-uD,KF=1+uD,cD=.01,WF=0-cD,QF=0+cD;function An(n){return n.max-n.min}function ZF(n,t,e){return Math.abs(n-t)<=e}function AT(n,t,e,i=.5){n.origin=i,n.originPoint=Kt(t.min,t.max,n.origin),n.scale=An(e)/An(t),n.translate=Kt(e.min,e.max,n.origin)-n.originPoint,(n.scale>=$F&&n.scale<=KF||isNaN(n.scale))&&(n.scale=1),(n.translate>=WF&&n.translate<=QF||isNaN(n.translate))&&(n.translate=0)}function Pd(n,t,e,i){AT(n.x,t.x,e.x,i?i.originX:void 0),AT(n.y,t.y,e.y,i?i.originY:void 0)}function ST(n,t,e){n.min=e.min+t.min,n.max=n.min+An(t)}function JF(n,t,e){ST(n.x,t.x,e.x),ST(n.y,t.y,e.y)}function wT(n,t,e){n.min=t.min-e.min,n.max=n.min+An(t)}function Nd(n,t,e){wT(n.x,t.x,e.x),wT(n.y,t.y,e.y)}const ET=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ou=()=>({x:ET(),y:ET()}),TT=()=>({min:0,max:0}),le=()=>({x:TT(),y:TT()});function hi(n){return[n("x"),n("y")]}function w0(n){return n===void 0||n===1}function Kb({scale:n,scaleX:t,scaleY:e}){return!w0(n)||!w0(t)||!w0(e)}function bo(n){return Kb(n)||hD(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function hD(n){return xT(n.x)||xT(n.y)}function xT(n){return n&&n!=="0%"}function wy(n,t,e){const i=n-e,s=t*i;return e+s}function _T(n,t,e,i,s){return s!==void 0&&(n=wy(n,s,i)),wy(n,e,i)+t}function Wb(n,t=0,e=1,i,s){n.min=_T(n.min,t,e,i,s),n.max=_T(n.max,t,e,i,s)}function dD(n,{x:t,y:e}){Wb(n.x,t.translate,t.scale,t.originPoint),Wb(n.y,e.translate,e.scale,e.originPoint)}const CT=.999999999999,RT=1.0000000000001;function tV(n,t,e,i=!1){const s=e.length;if(!s)return;t.x=t.y=1;let a,r;for(let o=0;o<s;o++){a=e[o],r=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Nu(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,dD(n,r)),i&&bo(a.latestValues)&&Nu(n,a.latestValues))}t.x<RT&&t.x>CT&&(t.x=1),t.y<RT&&t.y>CT&&(t.y=1)}function Pu(n,t){n.min=n.min+t,n.max=n.max+t}function MT(n,t,e,i,s=.5){const a=Kt(n.min,n.max,s);Wb(n,t,e,a,i)}function Nu(n,t){MT(n.x,t.x,t.scaleX,t.scale,t.originX),MT(n.y,t.y,t.scaleY,t.scale,t.originY)}function fD(n,t){return lD(YF(n.getBoundingClientRect(),t))}function eV(n,t,e){const i=fD(n,e),{scroll:s}=t;return s&&(Pu(i.x,s.offset.x),Pu(i.y,s.offset.y)),i}const pD=({current:n})=>n?n.ownerDocument.defaultView:null,DT=(n,t)=>Math.abs(n-t);function nV(n,t){const e=DT(n.x,t.x),i=DT(n.y,t.y);return Math.sqrt(e**2+i**2)}class gD{constructor(t,e,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:r=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=T0(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=nV(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!y)return;const{point:m}=f,{timestamp:S}=Ge;this.history.push({...m,timestamp:S});const{onStart:g,onMove:b}=this.handlers;p||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=E0(p,this.transformPagePoint),qt.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:y,onSessionEnd:m,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=T0(f.type==="pointercancel"?this.lastMoveEventInfo:E0(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,g),m&&m(f,g)},!Uw(t))return;this.dragSnapToOrigin=a,this.handlers=e,this.transformPagePoint=i,this.distanceThreshold=r,this.contextWindow=s||window;const o=og(t),l=E0(o,this.transformPagePoint),{point:c}=l,{timestamp:h}=Ge;this.history=[{...c,timestamp:h}];const{onSessionStart:d}=e;d&&d(t,T0(l,this.history)),this.removeListeners=sg(Od(this.contextWindow,"pointermove",this.handlePointerMove),Od(this.contextWindow,"pointerup",this.handlePointerUp),Od(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),no(this.updatePoint)}}function E0(n,t){return t?{point:t(n.point)}:n}function LT(n,t){return{x:n.x-t.x,y:n.y-t.y}}function T0({point:n},t){return{point:n,delta:LT(n,mD(t)),offset:LT(n,iV(t)),velocity:sV(t,.1)}}function iV(n){return n[0]}function mD(n){return n[n.length-1]}function sV(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const s=mD(n);for(;e>=0&&(i=n[e],!(s.timestamp-i.timestamp>Ls(t)));)e--;if(!i)return{x:0,y:0};const a=Os(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const r={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function aV(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?Kt(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?Kt(e,n,i.max):Math.min(n,e)),n}function OT(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function rV(n,{top:t,left:e,bottom:i,right:s}){return{x:OT(n.x,e,s),y:OT(n.y,t,i)}}function PT(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function oV(n,t){return{x:PT(n.x,t.x),y:PT(n.y,t.y)}}function lV(n,t){let e=.5;const i=An(n),s=An(t);return s>i?e=Qd(t.min,t.max-i,n.min):i>s&&(e=Qd(n.min,n.max-s,t.min)),Va(0,1,e)}function uV(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const Qb=.35;function cV(n=Qb){return n===!1?n=0:n===!0&&(n=Qb),{x:NT(n,"left","right"),y:NT(n,"top","bottom")}}function NT(n,t,e){return{min:kT(n,t),max:kT(n,e)}}function kT(n,t){return typeof n=="number"?n:n[t]||0}const hV=new WeakMap;class dV{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=le(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(og(d).point)},r=(d,f)=>{const{drag:p,dragPropagation:y,onDragStart:m}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=M3(p),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hi(g=>{let b=this.getAxisMotionValue(g).get()||0;if(Ps.test(b)){const{projection:A}=this.visualElement;if(A&&A.layout){const T=A.layout.layoutBox[g];T&&(b=An(T)*(parseFloat(b)/100))}}this.originPoint[g]=b}),m&&qt.postRender(()=>m(d,f)),Yb(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:m,onDrag:S}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:g}=f;if(y&&this.currentDirection===null){this.currentDirection=fV(g),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),S&&S(d,f)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>hi(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new gD(t,{onSessionStart:a,onStart:r,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:i,contextWindow:pD(this.visualElement)})}stop(t,e){const i=t||this.latestPointerEvent,s=e||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!i)return;const{velocity:r}=s;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&qt.postRender(()=>o(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:s}=this.getProps();if(!i||!Fg(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let r=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(r=aV(r,this.constraints[t],this.elastic[t])),a.set(r)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;t&&Lu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=rV(i.layoutBox,t):this.constraints=!1,this.elastic=cV(e),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&hi(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=uV(i.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Lu(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=eV(i,s.root,this.visualElement.getTransformPagePoint());let r=oV(s.layout.layoutBox,a);if(e){const o=e(XF(r));this.hasMutatedConstraints=!!o,o&&(r=lD(o))}return r}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:r,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=hi(h=>{if(!Fg(h,e,this.currentDirection))return;let d=l&&l[h]||{};r&&(d={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,y={type:"inertia",velocity:i?t[h]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...d};return this.startAxisValueAnimation(h,y)});return Promise.all(c).then(o)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return Yb(this.visualElement,t),i.start(Qw(t,i,0,e,this.visualElement,!1))}stopAnimation(){hi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){hi(t=>{var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[e];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){hi(e=>{const{drag:i}=this.getProps();if(!Fg(e,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(e);if(s&&s.layout){const{min:r,max:o}=s.layout.layoutBox[e];a.set(t[e]-Kt(r,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Lu(e)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};hi(r=>{const o=this.getAxisMotionValue(r);if(o&&this.constraints!==!1){const l=o.get();s[r]=lV({min:l,max:l},this.constraints[r])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),hi(r=>{if(!Fg(r,t,null))return;const o=this.getAxisMotionValue(r),{min:l,max:c}=this.constraints[r];o.set(Kt(l,c,s[r]))})}addListeners(){if(!this.visualElement.current)return;hV.set(this.visualElement,this);const t=this.visualElement.current,e=Od(t,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Lu(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),qt.read(i);const r=sf(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(hi(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{r(),e(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:r=Qb,dragMomentum:o=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:r,dragMomentum:o}}}function Fg(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function fV(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class pV extends ho{constructor(t){super(t),this.removeGroupControls=Mi,this.removeListeners=Mi,this.controls=new dV(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mi}unmount(){this.removeGroupControls(),this.removeListeners()}}const BT=n=>(t,e)=>{n&&qt.postRender(()=>n(t,e))};class gV extends ho{constructor(){super(...arguments),this.removePointerDownListener=Mi}onPointerDown(t){this.session=new gD(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pD(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:BT(t),onStart:BT(e),onMove:i,onEnd:(a,r)=>{delete this.session,s&&qt.postRender(()=>s(a,r))}}}mount(){this.removePointerDownListener=Od(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IT(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Vh={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if($.test(n))n=parseFloat(n);else return n;const e=IT(n,t.target.x),i=IT(n,t.target.y);return`${e}% ${i}%`}},mV={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,s=io.parse(n);if(s.length>5)return i;const a=io.createTransformer(n),r=typeof s[0]!="number"?1:0,o=e.x.scale*t.x,l=e.y.scale*t.y;s[0+r]/=o,s[1+r]/=l;const c=Kt(o,l,.5);return typeof s[2+r]=="number"&&(s[2+r]/=c),typeof s[3+r]=="number"&&(s[3+r]/=c),a(s)}};let FT=!1;class yV extends R.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=t;eF(vV),a&&(e.group&&e.group.add(a),i&&i.register&&s&&i.register(a),FT&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),cm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:s,isPresent:a}=this.props,{projection:r}=i;return r&&(r.isPresent=a,FT=!0,s||t.layoutDependency!==e||e===void 0||t.isPresent!==a?r.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?r.promote():r.relegate()||qt.postRender(()=>{const o=r.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Hw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function yD(n){const[t,e]=F3(),i=R.useContext(JR);return I.jsx(yV,{...n,layoutGroup:i,switchLayoutGroup:R.useContext(KM),isPresent:t,safeToRemove:e})}const vV={borderRadius:{...Vh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vh,borderTopRightRadius:Vh,borderBottomLeftRadius:Vh,borderBottomRightRadius:Vh,boxShadow:mV};function bV(n,t,e){const i=ln(n)?n:fh(n);return i.start(Qw("",i,t,e)),i.animation}const AV=(n,t)=>n.depth-t.depth;class SV{constructor(){this.children=[],this.isDirty=!1}add(t){ww(this.children,t),this.isDirty=!0}remove(t){Ew(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(AV),this.isDirty=!1,this.children.forEach(t)}}function wV(n,t){const e=Pn.now(),i=({timestamp:s})=>{const a=s-e;a>=t&&(no(i),n(a-t))};return qt.setup(i,!0),()=>no(i)}const vD=["TopLeft","TopRight","BottomLeft","BottomRight"],EV=vD.length,VT=n=>typeof n=="string"?parseFloat(n):n,zT=n=>typeof n=="number"||$.test(n);function TV(n,t,e,i,s,a){s?(n.opacity=Kt(0,e.opacity??1,xV(i)),n.opacityExit=Kt(t.opacity??1,0,_V(i))):a&&(n.opacity=Kt(t.opacity??1,e.opacity??1,i));for(let r=0;r<EV;r++){const o=`border${vD[r]}Radius`;let l=HT(t,o),c=HT(e,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||zT(l)===zT(c)?(n[o]=Math.max(Kt(VT(l),VT(c),i),0),(Ps.test(c)||Ps.test(l))&&(n[o]+="%")):n[o]=c}(t.rotate||e.rotate)&&(n.rotate=Kt(t.rotate||0,e.rotate||0,i))}function HT(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const xV=bD(0,.5,cM),_V=bD(.5,.95,Mi);function bD(n,t,e){return i=>i<n?0:i>t?1:e(Qd(n,t,i))}function UT(n,t){n.min=t.min,n.max=t.max}function ui(n,t){UT(n.x,t.x),UT(n.y,t.y)}function jT(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function GT(n,t,e,i,s){return n-=t,n=wy(n,1/e,i),s!==void 0&&(n=wy(n,1/s,i)),n}function CV(n,t=0,e=1,i=.5,s,a=n,r=n){if(Ps.test(t)&&(t=parseFloat(t),t=Kt(r.min,r.max,t/100)-r.min),typeof t!="number")return;let o=Kt(a.min,a.max,i);n===a&&(o-=t),n.min=GT(n.min,t,e,o,s),n.max=GT(n.max,t,e,o,s)}function qT(n,t,[e,i,s],a,r){CV(n,t[e],t[i],t[s],t.scale,a,r)}const RV=["x","scaleX","originX"],MV=["y","scaleY","originY"];function XT(n,t,e,i){qT(n.x,t,RV,e?e.x:void 0,i?i.x:void 0),qT(n.y,t,MV,e?e.y:void 0,i?i.y:void 0)}function YT(n){return n.translate===0&&n.scale===1}function AD(n){return YT(n.x)&&YT(n.y)}function $T(n,t){return n.min===t.min&&n.max===t.max}function DV(n,t){return $T(n.x,t.x)&&$T(n.y,t.y)}function KT(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function SD(n,t){return KT(n.x,t.x)&&KT(n.y,t.y)}function WT(n){return An(n.x)/An(n.y)}function QT(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class LV{constructor(){this.members=[]}add(t){ww(this.members,t),t.scheduleRender()}remove(t){if(Ew(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let i;for(let s=e;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function OV(n,t,e){let i="";const s=n.x.translate/t.x,a=n.y.translate/t.y,r=(e==null?void 0:e.z)||0;if((s||a||r)&&(i=`translate3d(${s}px, ${a}px, ${r}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:f,skewX:p,skewY:y}=e;c&&(i=`perspective(${c}px) ${i}`),h&&(i+=`rotate(${h}deg) `),d&&(i+=`rotateX(${d}deg) `),f&&(i+=`rotateY(${f}deg) `),p&&(i+=`skewX(${p}deg) `),y&&(i+=`skewY(${y}deg) `)}const o=n.x.scale*t.x,l=n.y.scale*t.y;return(o!==1||l!==1)&&(i+=`scale(${o}, ${l})`),i||"none"}const x0=["","X","Y","Z"],PV=1e3;let NV=0;function _0(n,t,e,i){const{latestValues:s}=t;s[n]&&(e[n]=s[n],t.setStaticValue(n,0),i&&(i[n]=0))}function wD(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=sD(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",qt,!(s||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&wD(i)}function ED({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(r={},o=t==null?void 0:t()){this.id=NV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(IV),this.nodes.forEach(HV),this.nodes.forEach(UV),this.nodes.forEach(FV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new SV)}addEventListener(r,o){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new _w),this.eventHandlers.get(r).add(o)}notifyListeners(r,...o){const l=this.eventHandlers.get(r);l&&l.notify(...o)}hasListeners(r){return this.eventHandlers.has(r)}mount(r){if(this.instance)return;this.isSVG=jM(r)&&!k3(r),this.instance=r;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),n){let h,d=0;const f=()=>this.root.updateBlockedByResize=!1;qt.read(()=>{d=window.innerWidth}),n(r,()=>{const p=window.innerWidth;p!==d&&(d=p,this.root.updateBlockedByResize=!0,h&&h(),h=wV(f,250),cm.hasAnimatedSinceResize&&(cm.hasAnimatedSinceResize=!1,this.nodes.forEach(tx)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||YV,{onLayoutAnimationStart:m,onLayoutAnimationComplete:S}=c.getProps(),g=!this.targetLayout||!SD(this.targetLayout,p),b=!d&&f;if(this.options.layoutRoot||this.resumeFrom||b||d&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...Vw(y,"layout"),onPlay:m,onComplete:S};(c.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(h,b)}else d||tx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),no(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jV),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(JT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(zV),this.nodes.forEach(kV),this.nodes.forEach(BV)):this.nodes.forEach(JT),this.clearAllSnapshots();const o=Pn.now();Ge.delta=Va(0,1e3/60,o-Ge.timestamp),Ge.timestamp=o,Ge.isProcessing=!0,m0.update.process(Ge),m0.preRender.process(Ge),m0.render.process(Ge),Ge.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(VV),this.sharedNodes.forEach(GV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!An(this.snapshot.measuredBox.x)&&!An(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutCorrected=le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(o=!1),o&&this.instance){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:l,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!AD(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;r&&this.instance&&(o||bo(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return r&&(l=this.removeTransform(l)),$V(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:r}=this.options;if(!r)return le();const o=r.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(KV))){const{scroll:h}=this.root;h&&(Pu(o.x,h.offset.x),Pu(o.y,h.offset.y))}return o}removeElementScroll(r){var l;const o=le();if(ui(o,r),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:f}=h;h!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&ui(o,r),Pu(o.x,d.offset.x),Pu(o.y,d.offset.y))}return o}applyTransform(r,o=!1){const l=le();ui(l,r);for(let c=0;c<this.path.length;c++){const h=this.path[c];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Nu(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),bo(h.latestValues)&&Nu(l,h.latestValues)}return bo(this.latestValues)&&Nu(l,this.latestValues),l}removeTransform(r){const o=le();ui(o,r);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!bo(c.latestValues))continue;Kb(c.latestValues)&&c.updateSnapshot();const h=le(),d=c.measurePageBox();ui(h,d),XT(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return bo(this.latestValues)&&XT(o,this.latestValues),o}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ge.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var f;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(r||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=Ge.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=le(),this.relativeTargetOrigin=le(),Nd(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ui(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=le(),this.targetWithTransforms=le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),JF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ui(this.target,this.layout.layoutBox),dD(this.target,this.targetDelta)):ui(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=le(),this.relativeTargetOrigin=le(),Nd(this.relativeTargetOrigin,this.target,p.target),ui(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Kb(this.parent.latestValues)||hD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const r=this.getLead(),o=!!this.resumingFrom||this!==r;let l=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ge.timestamp&&(l=!1),l)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;ui(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;tV(this.layoutCorrected,this.treeScale,this.path,o),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=le());const{target:p}=r;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jT(this.prevProjectionDelta.x,this.projectionDelta.x),jT(this.prevProjectionDelta.y,this.projectionDelta.y)),Pd(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!QT(this.projectionDelta.x,this.prevProjectionDelta.x)||!QT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),r){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ou(),this.projectionDelta=Ou(),this.projectionDeltaWithTransform=Ou()}setAnimationOrigin(r,o=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=Ou();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=le(),p=l?l.source:void 0,y=this.layout?this.layout.source:void 0,m=p!==y,S=this.getStack(),g=!S||S.members.length<=1,b=!!(m&&!g&&this.options.crossfade===!0&&!this.path.some(XV));this.animationProgress=0;let A;this.mixTargetDelta=T=>{const x=T/1e3;ex(d.x,r.x,x),ex(d.y,r.y,x),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nd(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qV(this.relativeTarget,this.relativeTargetOrigin,f,x),A&&DV(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=le()),ui(A,this.relativeTarget)),m&&(this.animationValues=h,TV(h,c,this.latestValues,x,b,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(no(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qt.update(()=>{cm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=fh(0)),this.currentAnimation=bV(this.motionValue,[0,1e3],{...r,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),r.onUpdate&&r.onUpdate(h)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(PV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:h}=r;if(!(!o||!l||!c)){if(this!==r&&this.layout&&c&&TD(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||le();const d=An(this.layout.layoutBox.x);l.x.min=r.target.x.min,l.x.max=l.x.min+d;const f=An(this.layout.layoutBox.y);l.y.min=r.target.y.min,l.y.max=l.y.min+f}ui(o,l),Nu(o,h),Pd(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(r,o){this.sharedNodes.has(r)||this.sharedNodes.set(r,new LV),this.sharedNodes.get(r).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var o;const{layoutId:r}=this.options;return r?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:r}=this.options;return r?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),r&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let o=!1;const{latestValues:l}=r;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&_0("z",r,c,this.animationValues);for(let h=0;h<x0.length;h++)_0(`rotate${x0[h]}`,r,c,this.animationValues),_0(`skew${x0[h]}`,r,c,this.animationValues);r.render();for(const h in c)r.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);r.scheduleRender()}applyProjectionStyles(r,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){r.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,r.visibility="",r.opacity="",r.pointerEvents=um(o==null?void 0:o.pointerEvents)||"",r.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(r.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,r.pointerEvents=um(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!bo(this.latestValues)&&(r.transform=l?l({},""):"none",this.hasProjected=!1);return}r.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=OV(this.projectionDeltaWithTransform,this.treeScale,h);l&&(d=l(h,d)),r.transform=d;const{x:f,y:p}=this.projectionDelta;r.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,c.animationValues?r.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:r.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in ef){if(h[y]===void 0)continue;const{correct:m,applyTo:S,isCSSVariable:g}=ef[y],b=d==="none"?h[y]:m(h[y],c);if(S){const A=S.length;for(let T=0;T<A;T++)r[S[T]]=b}else g?this.options.visualElement.renderState.vars[y]=b:r[y]=b}this.options.layoutId&&(r.pointerEvents=c===this?um(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var o;return(o=r.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(ZT),this.root.sharedNodes.clear()}}}function kV(n){n.updateLayout()}function BV(n){var e;const t=((e=n.resumeFrom)==null?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:a}=n.options,r=t.source!==n.layout.source;a==="size"?hi(d=>{const f=r?t.measuredBox[d]:t.layoutBox[d],p=An(f);f.min=i[d].min,f.max=f.min+p}):TD(a,t.layoutBox,i)&&hi(d=>{const f=r?t.measuredBox[d]:t.layoutBox[d],p=An(i[d]);f.max=f.min+p,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+p)});const o=Ou();Pd(o,i,t.layoutBox);const l=Ou();r?Pd(l,n.applyTransform(s,!0),t.measuredBox):Pd(l,i,t.layoutBox);const c=!AD(o);let h=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const y=le();Nd(y,t.layoutBox,f.layoutBox);const m=le();Nd(m,i,p.layoutBox),SD(y,m)||(h=!0),d.options.layoutRoot&&(n.relativeTarget=m,n.relativeTargetOrigin=y,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function IV(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function FV(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function VV(n){n.clearSnapshot()}function ZT(n){n.clearMeasurements()}function JT(n){n.isLayoutDirty=!1}function zV(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function tx(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function HV(n){n.resolveTargetDelta()}function UV(n){n.calcProjection()}function jV(n){n.resetSkewAndRotation()}function GV(n){n.removeLeadSnapshot()}function ex(n,t,e){n.translate=Kt(t.translate,0,e),n.scale=Kt(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function nx(n,t,e,i){n.min=Kt(t.min,e.min,i),n.max=Kt(t.max,e.max,i)}function qV(n,t,e,i){nx(n.x,t.x,e.x,i),nx(n.y,t.y,e.y,i)}function XV(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const YV={duration:.45,ease:[.4,0,.1,1]},ix=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),sx=ix("applewebkit/")&&!ix("chrome/")?Math.round:Mi;function ax(n){n.min=sx(n.min),n.max=sx(n.max)}function $V(n){ax(n.x),ax(n.y)}function TD(n,t,e){return n==="position"||n==="preserve-aspect"&&!ZF(WT(t),WT(e),.2)}function KV(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const WV=ED({attachResizeListener:(n,t)=>sf(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),C0={current:void 0},xD=ED({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!C0.current){const n=new WV({});n.mount(window),n.setOptions({layoutScroll:!0}),C0.current=n}return C0.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),QV={pan:{Feature:gV},drag:{Feature:pV,ProjectionNode:xD,MeasureLayout:yD}};function rx(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,a=i[s];a&&qt.postRender(()=>a(t,og(t)))}class ZV extends ho{mount(){const{current:t}=this.node;t&&(this.unmount=D3(t,(e,i)=>(rx(this.node,i,"Start"),s=>rx(this.node,s,"End"))))}unmount(){}}class JV extends ho{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sg(sf(this.node.current,"focus",()=>this.onFocus()),sf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ox(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),a=i[s];a&&qt.postRender(()=>a(t,og(t)))}class tz extends ho{mount(){const{current:t}=this.node;t&&(this.unmount=N3(t,(e,i)=>(ox(this.node,i,"Start"),(s,{success:a})=>ox(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Zb=new WeakMap,R0=new WeakMap,ez=n=>{const t=Zb.get(n.target);t&&t(n)},nz=n=>{n.forEach(ez)};function iz({root:n,...t}){const e=n||document;R0.has(e)||R0.set(e,{});const i=R0.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(nz,{root:n,...t})),i[s]}function sz(n,t,e){const i=iz(t);return Zb.set(n,e),i.observe(n),()=>{Zb.delete(n),i.unobserve(n)}}const az={some:0,all:1};class rz extends ho{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:a}=t,r={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:az[s]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=c?h:d;f&&f(l)};return sz(this.node.current,r,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(oz(t,e))&&this.startObserver()}unmount(){}}function oz({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const lz={inView:{Feature:rz},tap:{Feature:tz},focus:{Feature:JV},hover:{Feature:ZV}},uz={layout:{ProjectionNode:xD,MeasureLayout:yD}},Jb={current:null},_D={current:!1};function cz(){if(_D.current=!0,!!Aw)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Jb.current=n.matches;n.addEventListener("change",t),t()}else Jb.current=!1}const hz=new WeakMap;function dz(n,t,e){for(const i in t){const s=t[i],a=e[i];if(ln(s))n.addValue(i,s);else if(ln(a))n.addValue(i,fh(s,{owner:n}));else if(a!==s)if(n.hasValue(i)){const r=n.getValue(i);r.liveStyle===!0?r.jump(s):r.hasAnimated||r.set(s)}else{const r=n.getStaticValue(i);n.addValue(i,fh(r!==void 0?r:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const lx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fz{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:r},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Pn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,qt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=r;this.latestValues=l,this.baseTarget={...l},this.initialValues=e.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=vv(e),this.isVariantNode=YM(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(e,{},this);for(const f in d){const p=d[f];l[f]!==void 0&&ln(p)&&p.set(l[f],!1)}}mount(t){this.current=t,hz.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),_D.current||cz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),no(this.notifyUpdate),no(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Ch.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=e.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&qt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=e.on("renderRequest",this.scheduleRender);let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),a(),r&&r(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ph){const e=ph[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):le()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<lx.length;i++){const s=lx[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,r=t[a];r&&(this.propEventSubscriptions[s]=this.on(s,r))}this.prevMotionValues=dz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=fh(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(tM(i)||nM(i))?i=parseFloat(i):!I3(i)&&io.test(e)&&(i=FM(t,e)),this.setBaseTarget(t,ln(i)?i.get():i)),ln(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var a;const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const r=Kw(this.props,e,(a=this.presenceContext)==null?void 0:a.custom);r&&(i=r[t])}if(e&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ln(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new _w),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class CD extends fz{constructor(){super(...arguments),this.KeyframeResolver=x3}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ln(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function RD(n,{style:t,vars:e},i,s){const a=n.style;let r;for(r in t)a[r]=t[r];s==null||s.applyProjectionStyles(a,i);for(r in e)a.setProperty(r,e[r])}function pz(n){return window.getComputedStyle(n)}class gz extends CD{constructor(){super(...arguments),this.type="html",this.renderInstance=RD}readValueFromInstance(t,e){var i;if(Ch.has(e))return(i=this.projection)!=null&&i.isProjecting?zb(e):GI(t,e);{const s=pz(t),a=(Mw(e)?s.getPropertyValue(e):s[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return fD(t,e)}build(t,e,i){Xw(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return Ww(t,e,i)}}const MD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mz(n,t,e,i){RD(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(MD.has(s)?s:qw(s),t.attrs[s])}class yz extends CD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=le}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Ch.has(e)){const i=IM(e);return i&&i.default||0}return e=MD.has(e)?e:qw(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return iD(t,e,i)}build(t,e,i){JM(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,s){mz(t,e,i,s)}mount(t){this.isSVGTag=eD(t.tagName),super.mount(t)}}const vz=(n,t)=>$w(n)?new yz(t):new gz(t,{allowProjection:n!==R.Fragment}),bz=vF({...GF,...lz,...QV,...uz},vz),bv=j3(bz),yn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),tA=[.001,0,0,.001,0,0],M0=1.35,Zn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},xs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Az="pdfjs_internal_editor_",W={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},ct={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},DD={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Qe={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},kd={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ae={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},cu={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},lg={ERRORS:0,WARNINGS:1,INFOS:5},af={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Vg={moveTo:0,lineTo:1,curveTo:2,closePath:3},LD={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Av=lg.WARNINGS;function Sz(n){Number.isInteger(n)&&(Av=n)}function wz(){return Av}function Sv(n){Av>=lg.INFOS&&console.log(`Info: ${n}`)}function Z(n){Av>=lg.WARNINGS&&console.log(`Warning: ${n}`)}function Ct(n){throw new Error(n)}function me(n,t){n||Ct(t)}function Ez(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Zw(n,t=null,e=null){if(!n)return null;if(e&&typeof n=="string"){if(e.addDefaultProtocol&&n.startsWith("www.")){const s=n.match(/\./g);(s==null?void 0:s.length)>=2&&(n=`http://${n}`)}if(e.tryConvertEncoding)try{n=Rz(n)}catch{}}const i=t?URL.parse(n,t):URL.parse(n);return Ez(i)?i:null}function Jw(n,t,e=!1){const i=URL.parse(n);return i?(i.hash=t,i.href):e&&Zw(n,"http://example.com")?n.split("#",1)[0]+`${t?`#${t}`:""}`:""}function ut(n,t,e,i=!1){return Object.defineProperty(n,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const tu=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class ux extends tu{constructor(t,e){super(t,"PasswordException"),this.code=e}}class D0 extends tu{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Ey extends tu{constructor(t){super(t,"InvalidPDFException")}}class rf extends tu{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class Tz extends tu{constructor(t){super(t,"FormatError")}}class Ha extends tu{constructor(t){super(t,"AbortException")}}function OD(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Ct("Invalid argument for bytesToString");const t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);const i=[];for(let s=0;s<t;s+=e){const a=Math.min(s+e,t),r=n.subarray(s,a);i.push(String.fromCharCode.apply(null,r))}return i.join("")}function ug(n){typeof n!="string"&&Ct("Invalid argument for stringToBytes");const t=n.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=n.charCodeAt(i)&255;return e}function xz(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function _z(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function Cz(){try{return new Function(""),!0}catch{return!1}}class Fe{static get isLittleEndian(){return ut(this,"isLittleEndian",_z())}static get isEvalSupported(){return ut(this,"isEvalSupported",Cz())}static get isOffscreenCanvasSupported(){return ut(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return ut(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return ut(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){var t,e;return ut(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const L0=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Oa,hm,eA;class G{static makeHexColor(t,e,i){return`#${L0[t]}${L0[e]}${L0[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,i=0){const s=t[i],a=t[i+1];t[i]=s*e[0]+a*e[2]+e[4],t[i+1]=s*e[1]+a*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const s=e[0],a=e[1],r=e[2],o=e[3],l=e[4],c=e[5];for(let h=0;h<6;h+=2){const d=t[i+h],f=t[i+h+1];t[i+h]=d*s+f*r+l,t[i+h+1]=d*a+f*o+c}}static applyInverseTransform(t,e){const i=t[0],s=t[1],a=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-s*e[2]+e[2]*e[5]-e[4]*e[3])/a,t[1]=(-i*e[1]+s*e[0]+e[4]*e[1]-e[5]*e[0])/a}static axialAlignedBoundingBox(t,e,i){const s=e[0],a=e[1],r=e[2],o=e[3],l=e[4],c=e[5],h=t[0],d=t[1],f=t[2],p=t[3];let y=s*h+l,m=y,S=s*f+l,g=S,b=o*d+c,A=b,T=o*p+c,x=T;if(a!==0||r!==0){const C=a*h,_=a*f,M=r*d,L=r*p;y+=M,g+=M,S+=L,m+=L,b+=C,x+=C,T+=_,A+=_}i[0]=Math.min(i[0],y,S,m,g),i[1]=Math.min(i[1],b,T,A,x),i[2]=Math.max(i[2],y,S,m,g),i[3]=Math.max(i[3],b,T,A,x)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],s=t[1],a=t[2],r=t[3],o=i**2+s**2,l=i*a+s*r,c=a**2+r**2,h=(o+c)/2,d=Math.sqrt(h**2-(o*c-l**2));e[0]=Math.sqrt(h+d||1),e[1]=Math.sqrt(h-d||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>s)return null;const a=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),r=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return a>r?null:[i,a,s,r]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,s,a){a[0]=Math.min(a[0],t,i),a[1]=Math.min(a[1],e,s),a[2]=Math.max(a[2],t,i),a[3]=Math.max(a[3],e,s)}static bezierBoundingBox(t,e,i,s,a,r,o,l,c){c[0]=Math.min(c[0],t,o),c[1]=Math.min(c[1],e,l),c[2]=Math.max(c[2],t,o),c[3]=Math.max(c[3],e,l),E(this,Oa,eA).call(this,t,i,a,o,e,s,r,l,3*(-t+3*(i-a)+o),6*(t-2*i+a),3*(i-t),c),E(this,Oa,eA).call(this,t,i,a,o,e,s,r,l,3*(-e+3*(s-r)+l),6*(e-2*s+r),3*(s-e),c)}}Oa=new WeakSet,hm=function(t,e,i,s,a,r,o,l,c,h){if(c<=0||c>=1)return;const d=1-c,f=c*c,p=f*c,y=d*(d*(d*t+3*c*e)+3*f*i)+p*s,m=d*(d*(d*a+3*c*r)+3*f*o)+p*l;h[0]=Math.min(h[0],y),h[1]=Math.min(h[1],m),h[2]=Math.max(h[2],y),h[3]=Math.max(h[3],m)},eA=function(t,e,i,s,a,r,o,l,c,h,d,f){if(Math.abs(c)<1e-12){Math.abs(h)>=1e-12&&E(this,Oa,hm).call(this,t,e,i,s,a,r,o,l,-d/h,f);return}const p=h**2-4*d*c;if(p<0)return;const y=Math.sqrt(p),m=2*c;E(this,Oa,hm).call(this,t,e,i,s,a,r,o,l,(-h+y)/m,f),E(this,Oa,hm).call(this,t,e,i,s,a,r,o,l,(-h-y)/m,f)},w(G,Oa);function Rz(n){return decodeURIComponent(escape(n))}let O0=null,cx=null;function PD(n){return O0||(O0=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,cx=new Map([["ﬅ","ſt"]])),n.replaceAll(O0,(t,e,i)=>e?e.normalize("NFKC"):cx.get(i))}function tE(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),OD(n)}const eE="pdfjs_internal_id_";function Mz(n,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,s,...a]=e;if(!n(i)&&!Number.isInteger(i)||!t(s))return!1;const r=a.length;let o=!0;switch(s.name){case"XYZ":if(r<2||r>3)return!1;break;case"Fit":case"FitB":return r===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(r>1)return!1;break;case"FitR":if(r!==4)return!1;o=!1;break;default:return!1}for(const l of a)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function sn(n,t,e){return Math.min(Math.max(n,t),e)}function ND(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(OD(n))}function Dz(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):ug(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...t){return new Promise(e=>{e(n(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((t,e)=>t+e,0)});const js="http://www.w3.org/2000/svg",Eo=class Eo{};B(Eo,"CSS",96),B(Eo,"PDF",72),B(Eo,"PDF_TO_CSS_UNITS",Eo.CSS/Eo.PDF);let Ua=Eo;async function Rh(n,t="text"){if(Wh(n,document.baseURI)){const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}i(new Error(s.statusText))}},s.send(null)})}class cg{constructor({viewBox:t,userUnit:e,scale:i,rotation:s,offsetX:a=0,offsetY:r=0,dontFlip:o=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=s,this.offsetX=a,this.offsetY=r,i*=e;const l=(t[2]+t[0])/2,c=(t[3]+t[1])/2;let h,d,f,p;switch(s%=360,s<0&&(s+=360),s){case 180:h=-1,d=0,f=0,p=1;break;case 90:h=0,d=1,f=1,p=0;break;case 270:h=0,d=-1,f=-1,p=0;break;case 0:h=1,d=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(f=-f,p=-p);let y,m,S,g;h===0?(y=Math.abs(c-t[1])*i+a,m=Math.abs(l-t[0])*i+r,S=(t[3]-t[1])*i,g=(t[2]-t[0])*i):(y=Math.abs(l-t[0])*i+a,m=Math.abs(c-t[1])*i+r,S=(t[2]-t[0])*i,g=(t[3]-t[1])*i),this.transform=[h*i,d*i,f*i,p*i,y-h*i*l-f*i*c,m-d*i*l-p*i*c],this.width=S,this.height=g}get rawDims(){const t=this.viewBox;return ut(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:s=this.offsetY,dontFlip:a=!1}={}){return new cg({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:s,dontFlip:a})}convertToViewportPoint(t,e){const i=[t,e];return G.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];G.applyTransform(e,this.transform);const i=[t[2],t[3]];return G.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return G.applyInverseTransform(i,this.transform),i}}class wv extends tu{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function hg(n){const t=n.length;let e=0;for(;e<t&&n[e].trim()==="";)e++;return n.substring(e,e+5).toLowerCase()==="data:"}function Ev(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function kD(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function BD(n,t="document.pdf"){if(typeof n!="string")return t;if(hg(n))return Z('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=e.exec(n);let a=i.exec(s[1])||i.exec(s[2])||i.exec(s[3]);if(a&&(a=a[0],a.includes("%")))try{a=i.exec(decodeURIComponent(a))[0]}catch{}return a||t}class hx{constructor(){B(this,"started",Object.create(null));B(this,"times",[])}time(t){t in this.started&&Z(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Z(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:s,end:a}of this.times)t.push(`${i.padEnd(e)} ${a-s}ms
`);return t.join("")}}function Wh(n,t){const e=t?URL.parse(n,t):URL.parse(n);return(e==null?void 0:e.protocol)==="http:"||(e==null?void 0:e.protocol)==="https:"}function Pi(n){n.preventDefault()}function ce(n){n.preventDefault(),n.stopPropagation()}function Lz(n){console.log("Deprecated API usage: "+n)}var df;class Tv{static toDateObject(t){if(!t||typeof t!="string")return null;u(this,df)||v(this,df,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=u(this,df).exec(t);if(!e)return null;const i=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let a=parseInt(e[3],10);a=a>=1&&a<=31?a:1;let r=parseInt(e[4],10);r=r>=0&&r<=23?r:0;let o=parseInt(e[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;const c=e[7]||"Z";let h=parseInt(e[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(e[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(r+=h,o+=d):c==="+"&&(r-=h,o-=d),new Date(Date.UTC(i,s,a,r,o,l))}}df=new WeakMap,w(Tv,df);function ID(n,{scale:t=1,rotation:e=0}){const{width:i,height:s}=n.attributes.style,a=[0,0,parseInt(i),parseInt(s)];return new cg({viewBox:a,userUnit:1,scale:t,rotation:e})}function nE(n){if(n.startsWith("#")){const t=parseInt(n.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Z(`Not a valid color format: "${n}"`),[0,0,0])}function Oz(n){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of n.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;n.set(e,nE(i))}t.remove()}function $t(n){const{a:t,b:e,c:i,d:s,e:a,f:r}=n.getTransform();return[t,e,i,s,a,r]}function as(n){const{a:t,b:e,c:i,d:s,e:a,f:r}=n.getTransform().invertSelf();return[t,e,i,s,a,r]}function so(n,t,e=!1,i=!0){if(t instanceof cg){const{pageWidth:s,pageHeight:a}=t.rawDims,{style:r}=n,o=Fe.isCSSRoundSupported,l=`var(--total-scale-factor) * ${s}px`,c=`var(--total-scale-factor) * ${a}px`,h=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,d=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!e||t.rotation%180===0?(r.width=h,r.height=d):(r.width=d,r.height=h)}i&&n.setAttribute("data-main-rotation",t.rotation)}class Ji{constructor(){const{pixelRatio:t}=Ji;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,s,a=-1){let r=1/0,o=1/0,l=1/0;i=Ji.capPixels(i,a),i>0&&(r=Math.sqrt(i/(t*e))),s!==-1&&(o=s/t,l=s/e);const c=Math.min(r,o,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const Ty=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var sr,Co,di,ar,ff,Ku,pf,Ly,FD,Ke,VD,zD,Qh,HD,dm;const Xs=class Xs{constructor(t){w(this,Ke);w(this,sr,null);w(this,Co,null);w(this,di);w(this,ar,null);w(this,ff,null);w(this,Ku,null);v(this,di,t),u(Xs,pf)||v(Xs,pf,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=v(this,sr,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=u(this,di)._uiManager._signal;t.addEventListener("contextmenu",Pi,{signal:e}),t.addEventListener("pointerdown",E(Xs,Ly,FD),{signal:e});const i=v(this,ar,document.createElement("div"));i.className="buttons",t.append(i);const s=u(this,di).toolbarPosition;if(s){const{style:a}=t,r=u(this,di)._uiManager.direction==="ltr"?1-s[0]:s[0];a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return E(this,Ke,HD).call(this),t}get div(){return u(this,sr)}hide(){var t;u(this,sr).classList.add("hidden"),(t=u(this,Co))==null||t.hideDropdown()}show(){var t;u(this,sr).classList.remove("hidden"),(t=u(this,ff))==null||t.shown()}async addAltText(t){const e=await t.render();E(this,Ke,Qh).call(this,e),u(this,ar).prepend(e,u(this,Ke,dm)),v(this,ff,t)}addColorPicker(t){v(this,Co,t);const e=t.renderButton();E(this,Ke,Qh).call(this,e),u(this,ar).prepend(e,u(this,Ke,dm))}async addEditSignatureButton(t){const e=v(this,Ku,await t.renderEditButton(u(this,di)));E(this,Ke,Qh).call(this,e),u(this,ar).prepend(e,u(this,Ke,dm))}updateEditSignatureButton(t){u(this,Ku)&&(u(this,Ku).title=t)}remove(){var t;u(this,sr).remove(),(t=u(this,Co))==null||t.destroy(),v(this,Co,null)}};sr=new WeakMap,Co=new WeakMap,di=new WeakMap,ar=new WeakMap,ff=new WeakMap,Ku=new WeakMap,pf=new WeakMap,Ly=new WeakSet,FD=function(t){t.stopPropagation()},Ke=new WeakSet,VD=function(t){u(this,di)._focusEventsAllowed=!1,ce(t)},zD=function(t){u(this,di)._focusEventsAllowed=!0,ce(t)},Qh=function(t){const e=u(this,di)._uiManager._signal;t.addEventListener("focusin",E(this,Ke,VD).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",E(this,Ke,zD).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Pi,{signal:e})},HD=function(){const{editorType:t,_uiManager:e}=u(this,di),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",u(Xs,pf)[t]),E(this,Ke,Qh).call(this,i),i.addEventListener("click",s=>{e.delete()},{signal:e._signal}),u(this,ar).append(i)},dm=function(){const t=document.createElement("div");return t.className="divider",t},w(Xs,Ly),w(Xs,pf,null);let nA=Xs;var gf,Ro,Mo,ro,UD,jD,GD;class Pz{constructor(t){w(this,ro);w(this,gf,null);w(this,Ro,null);w(this,Mo);v(this,Mo,t)}show(t,e,i){const[s,a]=E(this,ro,jD).call(this,e,i),{style:r}=u(this,Ro)||v(this,Ro,E(this,ro,UD).call(this));t.append(u(this,Ro)),r.insetInlineEnd=`${100*s}%`,r.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,Ro).remove()}}gf=new WeakMap,Ro=new WeakMap,Mo=new WeakMap,ro=new WeakSet,UD=function(){const t=v(this,Ro,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Pi,{signal:u(this,Mo)._signal});const e=v(this,gf,document.createElement("div"));return e.className="buttons",t.append(e),E(this,ro,GD).call(this),t},jD=function(t,e){let i=0,s=0;for(const a of t){const r=a.y+a.height;if(r<i)continue;const o=a.x+(e?a.width:0);if(r>i){s=o,i=r;continue}e?o>s&&(s=o):o<s&&(s=o)}return[e?1-s:s,i]},GD=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=u(this,Mo)._signal;t.addEventListener("contextmenu",Pi,{signal:i}),t.addEventListener("click",()=>{u(this,Mo).highlightSelection("floating_button")},{signal:i}),u(this,gf).append(t)};function qD(n,t,e){for(const i of e)t.addEventListener(i,n[i].bind(n))}var Oy;class Nz{constructor(){w(this,Oy,0)}get id(){return`${Az}${hn(this,Oy)._++}`}}Oy=new WeakMap;var Wu,mf,Je,Qu,fm;const fE=class fE{constructor(){w(this,Qu);w(this,Wu,tE());w(this,mf,0);w(this,Je,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=t;const a=s.decode().then(()=>(i.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return ut(this,"_isSVGFittingCanvas",a)}async getFromFile(t){const{lastModified:e,name:i,size:s,type:a}=t;return E(this,Qu,fm).call(this,`${e}_${i}_${s}_${a}`,t)}async getFromUrl(t){return E(this,Qu,fm).call(this,t,t)}async getFromBlob(t,e){const i=await e;return E(this,Qu,fm).call(this,t,i)}async getFromId(t){u(this,Je)||v(this,Je,new Map);const e=u(this,Je).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){u(this,Je)||v(this,Je,new Map);let i=u(this,Je).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),i={bitmap:s.transferToImageBitmap(),id:`image_${u(this,Wu)}_${hn(this,mf)._++}`,refCounter:1,isSvg:!1},u(this,Je).set(t,i),u(this,Je).set(i.id,i),i}getSvgUrl(t){const e=u(this,Je).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var s;u(this,Je)||v(this,Je,new Map);const e=u(this,Je).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const a=new OffscreenCanvas(i.width,i.height);a.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=a.convertToBlob()}(s=i.close)==null||s.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${u(this,Wu)}_`)}};Wu=new WeakMap,mf=new WeakMap,Je=new WeakMap,Qu=new WeakSet,fm=async function(t,e){u(this,Je)||v(this,Je,new Map);let i=u(this,Je).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${u(this,Wu)}_${hn(this,mf)._++}`,refCounter:0,isSvg:!1});let s;if(typeof e=="string"?(i.url=e,s=await Rh(e,"blob")):e instanceof File?s=i.file=e:e instanceof Blob&&(s=e),s.type==="image/svg+xml"){const a=fE._isSVGFittingCanvas,r=new FileReader,o=new Image,l=new Promise((c,h)=>{o.onload=()=>{i.bitmap=o,i.isSvg=!0,c()},r.onload=async()=>{const d=i.svgUrl=r.result;o.src=await a?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=r.onerror=h});r.readAsDataURL(s),await l}else i.bitmap=await createImageBitmap(s);i.refCounter=1}catch(s){Z(s),i=null}return u(this,Je).set(t,i),i&&u(this,Je).set(i.id,i),i};let iA=fE;var re,rr,yf,Yt;class kz{constructor(t=128){w(this,re,[]);w(this,rr,!1);w(this,yf);w(this,Yt,-1);v(this,yf,t)}add({cmd:t,undo:e,post:i,mustExec:s,type:a=NaN,overwriteIfSameType:r=!1,keepUndo:o=!1}){if(s&&t(),u(this,rr))return;const l={cmd:t,undo:e,post:i,type:a};if(u(this,Yt)===-1){u(this,re).length>0&&(u(this,re).length=0),v(this,Yt,0),u(this,re).push(l);return}if(r&&u(this,re)[u(this,Yt)].type===a){o&&(l.undo=u(this,re)[u(this,Yt)].undo),u(this,re)[u(this,Yt)]=l;return}const c=u(this,Yt)+1;c===u(this,yf)?u(this,re).splice(0,1):(v(this,Yt,c),c<u(this,re).length&&u(this,re).splice(c)),u(this,re).push(l)}undo(){if(u(this,Yt)===-1)return;v(this,rr,!0);const{undo:t,post:e}=u(this,re)[u(this,Yt)];t(),e==null||e(),v(this,rr,!1),v(this,Yt,u(this,Yt)-1)}redo(){if(u(this,Yt)<u(this,re).length-1){v(this,Yt,u(this,Yt)+1),v(this,rr,!0);const{cmd:t,post:e}=u(this,re)[u(this,Yt)];t(),e==null||e(),v(this,rr,!1)}}hasSomethingToUndo(){return u(this,Yt)!==-1}hasSomethingToRedo(){return u(this,Yt)<u(this,re).length-1}cleanType(t){if(u(this,Yt)!==-1){for(let e=u(this,Yt);e>=0;e--)if(u(this,re)[e].type!==t){u(this,re).splice(e+1,u(this,Yt)-e),v(this,Yt,e);return}u(this,re).length=0,v(this,Yt,-1)}}destroy(){v(this,re,null)}}re=new WeakMap,rr=new WeakMap,yf=new WeakMap,Yt=new WeakMap;var Py,XD;class dg{constructor(t){w(this,Py);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Fe.platform;for(const[i,s,a={}]of t)for(const r of i){const o=r.startsWith("mac+");e&&o?(this.callbacks.set(r.slice(4),{callback:s,options:a}),this.allKeys.add(r.split("+").at(-1))):!e&&!o&&(this.callbacks.set(r,{callback:s,options:a}),this.allKeys.add(r.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(E(this,Py,XD).call(this,e));if(!i)return;const{callback:s,options:{bubbles:a=!1,args:r=[],checker:o=null}}=i;o&&!o(t,e)||(s.bind(t,...r,e)(),a||ce(e))}}Py=new WeakSet,XD=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const Ny=class Ny{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return Oz(t),ut(this,"_colors",t)}convert(t){const e=nE(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,s]of this._colors)if(s.every((a,r)=>a===e[r]))return Ny._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?G.makeHexColor(...e):t}};B(Ny,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let sA=Ny;var Zu,Vn,Se,Ve,Ju,$s,tc,fi,or,lr,ec,Do,ls,Bi,Lo,vf,bf,nc,Af,us,ur,ic,cr,cs,ky,hr,Sf,dr,Oo,Po,fr,wf,Re,At,Ks,pr,No,Ef,Tf,gr,hs,Ws,xf,pi,F,pm,aA,YD,$D,gm,KD,WD,QD,rA,ZD,oA,lA,JD,dn,Gs,tL,eL,uA,nL,Zh,cA;const Bu=class Bu{constructor(t,e,i,s,a,r,o,l,c,h,d,f,p,y){w(this,F);w(this,Zu,new AbortController);w(this,Vn,null);w(this,Se,new Map);w(this,Ve,new Map);w(this,Ju,null);w(this,$s,null);w(this,tc,null);w(this,fi,new kz);w(this,or,null);w(this,lr,null);w(this,ec,0);w(this,Do,new Set);w(this,ls,null);w(this,Bi,null);w(this,Lo,new Set);B(this,"_editorUndoBar",null);w(this,vf,!1);w(this,bf,!1);w(this,nc,!1);w(this,Af,null);w(this,us,null);w(this,ur,null);w(this,ic,null);w(this,cr,!1);w(this,cs,null);w(this,ky,new Nz);w(this,hr,!1);w(this,Sf,!1);w(this,dr,null);w(this,Oo,null);w(this,Po,null);w(this,fr,null);w(this,wf,null);w(this,Re,W.NONE);w(this,At,new Set);w(this,Ks,null);w(this,pr,null);w(this,No,null);w(this,Ef,null);w(this,Tf,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});w(this,gr,[0,0]);w(this,hs,null);w(this,Ws,null);w(this,xf,null);w(this,pi,null);const m=this._signal=u(this,Zu).signal;v(this,Ws,t),v(this,xf,e),v(this,Ju,i),v(this,pr,s),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:m}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:m}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:m}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:m}),a._on("setpreference",this.onSetPreference.bind(this),{signal:m}),a._on("switchannotationeditorparams",S=>this.updateParams(S.type,S.value),{signal:m}),E(this,F,KD).call(this),E(this,F,JD).call(this),E(this,F,rA).call(this),v(this,$s,r.annotationStorage),v(this,Af,r.filterFactory),v(this,No,o),v(this,ic,l||null),v(this,vf,c),v(this,bf,h),v(this,nc,d),v(this,wf,f||null),this.viewParameters={realScale:Ua.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=p||null,this._supportsPinchToZoom=y!==!1}static get _keyboardManager(){const t=Bu.prototype,e=r=>u(r,Ws).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&r.hasSomethingToControl(),i=(r,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},s=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return ut(this,"_keyboardManager",new dg([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(r,{target:o})=>!(o instanceof HTMLButtonElement)&&u(r,Ws).contains(o)&&!r.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(r,{target:o})=>!(o instanceof HTMLButtonElement)&&u(r,Ws).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}]]))}destroy(){var t,e,i,s,a,r,o,l;(t=u(this,pi))==null||t.resolve(),v(this,pi,null),(e=u(this,Zu))==null||e.abort(),v(this,Zu,null),this._signal=null;for(const c of u(this,Ve).values())c.destroy();u(this,Ve).clear(),u(this,Se).clear(),u(this,Lo).clear(),(i=u(this,fr))==null||i.clear(),v(this,Vn,null),u(this,At).clear(),u(this,fi).destroy(),(s=u(this,Ju))==null||s.destroy(),(a=u(this,pr))==null||a.destroy(),(r=u(this,cs))==null||r.hide(),v(this,cs,null),(o=u(this,Po))==null||o.destroy(),v(this,Po,null),u(this,us)&&(clearTimeout(u(this,us)),v(this,us,null)),u(this,hs)&&(clearTimeout(u(this,hs)),v(this,hs,null)),(l=this._editorUndoBar)==null||l.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return u(this,wf)}get useNewAltTextFlow(){return u(this,bf)}get useNewAltTextWhenAddingImage(){return u(this,nc)}get hcmFilter(){return ut(this,"hcmFilter",u(this,No)?u(this,Af).addHCMFilter(u(this,No).foreground,u(this,No).background):"none")}get direction(){return ut(this,"direction",getComputedStyle(u(this,Ws)).direction)}get highlightColors(){return ut(this,"highlightColors",u(this,ic)?new Map(u(this,ic).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return ut(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),v(this,lr,t)}setMainHighlightColorPicker(t){v(this,Po,t)}editAltText(t,e=!1){var i;(i=u(this,Ju))==null||i.editAltText(this,t,e)}getSignature(t){var e;(e=u(this,pr))==null||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return u(this,pr)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":v(this,nc,e);break}}onPageChanging({pageNumber:t}){v(this,ec,t-1)}focusMainContainer(){u(this,Ws).focus()}findParent(t,e){for(const i of u(this,Ve).values()){const{x:s,y:a,width:r,height:o}=i.div.getBoundingClientRect();if(t>=s&&t<=s+r&&e>=a&&e<=a+o)return i}return null}disableUserSelect(t=!1){u(this,xf).classList.toggle("noUserSelect",t)}addShouldRescale(t){u(this,Lo).add(t)}removeShouldRescale(t){u(this,Lo).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*Ua.PDF_TO_CSS_UNITS;for(const i of u(this,Lo))i.onScaleChanging();(e=u(this,lr))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:r}=e,o=e.toString(),c=E(this,F,pm).call(this,e).closest(".textLayer"),h=this.getSelectionBoxes(c);if(!h)return;e.empty();const d=E(this,F,aA).call(this,c),f=u(this,Re)===W.NONE,p=()=>{d==null||d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:h,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:r,text:o}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(W.HIGHLIGHT,p);return}p()}addToAnnotationStorage(t){!t.isEmpty()&&u(this,$s)&&!u(this,$s).has(t.id)&&u(this,$s).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,u(this,cr)&&(v(this,cr,!1),E(this,F,gm).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of u(this,At))if(e.div.contains(t)){v(this,Oo,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!u(this,Oo))return;const[t,e]=u(this,Oo);v(this,Oo,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){E(this,F,rA).call(this),E(this,F,oA).call(this)}removeEditListeners(){E(this,F,ZD).call(this),E(this,F,lA).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of u(this,Bi))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of u(this,Bi))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=u(this,Vn))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const s of u(this,At)){const a=s.serialize(!0);a&&e.push(a)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const a of e.items)for(const r of u(this,Bi))if(r.isHandlingMimeForPasting(a.type)){r.paste(a,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(a){Z(`paste: "${a.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const s=this.currentLayer;try{const a=[];for(const l of i){const c=await s.deserialize(l);if(!c)return;a.push(c)}const r=()=>{for(const l of a)E(this,F,uA).call(this,l);E(this,F,cA).call(this,a)},o=()=>{for(const l of a)l.remove()};this.addCommands({cmd:r,undo:o,mustExec:!0})}catch(a){Z(`paste: "${a.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,Re)!==W.NONE&&!this.isEditorHandlingKeyboard&&Bu._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,cr)&&(v(this,cr,!1),E(this,F,gm).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(E(this,F,WD).call(this),E(this,F,oA).call(this),E(this,F,dn).call(this,{isEditing:u(this,Re)!==W.NONE,isEmpty:E(this,F,Zh).call(this),hasSomethingToUndo:u(this,fi).hasSomethingToUndo(),hasSomethingToRedo:u(this,fi).hasSomethingToRedo(),hasSelectedEditor:!1})):(E(this,F,QD).call(this),E(this,F,lA).call(this),E(this,F,dn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!u(this,Bi)){v(this,Bi,t);for(const e of u(this,Bi))E(this,F,Gs).call(this,e.defaultPropertiesToUpdate)}}getId(){return u(this,ky).id}get currentLayer(){return u(this,Ve).get(u(this,ec))}getLayer(t){return u(this,Ve).get(t)}get currentPageIndex(){return u(this,ec)}addLayer(t){u(this,Ve).set(t.pageIndex,t),u(this,hr)?t.enable():t.disable()}removeLayer(t){u(this,Ve).delete(t.pageIndex)}async updateMode(t,e=null,i=!1){var s,a,r;if(u(this,Re)!==t&&!(u(this,pi)&&(await u(this,pi).promise,!u(this,pi)))){if(v(this,pi,Promise.withResolvers()),(s=u(this,lr))==null||s.commitOrRemove(),v(this,Re,t),t===W.NONE){this.setEditingState(!1),E(this,F,eL).call(this),(a=this._editorUndoBar)==null||a.hide(),u(this,pi).resolve();return}t===W.SIGNATURE&&await((r=u(this,pr))==null?void 0:r.loadSignatures()),this.setEditingState(!0),await E(this,F,tL).call(this),this.unselectAll();for(const o of u(this,Ve).values())o.updateMode(t);if(!e){i&&this.addNewEditorFromKeyboard(),u(this,pi).resolve();return}for(const o of u(this,Se).values())o.annotationElementId===e||o.id===e?(this.setSelected(o),o.enterInEditMode()):o.unselect();u(this,pi).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==u(this,Re)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){var i;if(u(this,Bi)){switch(t){case ct.CREATE:this.currentLayer.addNewEditor(e);return;case ct.HIGHLIGHT_DEFAULT_COLOR:(i=u(this,Po))==null||i.updateColor(e);break;case ct.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,Ef)||v(this,Ef,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const s of u(this,At))s.updateParams(t,e);for(const s of u(this,Bi))s.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var a;for(const r of u(this,Se).values())r.editorType===t&&r.show(e);(((a=u(this,Ef))==null?void 0:a.get(ct.HIGHLIGHT_SHOW_ALL))??!0)!==e&&E(this,F,Gs).call(this,[[ct.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(u(this,Sf)!==t){v(this,Sf,t);for(const e of u(this,Ve).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const i of u(this,Se).values())i.pageIndex===t&&e.push(i);return e}getEditor(t){return u(this,Se).get(t)}addEditor(t){u(this,Se).set(t.id,t)}removeEditor(t){var e,i;t.div.contains(document.activeElement)&&(u(this,us)&&clearTimeout(u(this,us)),v(this,us,setTimeout(()=>{this.focusMainContainer(),v(this,us,null)},0))),u(this,Se).delete(t.id),t.annotationElementId&&((e=u(this,fr))==null||e.delete(t.annotationElementId)),this.unselect(t),(!t.annotationElementId||!u(this,Do).has(t.annotationElementId))&&((i=u(this,$s))==null||i.remove(t.id))}addDeletedAnnotationElement(t){u(this,Do).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return u(this,Do).has(t)}removeDeletedAnnotationElement(t){u(this,Do).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){u(this,Vn)!==t&&(v(this,Vn,t),t&&E(this,F,Gs).call(this,t.propertiesToUpdate))}updateUI(t){u(this,F,nL)===t&&E(this,F,Gs).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){E(this,F,Gs).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(u(this,At).has(t)){u(this,At).delete(t),t.unselect(),E(this,F,dn).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,At).add(t),t.select(),E(this,F,Gs).call(this,t.propertiesToUpdate),E(this,F,dn).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;(e=u(this,lr))==null||e.commitOrRemove();for(const i of u(this,At))i!==t&&i.unselect();u(this,At).clear(),u(this,At).add(t),t.select(),E(this,F,Gs).call(this,t.propertiesToUpdate),E(this,F,dn).call(this,{hasSelectedEditor:!0})}isSelected(t){return u(this,At).has(t)}get firstSelectedEditor(){return u(this,At).values().next().value}unselect(t){t.unselect(),u(this,At).delete(t),E(this,F,dn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,At).size!==0}get isEnterHandled(){return u(this,At).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;u(this,fi).undo(),E(this,F,dn).call(this,{hasSomethingToUndo:u(this,fi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:E(this,F,Zh).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){u(this,fi).redo(),E(this,F,dn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,fi).hasSomethingToRedo(),isEmpty:E(this,F,Zh).call(this)})}addCommands(t){u(this,fi).add(t),E(this,F,dn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:E(this,F,Zh).call(this)})}cleanUndoStack(t){u(this,fi).cleanType(t)}delete(){var a;this.commitOrRemove();const t=(a=this.currentLayer)==null?void 0:a.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...u(this,At)],i=()=>{var r;(r=this._editorUndoBar)==null||r.show(s,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},s=()=>{for(const r of e)E(this,F,uA).call(this,r)};this.addCommands({cmd:i,undo:s,mustExec:!0})}commitOrRemove(){var t;(t=u(this,Vn))==null||t.commitOrRemove()}hasSomethingToControl(){return u(this,Vn)||this.hasSelection}selectAll(){for(const t of u(this,At))t.commit();E(this,F,cA).call(this,u(this,Se).values())}unselectAll(){var t;if(!(u(this,Vn)&&(u(this,Vn).commitOrRemove(),u(this,Re)!==W.NONE))&&!((t=u(this,lr))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of u(this,At))e.unselect();u(this,At).clear(),E(this,F,dn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;u(this,gr)[0]+=t,u(this,gr)[1]+=e;const[s,a]=u(this,gr),r=[...u(this,At)],o=1e3;u(this,hs)&&clearTimeout(u(this,hs)),v(this,hs,setTimeout(()=>{v(this,hs,null),u(this,gr)[0]=u(this,gr)[1]=0,this.addCommands({cmd:()=>{for(const l of r)u(this,Se).has(l.id)&&(l.translateInPage(s,a),l.translationDone())},undo:()=>{for(const l of r)u(this,Se).has(l.id)&&(l.translateInPage(-s,-a),l.translationDone())},mustExec:!1})},o));for(const l of r)l.translateInPage(t,e),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),v(this,ls,new Map);for(const t of u(this,At))u(this,ls).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,ls))return!1;this.disableUserSelect(!1);const t=u(this,ls);v(this,ls,null);let e=!1;for(const[{x:s,y:a,pageIndex:r},o]of t)o.newX=s,o.newY=a,o.newPageIndex=r,e||(e=s!==o.savedX||a!==o.savedY||r!==o.savedPageIndex);if(!e)return!1;const i=(s,a,r,o)=>{if(u(this,Se).has(s.id)){const l=u(this,Ve).get(o);l?s._setParentAndPosition(l,a,r):(s.pageIndex=o,s.x=a,s.y=r)}};return this.addCommands({cmd:()=>{for(const[s,{newX:a,newY:r,newPageIndex:o}]of t)i(s,a,r,o)},undo:()=>{for(const[s,{savedX:a,savedY:r,savedPageIndex:o}]of t)i(s,a,r,o)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(u(this,ls))for(const i of u(this,ls).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||u(this,At).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return u(this,Vn)===t}getActive(){return u(this,Vn)}getMode(){return u(this,Re)}get imageManager(){return ut(this,"imageManager",new iA)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let c=0,h=e.rangeCount;c<h;c++)if(!t.contains(e.getRangeAt(c).commonAncestorContainer))return null;const{x:i,y:s,width:a,height:r}=t.getBoundingClientRect();let o;switch(t.getAttribute("data-main-rotation")){case"90":o=(c,h,d,f)=>({x:(h-s)/r,y:1-(c+d-i)/a,width:f/r,height:d/a});break;case"180":o=(c,h,d,f)=>({x:1-(c+d-i)/a,y:1-(h+f-s)/r,width:d/a,height:f/r});break;case"270":o=(c,h,d,f)=>({x:1-(h+f-s)/r,y:(c-i)/a,width:f/r,height:d/a});break;default:o=(c,h,d,f)=>({x:(c-i)/a,y:(h-s)/r,width:d/a,height:f/r});break}const l=[];for(let c=0,h=e.rangeCount;c<h;c++){const d=e.getRangeAt(c);if(!d.collapsed)for(const{x:f,y:p,width:y,height:m}of d.getClientRects())y===0||m===0||l.push(o(f,p,y,m))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:t,id:e}){(u(this,tc)||v(this,tc,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=u(this,tc))==null||e.delete(t)}renderAnnotationElement(t){var s;const e=(s=u(this,tc))==null?void 0:s.get(t.data.id);if(!e)return;const i=u(this,$s).getRawValue(e);i&&(u(this,Re)===W.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){var a;const s=(a=u(this,fr))==null?void 0:a.get(t);s&&(s.setCanvas(e,i),u(this,fr).delete(t))}addMissingCanvas(t,e){(u(this,fr)||v(this,fr,new Map)).set(t,e)}};Zu=new WeakMap,Vn=new WeakMap,Se=new WeakMap,Ve=new WeakMap,Ju=new WeakMap,$s=new WeakMap,tc=new WeakMap,fi=new WeakMap,or=new WeakMap,lr=new WeakMap,ec=new WeakMap,Do=new WeakMap,ls=new WeakMap,Bi=new WeakMap,Lo=new WeakMap,vf=new WeakMap,bf=new WeakMap,nc=new WeakMap,Af=new WeakMap,us=new WeakMap,ur=new WeakMap,ic=new WeakMap,cr=new WeakMap,cs=new WeakMap,ky=new WeakMap,hr=new WeakMap,Sf=new WeakMap,dr=new WeakMap,Oo=new WeakMap,Po=new WeakMap,fr=new WeakMap,wf=new WeakMap,Re=new WeakMap,At=new WeakMap,Ks=new WeakMap,pr=new WeakMap,No=new WeakMap,Ef=new WeakMap,Tf=new WeakMap,gr=new WeakMap,hs=new WeakMap,Ws=new WeakMap,xf=new WeakMap,pi=new WeakMap,F=new WeakSet,pm=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},aA=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of u(this,Ve).values())if(i.hasTextLayer(t))return i;return null},YD=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=E(this,F,pm).call(this,t).closest(".textLayer"),s=this.getSelectionBoxes(i);s&&(u(this,cs)||v(this,cs,new Pz(this)),u(this,cs).show(i,s,this.direction==="ltr"))},$D=function(){var a,r,o;const t=document.getSelection();if(!t||t.isCollapsed){u(this,Ks)&&((a=u(this,cs))==null||a.hide(),v(this,Ks,null),E(this,F,dn).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===u(this,Ks))return;const s=E(this,F,pm).call(this,t).closest(".textLayer");if(!s){u(this,Ks)&&((r=u(this,cs))==null||r.hide(),v(this,Ks,null),E(this,F,dn).call(this,{hasSelectedText:!1}));return}if((o=u(this,cs))==null||o.hide(),v(this,Ks,e),E(this,F,dn).call(this,{hasSelectedText:!0}),!(u(this,Re)!==W.HIGHLIGHT&&u(this,Re)!==W.NONE)&&(u(this,Re)===W.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),v(this,cr,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=u(this,Re)===W.HIGHLIGHT?E(this,F,aA).call(this,s):null;l==null||l.toggleDrawing();const c=new AbortController,h=this.combinedSignal(c),d=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&E(this,F,gm).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("blur",d,{signal:h})}},gm=function(t=""){u(this,Re)===W.HIGHLIGHT?this.highlightSelection(t):u(this,vf)&&E(this,F,YD).call(this)},KD=function(){document.addEventListener("selectionchange",E(this,F,$D).bind(this),{signal:this._signal})},WD=function(){if(u(this,ur))return;v(this,ur,new AbortController);const t=this.combinedSignal(u(this,ur));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},QD=function(){var t;(t=u(this,ur))==null||t.abort(),v(this,ur,null)},rA=function(){if(u(this,dr))return;v(this,dr,new AbortController);const t=this.combinedSignal(u(this,dr));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},ZD=function(){var t;(t=u(this,dr))==null||t.abort(),v(this,dr,null)},oA=function(){if(u(this,or))return;v(this,or,new AbortController);const t=this.combinedSignal(u(this,or));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},lA=function(){var t;(t=u(this,or))==null||t.abort(),v(this,or,null)},JD=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},dn=function(t){Object.entries(t).some(([i,s])=>u(this,Tf)[i]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,Tf),t)}),u(this,Re)===W.HIGHLIGHT&&t.hasSelectedEditor===!1&&E(this,F,Gs).call(this,[[ct.HIGHLIGHT_FREE,!0]]))},Gs=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},tL=async function(){if(!u(this,hr)){v(this,hr,!0);const t=[];for(const e of u(this,Ve).values())t.push(e.enable());await Promise.all(t);for(const e of u(this,Se).values())e.enable()}},eL=function(){if(this.unselectAll(),u(this,hr)){v(this,hr,!1);for(const t of u(this,Ve).values())t.disable();for(const t of u(this,Se).values())t.disable()}},uA=function(t){const e=u(this,Ve).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},nL=function(){let t=null;for(t of u(this,At));return t},Zh=function(){if(u(this,Se).size===0)return!0;if(u(this,Se).size===1)for(const t of u(this,Se).values())return t.isEmpty();return!1},cA=function(t){for(const e of u(this,At))e.unselect();u(this,At).clear();for(const e of t)e.isEmpty()||(u(this,At).add(e),e.select());E(this,F,dn).call(this,{hasSelectedEditor:this.hasSelection})},B(Bu,"TRANSLATE_SMALL",1),B(Bu,"TRANSLATE_BIG",10);let ao=Bu;var Me,ds,Ii,sc,fs,zn,ac,ps,_n,Qs,ko,gs,mr,Wi,Jh,mm;const fn=class fn{constructor(t){w(this,Wi);w(this,Me,null);w(this,ds,!1);w(this,Ii,null);w(this,sc,null);w(this,fs,null);w(this,zn,null);w(this,ac,!1);w(this,ps,null);w(this,_n,null);w(this,Qs,null);w(this,ko,null);w(this,gs,!1);v(this,_n,t),v(this,gs,t._uiManager.useNewAltTextFlow),u(fn,mr)||v(fn,mr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){fn._l10n??(fn._l10n=t)}async render(){const t=v(this,Ii,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=v(this,sc,document.createElement("span"));t.append(e),u(this,gs)?(t.classList.add("new"),t.setAttribute("data-l10n-id",u(fn,mr).missing),e.setAttribute("data-l10n-id",u(fn,mr)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=u(this,_n)._uiManager._signal;t.addEventListener("contextmenu",Pi,{signal:i}),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:i});const s=a=>{a.preventDefault(),u(this,_n)._uiManager.editAltText(u(this,_n)),u(this,gs)&&u(this,_n)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,Wi,Jh)}})};return t.addEventListener("click",s,{capture:!0,signal:i}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(v(this,ac,!0),s(a))},{signal:i}),await E(this,Wi,mm).call(this),t}finish(){u(this,Ii)&&(u(this,Ii).focus({focusVisible:u(this,ac)}),v(this,ac,!1))}isEmpty(){return u(this,gs)?u(this,Me)===null:!u(this,Me)&&!u(this,ds)}hasData(){return u(this,gs)?u(this,Me)!==null||!!u(this,Qs):this.isEmpty()}get guessedText(){return u(this,Qs)}async setGuessedText(t){u(this,Me)===null&&(v(this,Qs,t),v(this,ko,await fn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),E(this,Wi,mm).call(this))}toggleAltTextBadge(t=!1){var e;if(!u(this,gs)||u(this,Me)){(e=u(this,ps))==null||e.remove(),v(this,ps,null);return}if(!u(this,ps)){const i=v(this,ps,document.createElement("div"));i.className="noAltTextBadge",u(this,_n).div.append(i)}u(this,ps).classList.toggle("hidden",!t)}serialize(t){let e=u(this,Me);return!t&&u(this,Qs)===e&&(e=u(this,ko)),{altText:e,decorative:u(this,ds),guessedText:u(this,Qs),textWithDisclaimer:u(this,ko)}}get data(){return{altText:u(this,Me),decorative:u(this,ds)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:s,cancel:a=!1}){i&&(v(this,Qs,i),v(this,ko,s)),!(u(this,Me)===t&&u(this,ds)===e)&&(a||(v(this,Me,t),v(this,ds,e)),E(this,Wi,mm).call(this))}toggle(t=!1){u(this,Ii)&&(!t&&u(this,zn)&&(clearTimeout(u(this,zn)),v(this,zn,null)),u(this,Ii).disabled=!t)}shown(){u(this,_n)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,Wi,Jh)}})}destroy(){var t,e;(t=u(this,Ii))==null||t.remove(),v(this,Ii,null),v(this,sc,null),v(this,fs,null),(e=u(this,ps))==null||e.remove(),v(this,ps,null)}};Me=new WeakMap,ds=new WeakMap,Ii=new WeakMap,sc=new WeakMap,fs=new WeakMap,zn=new WeakMap,ac=new WeakMap,ps=new WeakMap,_n=new WeakMap,Qs=new WeakMap,ko=new WeakMap,gs=new WeakMap,mr=new WeakMap,Wi=new WeakSet,Jh=function(){return u(this,Me)&&"added"||u(this,Me)===null&&this.guessedText&&"review"||"missing"},mm=async function(){var s,a,r;const t=u(this,Ii);if(!t)return;if(u(this,gs)){if(t.classList.toggle("done",!!u(this,Me)),t.setAttribute("data-l10n-id",u(fn,mr)[u(this,Wi,Jh)]),(s=u(this,sc))==null||s.setAttribute("data-l10n-id",u(fn,mr)[`${u(this,Wi,Jh)}-label`]),!u(this,Me)){(a=u(this,fs))==null||a.remove();return}}else{if(!u(this,Me)&&!u(this,ds)){t.classList.remove("done"),(r=u(this,fs))==null||r.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=u(this,fs);if(!e){v(this,fs,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${u(this,_n).id}`;const o=100,l=u(this,_n)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(u(this,zn)),v(this,zn,null)},{once:!0}),t.addEventListener("mouseenter",()=>{v(this,zn,setTimeout(()=>{v(this,zn,null),u(this,fs).classList.add("show"),u(this,_n)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),t.addEventListener("mouseleave",()=>{var c;u(this,zn)&&(clearTimeout(u(this,zn)),v(this,zn,null)),(c=u(this,fs))==null||c.classList.remove("show")},{signal:l})}u(this,ds)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=u(this,Me)),e.parentNode||t.append(e);const i=u(this,_n).getElementForAltText();i==null||i.setAttribute("aria-describedby",e.id)},w(fn,mr,null),B(fn,"_l10n",null);let xy=fn;var rc,Bo,_f,Cf,Rf,Mf,Df,Zs,Io,Js,Fo,ta,oo,iL,sL,aL;const pE=class pE{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:s=null,onPinching:a=null,onPinchEnd:r=null,signal:o}){w(this,oo);w(this,rc);w(this,Bo,!1);w(this,_f,null);w(this,Cf);w(this,Rf);w(this,Mf);w(this,Df);w(this,Zs,null);w(this,Io);w(this,Js,null);w(this,Fo);w(this,ta,null);v(this,rc,t),v(this,_f,i),v(this,Cf,e),v(this,Rf,s),v(this,Mf,a),v(this,Df,r),v(this,Fo,new AbortController),v(this,Io,AbortSignal.any([o,u(this,Fo).signal])),t.addEventListener("touchstart",E(this,oo,iL).bind(this),{passive:!1,signal:u(this,Io)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Ji.pixelRatio}destroy(){var t,e;(t=u(this,Fo))==null||t.abort(),v(this,Fo,null),(e=u(this,Zs))==null||e.abort(),v(this,Zs,null)}};rc=new WeakMap,Bo=new WeakMap,_f=new WeakMap,Cf=new WeakMap,Rf=new WeakMap,Mf=new WeakMap,Df=new WeakMap,Zs=new WeakMap,Io=new WeakMap,Js=new WeakMap,Fo=new WeakMap,ta=new WeakMap,oo=new WeakSet,iL=function(t){var s,a,r;if((s=u(this,Cf))!=null&&s.call(this))return;if(t.touches.length===1){if(u(this,Zs))return;const o=v(this,Zs,new AbortController),l=AbortSignal.any([u(this,Io),o.signal]),c=u(this,rc),h={capture:!0,signal:l,passive:!1},d=f=>{var p;f.pointerType==="touch"&&((p=u(this,Zs))==null||p.abort(),v(this,Zs,null))};c.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(ce(f),d(f))},h),c.addEventListener("pointerup",d,h),c.addEventListener("pointercancel",d,h);return}if(!u(this,ta)){v(this,ta,new AbortController);const o=AbortSignal.any([u(this,Io),u(this,ta).signal]),l=u(this,rc),c={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",E(this,oo,sL).bind(this),c);const h=E(this,oo,aL).bind(this);l.addEventListener("touchend",h,c),l.addEventListener("touchcancel",h,c),c.capture=!0,l.addEventListener("pointerdown",ce,c),l.addEventListener("pointermove",ce,c),l.addEventListener("pointercancel",ce,c),l.addEventListener("pointerup",ce,c),(a=u(this,Rf))==null||a.call(this)}if(ce(t),t.touches.length!==2||(r=u(this,_f))!=null&&r.call(this)){v(this,Js,null);return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),v(this,Js,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY})},sL=function(t){var T;if(!u(this,Js)||t.touches.length!==2)return;ce(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:s,screenY:a}=e,{screenX:r,screenY:o}=i,l=u(this,Js),{touch0X:c,touch0Y:h,touch1X:d,touch1Y:f}=l,p=d-c,y=f-h,m=r-s,S=o-a,g=Math.hypot(m,S)||1,b=Math.hypot(p,y)||1;if(!u(this,Bo)&&Math.abs(b-g)<=pE.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=s,l.touch0Y=a,l.touch1X=r,l.touch1Y=o,!u(this,Bo)){v(this,Bo,!0);return}const A=[(s+r)/2,(a+o)/2];(T=u(this,Mf))==null||T.call(this,A,b,g)},aL=function(t){var e;t.touches.length>=2||(u(this,ta)&&(u(this,ta).abort(),v(this,ta,null),(e=u(this,Df))==null||e.call(this)),u(this,Js)&&(ce(t),v(this,Js,null),v(this,Bo,!1)))};let of=pE;var Vo,Fi,Bt,oc,yr,Lf,zo,ze,Ho,ea,vr,Of,Uo,Hn,Pf,jo,na,ms,lc,uc,gi,Go,Nf,By,Y,hA,kf,dA,ym,rL,oL,fA,vm,pA,lL,uL,cL,gA,hL,mA,dL,fL,pL,yA,td;const nt=class nt{constructor(t){w(this,Y);w(this,Vo,null);w(this,Fi,null);w(this,Bt,null);w(this,oc,!1);w(this,yr,null);w(this,Lf,"");w(this,zo,!1);w(this,ze,null);w(this,Ho,null);w(this,ea,null);w(this,vr,null);w(this,Of,"");w(this,Uo,!1);w(this,Hn,null);w(this,Pf,!1);w(this,jo,!1);w(this,na,!1);w(this,ms,null);w(this,lc,0);w(this,uc,0);w(this,gi,null);w(this,Go,null);B(this,"isSelected",!1);B(this,"_isCopy",!1);B(this,"_editToolbar",null);B(this,"_initialOptions",Object.create(null));B(this,"_initialData",null);B(this,"_isVisible",!0);B(this,"_uiManager",null);B(this,"_focusEventsAllowed",!0);w(this,Nf,!1);w(this,By,nt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:s,pageX:a,pageY:r}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,s],this.pageTranslation=[a,r];const[o,l]=this.parentDimensions;this.x=t.x/o,this.y=t.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=nt.prototype._resizeWithKeyboard,e=ao.TRANSLATE_SMALL,i=ao.TRANSLATE_BIG;return ut(this,"_resizerKeyboardManager",new dg([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],nt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return ut(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new Bz({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(nt._l10n??(nt._l10n=t),nt._l10nResizer||(nt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),nt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);nt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Ct("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,Nf)}set _isDraggable(t){var e;v(this,Nf,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,By)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):E(this,Y,td).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(u(this,Uo)?v(this,Uo,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,s){const[a,r]=this.parentDimensions;[i,s]=this.screenToPageTranslation(i,s),this.x=(t+i)/a,this.y=(e+s)/r,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,s]=this.parentDimensions;this.setAt(t*i,e*s,this.width*i,this.height*s),this._onTranslated()}translate(t,e){E(this,Y,hA).call(this,this.parentDimensions,t,e)}translateInPage(t,e){u(this,Hn)||v(this,Hn,[this.x,this.y,this.width,this.height]),E(this,Y,hA).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){u(this,Hn)||v(this,Hn,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[s,a]}=this;if(this.x+=t/s,this.y+=e/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:o}=this;const[l,c]=this.getBaseTranslation();r+=l,o+=c;const{style:h}=i;h.left=`${(100*r).toFixed(2)}%`,h.top=`${(100*o).toFixed(2)}%`,this._onTranslating(r,o),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!u(this,Hn)&&(u(this,Hn)[0]!==this.x||u(this,Hn)[1]!==this.y)}get _hasBeenResized(){return!!u(this,Hn)&&(u(this,Hn)[2]!==this.width||u(this,Hn)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=nt,s=i/t,a=i/e;switch(this.rotation){case 90:return[-s,a];case 180:return[s,a];case 270:return[s,-a];default:return[-s,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,s]}=this;let{x:a,y:r,width:o,height:l}=this;if(o*=i,l*=s,a*=i,r*=s,this._mustFixPosition)switch(t){case 0:a=sn(a,0,i-o),r=sn(r,0,s-l);break;case 90:a=sn(a,0,i-l),r=sn(r,o,s);break;case 180:a=sn(a,o,i),r=sn(r,l,s);break;case 270:a=sn(a,l,i),r=sn(r,0,s-o);break}this.x=a/=i,this.y=r/=s;const[c,h]=this.getBaseTranslation();a+=c,r+=h,e.left=`${(100*a).toFixed(2)}%`,e.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return E(i=nt,kf,dA).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return E(i=nt,kf,dA).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){const[i,s]=this.parentDimensions,{style:a}=this.div;a.width=`${(100*t/i).toFixed(2)}%`,u(this,zo)||(a.height=`${(100*e/s).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:i}=t,s=i.endsWith("%"),a=!u(this,zo)&&e.endsWith("%");if(s&&a)return;const[r,o]=this.parentDimensions;s||(t.width=`${(100*parseFloat(i)/r).toFixed(2)}%`),!u(this,zo)&&!a&&(t.height=`${(100*parseFloat(e)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=u(this,Bt))==null||t.finish()}async addEditToolbar(){return this._editToolbar||u(this,jo)?this._editToolbar:(this._editToolbar=new nA(this),this.div.append(this._editToolbar.render()),u(this,Bt)&&await this._editToolbar.addAltText(u(this,Bt)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=u(this,Bt))==null||t.destroy())}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){u(this,Bt)||(xy.initialize(nt._l10n),v(this,Bt,new xy(this)),u(this,Vo)&&(u(this,Bt).data=u(this,Vo),v(this,Vo,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=u(this,Bt))==null?void 0:t.data}set altTextData(t){u(this,Bt)&&(u(this,Bt).data=t)}get guessedAltText(){var t;return(t=u(this,Bt))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=u(this,Bt))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=u(this,Bt))==null?void 0:e.serialize(t)}hasAltText(){return!!u(this,Bt)&&!u(this,Bt).isEmpty()}hasAltTextData(){var t;return((t=u(this,Bt))==null?void 0:t.hasData())??!1}render(){var r;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=u(this,oc)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),E(this,Y,mA).call(this);const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[s,a]=this.getInitialTranslation();return this.translate(s,a),qD(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(u(this,Go)||v(this,Go,new of({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:E(this,Y,lL).bind(this),onPinching:E(this,Y,uL).bind(this),onPinchEnd:E(this,Y,cL).bind(this),signal:this._uiManager._signal}))),(r=this._uiManager._editorUndoBar)==null||r.hide(),t}pointerdown(t){const{isMac:e}=Fe.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(v(this,Uo,!0),this._isDraggable){E(this,Y,hL).call(this,t);return}E(this,Y,gA).call(this,t)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){u(this,ms)&&clearTimeout(u(this,ms)),v(this,ms,setTimeout(()=>{var t;v(this,ms,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const s=this.parentScale,[a,r]=this.pageDimensions,[o,l]=this.pageTranslation,c=t/s,h=e/s,d=this.x*a,f=this.y*r,p=this.width*a,y=this.height*r;switch(i){case 0:return[d+c+o,r-f-h-y+l,d+c+p+o,r-f-h+l];case 90:return[d+h+o,r-f+c+l,d+h+y+o,r-f+c+p+l];case 180:return[d-c-p+o,r-f+h+l,d-c+o,r-f+h+y+l];case 270:return[d-h-y+o,r-f-c-p+l,d-h+o,r-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,s,a,r]=t,o=a-i,l=r-s;switch(this.rotation){case 0:return[i,e-r,o,l];case 90:return[i,e-s,l,o];case 180:return[a,e-s,o,l];case 270:return[a,e-r,l,o];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),v(this,jo,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),v(this,jo,!1),!0):!1}isInEditMode(){return u(this,jo)}shouldGetKeyboardEvents(){return u(this,na)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:s}=this.getClientDimensions(),{innerHeight:a,innerWidth:r}=window;return e<r&&s>0&&t<a&&i>0}rebuild(){E(this,Y,mA).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){Ct("An editor must be serializable")}static async deserialize(t,e,i){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i});s.rotation=t.rotation,v(s,Vo,t.accessibilityData),s._isCopy=t.isCopy||!1;const[a,r]=s.pageDimensions,[o,l,c,h]=s.getRectInCurrentCoords(t.rect,r);return s.x=o/a,s.y=l/r,s.width=c/a,s.height=h/r,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=u(this,vr))==null||t.abort(),v(this,vr,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,ms)&&(clearTimeout(u(this,ms)),v(this,ms,null)),E(this,Y,td).call(this),this.removeEditToolbar(),u(this,gi)){for(const i of u(this,gi).values())clearTimeout(i);v(this,gi,null)}this.parent=null,(e=u(this,Go))==null||e.destroy(),v(this,Go,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(E(this,Y,rL).call(this),u(this,ze).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),v(this,ea,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=u(this,ze).children;if(!u(this,Fi)){v(this,Fi,Array.from(e));const r=E(this,Y,dL).bind(this),o=E(this,Y,fL).bind(this),l=this._uiManager._signal;for(const c of u(this,Fi)){const h=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",r,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",E(this,Y,pL).bind(this,h),{signal:l}),c.setAttribute("data-l10n-id",nt._l10nResizer[h])}}const i=u(this,Fi)[0];let s=0;for(const r of e){if(r===i)break;s++}const a=(360-this.rotation+this.parentRotation)%360/90*(u(this,Fi).length/4);if(a!==s){if(a<s)for(let o=0;o<s-a;o++)u(this,ze).append(u(this,ze).firstChild);else if(a>s)for(let o=0;o<a-s;o++)u(this,ze).firstChild.before(u(this,ze).lastChild);let r=0;for(const o of e){const c=u(this,Fi)[r++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",nt._l10nResizer[c])}}E(this,Y,yA).call(this,0),v(this,na,!0),u(this,ze).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){u(this,na)&&E(this,Y,pA).call(this,u(this,Of),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){E(this,Y,td).call(this),this.div.focus()}select(){var t,e,i;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,a;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(e=this._editToolbar)==null||e.show(),(i=u(this,Bt))==null||i.toggleAltTextBadge(!1)}}unselect(){var t,e,i,s,a;this.isSelected&&(this.isSelected=!1,(t=u(this,ze))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(a=u(this,Bt))==null||a.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return u(this,Pf)}set isEditing(t){v(this,Pf,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){v(this,zo,!0);const i=t/e,{style:s}=this.div;s.aspectRatio=i,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){u(this,gi)||v(this,gi,new Map);const{action:i}=t;let s=u(this,gi).get(i);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),u(this,gi).delete(i),u(this,gi).size===0&&v(this,gi,null)},nt._telemetryTimeout),u(this,gi).set(i,s);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),v(this,oc,!1)}disable(){this.div&&(this.div.tabIndex=-1),v(this,oc,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Vo=new WeakMap,Fi=new WeakMap,Bt=new WeakMap,oc=new WeakMap,yr=new WeakMap,Lf=new WeakMap,zo=new WeakMap,ze=new WeakMap,Ho=new WeakMap,ea=new WeakMap,vr=new WeakMap,Of=new WeakMap,Uo=new WeakMap,Hn=new WeakMap,Pf=new WeakMap,jo=new WeakMap,na=new WeakMap,ms=new WeakMap,lc=new WeakMap,uc=new WeakMap,gi=new WeakMap,Go=new WeakMap,Nf=new WeakMap,By=new WeakMap,Y=new WeakSet,hA=function([t,e],i,s){[i,s]=this.screenToPageTranslation(i,s),this.x+=i/t,this.y+=s/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},kf=new WeakSet,dA=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},ym=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},rL=function(){if(u(this,ze))return;v(this,ze,document.createElement("div")),u(this,ze).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const s=document.createElement("div");u(this,ze).append(s),s.classList.add("resizer",i),s.setAttribute("data-resizer-name",i),s.addEventListener("pointerdown",E(this,Y,oL).bind(this,i),{signal:e}),s.addEventListener("contextmenu",Pi,{signal:e}),s.tabIndex=-1}this.div.prepend(u(this,ze))},oL=function(t,e){var h;e.preventDefault();const{isMac:i}=Fe.platform;if(e.button!==0||e.ctrlKey&&i)return;(h=u(this,Bt))==null||h.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,v(this,Ho,[e.screenX,e.screenY]);const a=new AbortController,r=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",E(this,Y,pA).bind(this,t),{passive:!0,capture:!0,signal:r}),window.addEventListener("touchmove",ce,{passive:!1,signal:r}),window.addEventListener("contextmenu",Pi,{signal:r}),v(this,ea,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const c=()=>{var d;a.abort(),this.parent.togglePointerEvents(!0),(d=u(this,Bt))==null||d.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=o,this.div.style.cursor=l,E(this,Y,vm).call(this)};window.addEventListener("pointerup",c,{signal:r}),window.addEventListener("blur",c,{signal:r})},fA=function(t,e,i,s){this.width=i,this.height=s,this.x=t,this.y=e;const[a,r]=this.parentDimensions;this.setDims(a*i,r*s),this.fixAndSetPosition(),this._onResized()},vm=function(){if(!u(this,ea))return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:s}=u(this,ea);v(this,ea,null);const a=this.x,r=this.y,o=this.width,l=this.height;a===t&&r===e&&o===i&&l===s||this.addCommands({cmd:E(this,Y,fA).bind(this,a,r,o,l),undo:E(this,Y,fA).bind(this,t,e,i,s),mustExec:!0})},pA=function(t,e){const[i,s]=this.parentDimensions,a=this.x,r=this.y,o=this.width,l=this.height,c=nt.MIN_SIZE/i,h=nt.MIN_SIZE/s,d=E(this,Y,ym).call(this,this.rotation),f=(D,P)=>[d[0]*D+d[2]*P,d[1]*D+d[3]*P],p=E(this,Y,ym).call(this,360-this.rotation),y=(D,P)=>[p[0]*D+p[2]*P,p[1]*D+p[3]*P];let m,S,g=!1,b=!1;switch(t){case"topLeft":g=!0,m=(D,P)=>[0,0],S=(D,P)=>[D,P];break;case"topMiddle":m=(D,P)=>[D/2,0],S=(D,P)=>[D/2,P];break;case"topRight":g=!0,m=(D,P)=>[D,0],S=(D,P)=>[0,P];break;case"middleRight":b=!0,m=(D,P)=>[D,P/2],S=(D,P)=>[0,P/2];break;case"bottomRight":g=!0,m=(D,P)=>[D,P],S=(D,P)=>[0,0];break;case"bottomMiddle":m=(D,P)=>[D/2,P],S=(D,P)=>[D/2,0];break;case"bottomLeft":g=!0,m=(D,P)=>[0,P],S=(D,P)=>[D,0];break;case"middleLeft":b=!0,m=(D,P)=>[0,P/2],S=(D,P)=>[D,P/2];break}const A=m(o,l),T=S(o,l);let x=f(...T);const C=nt._round(a+x[0]),_=nt._round(r+x[1]);let M=1,L=1,O,N;if(e.fromKeyboard)({deltaX:O,deltaY:N}=e);else{const{screenX:D,screenY:P}=e,[V,tt]=u(this,Ho);[O,N]=this.screenToPageTranslation(D-V,P-tt),u(this,Ho)[0]=D,u(this,Ho)[1]=P}if([O,N]=y(O/i,N/s),g){const D=Math.hypot(o,l);M=L=Math.max(Math.min(Math.hypot(T[0]-A[0]-O,T[1]-A[1]-N)/D,1/o,1/l),c/o,h/l)}else b?M=sn(Math.abs(T[0]-A[0]-O),c,1)/o:L=sn(Math.abs(T[1]-A[1]-N),h,1)/l;const X=nt._round(o*M),J=nt._round(l*L);x=f(...S(X,J));const q=C-x[0],Q=_-x[1];u(this,Hn)||v(this,Hn,[this.x,this.y,this.width,this.height]),this.width=X,this.height=J,this.x=q,this.y=Q,this.setDims(i*X,s*J),this.fixAndSetPosition(),this._onResizing()},lL=function(){var t;v(this,ea,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=u(this,Bt))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},uL=function(t,e,i){let a=.7*(i/e)+1-.7;if(a===1)return;const r=E(this,Y,ym).call(this,this.rotation),o=(C,_)=>[r[0]*C+r[2]*_,r[1]*C+r[3]*_],[l,c]=this.parentDimensions,h=this.x,d=this.y,f=this.width,p=this.height,y=nt.MIN_SIZE/l,m=nt.MIN_SIZE/c;a=Math.max(Math.min(a,1/f,1/p),y/f,m/p);const S=nt._round(f*a),g=nt._round(p*a);if(S===f&&g===p)return;u(this,Hn)||v(this,Hn,[h,d,f,p]);const b=o(f/2,p/2),A=nt._round(h+b[0]),T=nt._round(d+b[1]),x=o(S/2,g/2);this.x=A-x[0],this.y=T-x[1],this.width=S,this.height=g,this.setDims(l*S,c*g),this.fixAndSetPosition(),this._onResizing()},cL=function(){var t;(t=u(this,Bt))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),E(this,Y,vm).call(this)},gA=function(t){const{isMac:e}=Fe.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},hL=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const s=new AbortController,a=this._uiManager.combinedSignal(s),r={capture:!0,passive:!1,signal:a},o=c=>{s.abort(),v(this,yr,null),v(this,Uo,!1),this._uiManager.endDragSession()||E(this,Y,gA).call(this,c),i&&this._onStopDragging()};e&&(v(this,lc,t.clientX),v(this,uc,t.clientY),v(this,yr,t.pointerId),v(this,Lf,t.pointerType),window.addEventListener("pointermove",c=>{i||(i=!0,this._onStartDragging());const{clientX:h,clientY:d,pointerId:f}=c;if(f!==u(this,yr)){ce(c);return}const[p,y]=this.screenToPageTranslation(h-u(this,lc),d-u(this,uc));v(this,lc,h),v(this,uc,d),this._uiManager.dragSelectedEditors(p,y)},r),window.addEventListener("touchmove",ce,r),window.addEventListener("pointerdown",c=>{c.pointerType===u(this,Lf)&&(u(this,Go)||c.isPrimary)&&o(c),ce(c)},r));const l=c=>{if(!u(this,yr)||u(this,yr)===c.pointerId){o(c);return}ce(c)};window.addEventListener("pointerup",l,{signal:a}),window.addEventListener("blur",l,{signal:a})},mA=function(){if(u(this,vr)||!this.div)return;v(this,vr,new AbortController);const t=this._uiManager.combinedSignal(u(this,vr));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},dL=function(t){nt._resizerKeyboardManager.exec(this,t)},fL=function(t){var e;u(this,na)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==u(this,ze)&&E(this,Y,td).call(this)},pL=function(t){v(this,Of,u(this,na)?t:"")},yA=function(t){if(u(this,Fi))for(const e of u(this,Fi))e.tabIndex=t},td=function(){v(this,na,!1),E(this,Y,yA).call(this,-1),E(this,Y,vm).call(this)},w(nt,kf),B(nt,"_l10n",null),B(nt,"_l10nResizer",null),B(nt,"_borderLineWidth",-1),B(nt,"_colorManager",new sA),B(nt,"_zIndex",1),B(nt,"_telemetryTimeout",1e3);let Nt=nt;class Bz extends Nt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const dx=3285377520,ci=4294901760,rs=65535;class gL{constructor(t){this.h1=t?t&4294967295:dx,this.h2=t?t&4294967295:dx}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let m=0,S=t.length;m<S;m++){const g=t.charCodeAt(m);g<=255?e[i++]=g:(e[i++]=g>>>8,e[i++]=g&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=i>>2,a=i-s*4,r=new Uint32Array(e.buffer,0,s);let o=0,l=0,c=this.h1,h=this.h2;const d=3432918353,f=461845907,p=d&rs,y=f&rs;for(let m=0;m<s;m++)m&1?(o=r[m],o=o*d&ci|o*p&rs,o=o<<15|o>>>17,o=o*f&ci|o*y&rs,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=r[m],l=l*d&ci|l*p&rs,l=l<<15|l>>>17,l=l*f&ci|l*y&rs,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(o=0,a){case 3:o^=e[s*4+2]<<16;case 2:o^=e[s*4+1]<<8;case 1:o^=e[s*4],o=o*d&ci|o*p&rs,o=o<<15|o>>>17,o=o*f&ci|o*y&rs,s&1?c^=o:h^=o}this.h1=c,this.h2=h}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&ci|t*36045&rs,e=e*4283543511&ci|((e<<16|t>>>16)*2950163797&ci)>>>16,t^=e>>>1,t=t*444984403&ci|t*60499&rs,e=e*3301882366&ci|((e<<16|t>>>16)*3120437893&ci)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const vA=Object.freeze({map:null,hash:"",transfer:void 0});var qo,Xo,He,Iy,mL;class iE{constructor(){w(this,Iy);w(this,qo,!1);w(this,Xo,null);w(this,He,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=u(this,He).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return u(this,He).get(t)}remove(t){if(u(this,He).delete(t),u(this,He).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of u(this,He).values())if(e instanceof Nt)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=u(this,He).get(t);let s=!1;if(i!==void 0)for(const[a,r]of Object.entries(e))i[a]!==r&&(s=!0,i[a]=r);else s=!0,u(this,He).set(t,e);s&&E(this,Iy,mL).call(this),e instanceof Nt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return u(this,He).has(t)}get size(){return u(this,He).size}resetModified(){u(this,qo)&&(v(this,qo,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new yL(this)}get serializable(){if(u(this,He).size===0)return vA;const t=new Map,e=new gL,i=[],s=Object.create(null);let a=!1;for(const[r,o]of u(this,He)){const l=o instanceof Nt?o.serialize(!1,s):o;l&&(t.set(r,l),e.update(`${r}:${JSON.stringify(l)}`),a||(a=!!l.bitmap))}if(a)for(const r of t.values())r.bitmap&&i.push(r.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:vA}get editorStats(){let t=null;const e=new Map;for(const i of u(this,He).values()){if(!(i instanceof Nt))continue;const s=i.telemetryFinalData;if(!s)continue;const{type:a}=s;e.has(a)||e.set(a,Object.getPrototypeOf(i).constructor),t||(t=Object.create(null));const r=t[a]||(t[a]=new Map);for(const[o,l]of Object.entries(s)){if(o==="type")continue;let c=r.get(o);c||(c=new Map,r.set(o,c));const h=c.get(l)??0;c.set(l,h+1)}}for(const[i,s]of e)t[i]=s.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){v(this,Xo,null)}get modifiedIds(){if(u(this,Xo))return u(this,Xo);const t=[];for(const e of u(this,He).values())!(e instanceof Nt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return v(this,Xo,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return u(this,He).entries()}}qo=new WeakMap,Xo=new WeakMap,He=new WeakMap,Iy=new WeakSet,mL=function(){u(this,qo)||(v(this,qo,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Bf;class yL extends iE{constructor(e){super();w(this,Bf);const{map:i,hash:s,transfer:a}=e.serializable,r=structuredClone(i,a?{transfer:a}:null);v(this,Bf,{map:r,hash:s,transfer:a})}get print(){Ct("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,Bf)}get modifiedIds(){return ut(this,"modifiedIds",{ids:new Set,hash:""})}}Bf=new WeakMap;var cc;class Iz{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){w(this,cc,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),u(this,cc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||u(this,cc).has(t.loadedName))){if(me(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:a,style:r}=t,o=new FontFace(s,a,r);this.addNativeFontFace(o);try{await o.load(),u(this,cc).add(s),i==null||i(t)}catch{Z(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Ct("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(s){throw Z(`Failed to load font '${i.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const s=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return ut(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return ut(this,"isSyncFontLoadingSupported",yn||Fe.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(me(!s.done,"completeRequest() cannot be called twice."),s.done=!0;i.length>0&&i[0].done;){const a=i.shift();setTimeout(a.callback,0)}}const{loadingRequests:i}=this,s={done:!1,complete:e,callback:t};return i.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ut(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(T,x){return T.charCodeAt(x)<<24|T.charCodeAt(x+1)<<16|T.charCodeAt(x+2)<<8|T.charCodeAt(x+3)&255}function s(T,x,C,_){const M=T.substring(0,x),L=T.substring(x+C);return M+_+L}let a,r;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function h(T,x){if(++c>30){Z("Load test font never loaded."),x();return}if(l.font="30px "+T,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){x();return}setTimeout(h.bind(null,T,x))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=s(f,976,d.length,d);const y=16,m=1482184792;let S=i(f,y);for(a=0,r=d.length-3;a<r;a+=4)S=S-m+i(d,a)|0;a<d.length&&(S=S-m+i(d+"XXX",a)|0),f=s(f,y,4,xz(S));const g=`url(data:font/opentype;base64,${btoa(f)});`,b=`@font-face {font-family:"${d}";src:${g}}`;this.insertRule(b);const A=this._document.createElement("div");A.style.visibility="hidden",A.style.width=A.style.height="10px",A.style.position="absolute",A.style.top=A.style.left="0px";for(const T of[t.loadedName,d]){const x=this._document.createElement("span");x.textContent="Hi",x.style.fontFamily=T,A.append(x)}this._document.body.append(A),h(d,()=>{A.remove(),e.complete()})}}cc=new WeakMap;class Fz{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this._inspectFont=e}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${ND(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let s;try{s=t.get(i)}catch(r){Z(`getPathGenerator - ignoring character: "${r}".`)}const a=new Path2D(s||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=a}}function Vz(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(yn)return n;const t=URL.parse(n,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function zz(n){if(yn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return ug(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function zg(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const bA=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,Hz=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",vL=Mz.bind(null,bA,Hz);var ia,Fy;class Uz{constructor(){w(this,ia,new Map);w(this,Fy,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};u(this,Fy).then(()=>{for(const[s]of u(this,ia))s.call(this,i)})}addEventListener(t,e,i=null){let s=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:a}=i;if(a.aborted){Z("LoopbackPort - cannot use an `aborted` signal.");return}const r=()=>this.removeEventListener(t,e);s=()=>a.removeEventListener("abort",r),a.addEventListener("abort",r)}u(this,ia).set(e,s)}removeEventListener(t,e){const i=u(this,ia).get(e);i==null||i(),u(this,ia).delete(e)}terminate(){for(const[,t]of u(this,ia))t==null||t();u(this,ia).clear()}}ia=new WeakMap,Fy=new WeakMap;const Hg={DATA:1,ERROR:2},fe={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function fx(){}function Tn(n){if(n instanceof Ha||n instanceof Ey||n instanceof ux||n instanceof rf||n instanceof D0)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Ct('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Ha(n.message);case"InvalidPDFException":return new Ey(n.message);case"PasswordException":return new ux(n.message,n.code);case"ResponseException":return new rf(n.message,n.status,n.missing);case"UnknownErrorException":return new D0(n.message,n.details)}return new D0(n.message,n.toString())}var hc,Di,bL,AL,SL,bm;class ed{constructor(t,e,i){w(this,Di);w(this,hc,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",E(this,Di,bL).bind(this),{signal:u(this,hc).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const s=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[s]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},i)}catch(r){a.reject(r)}return a.promise}sendWithStream(t,e,i,s){const a=this.streamId++,r=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const h=Promise.withResolvers();return this.streamControllers[a]={controller:c,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:r,targetName:o,action:t,streamId:a,data:e,desiredSize:c.desiredSize},s),h.promise},pull:c=>{const h=Promise.withResolvers();return this.streamControllers[a].pullCall=h,l.postMessage({sourceName:r,targetName:o,stream:fe.PULL,streamId:a,desiredSize:c.desiredSize}),h.promise},cancel:c=>{me(c instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[a].cancelCall=h,this.streamControllers[a].isClosed=!0,l.postMessage({sourceName:r,targetName:o,stream:fe.CANCEL,streamId:a,reason:Tn(c)}),h.promise}},i)}destroy(){var t;(t=u(this,hc))==null||t.abort(),v(this,hc,null)}}hc=new WeakMap,Di=new WeakSet,bL=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){E(this,Di,SL).call(this,t);return}if(t.callback){const i=t.callbackId,s=this.callbackCapabilities[i];if(!s)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===Hg.DATA)s.resolve(t.data);else if(t.callback===Hg.ERROR)s.reject(Tn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,s=t.sourceName,a=this.comObj;Promise.try(e,t.data).then(function(r){a.postMessage({sourceName:i,targetName:s,callback:Hg.DATA,callbackId:t.callbackId,data:r})},function(r){a.postMessage({sourceName:i,targetName:s,callback:Hg.ERROR,callbackId:t.callbackId,reason:Tn(r)})});return}if(t.streamId){E(this,Di,AL).call(this,t);return}e(t.data)},AL=function(t){const e=t.streamId,i=this.sourceName,s=t.sourceName,a=this.comObj,r=this,o=this.actionHandler[t.action],l={enqueue(c,h=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=h,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:i,targetName:s,stream:fe.ENQUEUE,streamId:e,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:i,targetName:s,stream:fe.CLOSE,streamId:e}),delete r.streamSinks[e])},error(c){me(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:i,targetName:s,stream:fe.ERROR,streamId:e,reason:Tn(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[e]=l,Promise.try(o,t.data,l).then(function(){a.postMessage({sourceName:i,targetName:s,stream:fe.START_COMPLETE,streamId:e,success:!0})},function(c){a.postMessage({sourceName:i,targetName:s,stream:fe.START_COMPLETE,streamId:e,reason:Tn(c)})})},SL=function(t){const e=t.streamId,i=this.sourceName,s=t.sourceName,a=this.comObj,r=this.streamControllers[e],o=this.streamSinks[e];switch(t.stream){case fe.START_COMPLETE:t.success?r.startCall.resolve():r.startCall.reject(Tn(t.reason));break;case fe.PULL_COMPLETE:t.success?r.pullCall.resolve():r.pullCall.reject(Tn(t.reason));break;case fe.PULL:if(!o){a.postMessage({sourceName:i,targetName:s,stream:fe.PULL_COMPLETE,streamId:e,success:!0});break}o.desiredSize<=0&&t.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=t.desiredSize,Promise.try(o.onPull||fx).then(function(){a.postMessage({sourceName:i,targetName:s,stream:fe.PULL_COMPLETE,streamId:e,success:!0})},function(c){a.postMessage({sourceName:i,targetName:s,stream:fe.PULL_COMPLETE,streamId:e,reason:Tn(c)})});break;case fe.ENQUEUE:if(me(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(t.chunk);break;case fe.CLOSE:if(me(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),E(this,Di,bm).call(this,r,e);break;case fe.ERROR:me(r,"error should have stream controller"),r.controller.error(Tn(t.reason)),E(this,Di,bm).call(this,r,e);break;case fe.CANCEL_COMPLETE:t.success?r.cancelCall.resolve():r.cancelCall.reject(Tn(t.reason)),E(this,Di,bm).call(this,r,e);break;case fe.CANCEL:if(!o)break;const l=Tn(t.reason);Promise.try(o.onCancel||fx,l).then(function(){a.postMessage({sourceName:i,targetName:s,stream:fe.CANCEL_COMPLETE,streamId:e,success:!0})},function(c){a.postMessage({sourceName:i,targetName:s,stream:fe.CANCEL_COMPLETE,streamId:e,reason:Tn(c)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},bm=async function(t,e){var i,s,a;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(s=t.pullCall)==null?void 0:s.promise,(a=t.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[e]};var If;class wL{constructor({enableHWA:t=!1}){w(this,If,!1);v(this,If,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!u(this,If)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Ct("Abstract method `_createCanvas` called.")}}If=new WeakMap;class jz extends wL{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class EL{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Ct("Abstract method `_fetch` called.")}}class px extends EL{async _fetch(t){const e=await Rh(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):ug(e)}}class TL{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,s,a){return"none"}destroy(t=!1){}}var Yo,dc,sa,aa,tn,$o,Ko,z,Ze,nd,hu,Am,du,xL,AA,fu,id,sd,SA,ad;class Gz extends TL{constructor({docId:e,ownerDocument:i=globalThis.document}){super();w(this,z);w(this,Yo);w(this,dc);w(this,sa);w(this,aa);w(this,tn);w(this,$o);w(this,Ko,0);v(this,aa,e),v(this,tn,i)}addFilter(e){if(!e)return"none";let i=u(this,z,Ze).get(e);if(i)return i;const[s,a,r]=E(this,z,Am).call(this,e),o=e.length===1?s:`${s}${a}${r}`;if(i=u(this,z,Ze).get(o),i)return u(this,z,Ze).set(e,i),i;const l=`g_${u(this,aa)}_transfer_map_${hn(this,Ko)._++}`,c=E(this,z,du).call(this,l);u(this,z,Ze).set(e,c),u(this,z,Ze).set(o,c);const h=E(this,z,fu).call(this,l);return E(this,z,sd).call(this,s,a,r,h),c}addHCMFilter(e,i){var y;const s=`${e}-${i}`,a="base";let r=u(this,z,nd).get(a);if((r==null?void 0:r.key)===s||(r?((y=r.filter)==null||y.remove(),r.key=s,r.url="none",r.filter=null):(r={key:s,url:"none",filter:null},u(this,z,nd).set(a,r)),!e||!i))return r.url;const o=E(this,z,ad).call(this,e);e=G.makeHexColor(...o);const l=E(this,z,ad).call(this,i);if(i=G.makeHexColor(...l),u(this,z,hu).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return r.url;const c=new Array(256);for(let m=0;m<=255;m++){const S=m/255;c[m]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const h=c.join(","),d=`g_${u(this,aa)}_hcm_filter`,f=r.filter=E(this,z,fu).call(this,d);E(this,z,sd).call(this,h,h,h,f),E(this,z,AA).call(this,f);const p=(m,S)=>{const g=o[m]/255,b=l[m]/255,A=new Array(S+1);for(let T=0;T<=S;T++)A[T]=g+T/S*(b-g);return A.join(",")};return E(this,z,sd).call(this,p(0,5),p(1,5),p(2,5),f),r.url=E(this,z,du).call(this,d),r.url}addAlphaFilter(e){let i=u(this,z,Ze).get(e);if(i)return i;const[s]=E(this,z,Am).call(this,[e]),a=`alpha_${s}`;if(i=u(this,z,Ze).get(a),i)return u(this,z,Ze).set(e,i),i;const r=`g_${u(this,aa)}_alpha_map_${hn(this,Ko)._++}`,o=E(this,z,du).call(this,r);u(this,z,Ze).set(e,o),u(this,z,Ze).set(a,o);const l=E(this,z,fu).call(this,r);return E(this,z,SA).call(this,s,l),o}addLuminosityFilter(e){let i=u(this,z,Ze).get(e||"luminosity");if(i)return i;let s,a;if(e?([s]=E(this,z,Am).call(this,[e]),a=`luminosity_${s}`):a="luminosity",i=u(this,z,Ze).get(a),i)return u(this,z,Ze).set(e,i),i;const r=`g_${u(this,aa)}_luminosity_map_${hn(this,Ko)._++}`,o=E(this,z,du).call(this,r);u(this,z,Ze).set(e,o),u(this,z,Ze).set(a,o);const l=E(this,z,fu).call(this,r);return E(this,z,xL).call(this,l),e&&E(this,z,SA).call(this,s,l),o}addHighlightHCMFilter(e,i,s,a,r){var b;const o=`${i}-${s}-${a}-${r}`;let l=u(this,z,nd).get(e);if((l==null?void 0:l.key)===o||(l?((b=l.filter)==null||b.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},u(this,z,nd).set(e,l)),!i||!s))return l.url;const[c,h]=[i,s].map(E(this,z,ad).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[p,y]=[a,r].map(E(this,z,ad).bind(this));f<d&&([d,f,p,y]=[f,d,y,p]),u(this,z,hu).style.color="";const m=(A,T,x)=>{const C=new Array(256),_=(f-d)/x,M=A/255,L=(T-A)/(255*x);let O=0;for(let N=0;N<=x;N++){const X=Math.round(d+N*_),J=M+N*L;for(let q=O;q<=X;q++)C[q]=J;O=X+1}for(let N=O;N<256;N++)C[N]=C[O-1];return C.join(",")},S=`g_${u(this,aa)}_hcm_${e}_filter`,g=l.filter=E(this,z,fu).call(this,S);return E(this,z,AA).call(this,g),E(this,z,sd).call(this,m(p[0],y[0],5),m(p[1],y[1],5),m(p[2],y[2],5),g),l.url=E(this,z,du).call(this,S),l.url}destroy(e=!1){var i,s,a,r;e&&((i=u(this,$o))!=null&&i.size)||((s=u(this,sa))==null||s.parentNode.parentNode.remove(),v(this,sa,null),(a=u(this,dc))==null||a.clear(),v(this,dc,null),(r=u(this,$o))==null||r.clear(),v(this,$o,null),v(this,Ko,0))}}Yo=new WeakMap,dc=new WeakMap,sa=new WeakMap,aa=new WeakMap,tn=new WeakMap,$o=new WeakMap,Ko=new WeakMap,z=new WeakSet,Ze=function(){return u(this,dc)||v(this,dc,new Map)},nd=function(){return u(this,$o)||v(this,$o,new Map)},hu=function(){if(!u(this,sa)){const e=u(this,tn).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const s=u(this,tn).createElementNS(js,"svg");s.setAttribute("width",0),s.setAttribute("height",0),v(this,sa,u(this,tn).createElementNS(js,"defs")),e.append(s),s.append(u(this,sa)),u(this,tn).body.append(e)}return u(this,sa)},Am=function(e){if(e.length===1){const c=e[0],h=new Array(256);for(let f=0;f<256;f++)h[f]=c[f]/255;const d=h.join(",");return[d,d,d]}const[i,s,a]=e,r=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)r[c]=i[c]/255,o[c]=s[c]/255,l[c]=a[c]/255;return[r.join(","),o.join(","),l.join(",")]},du=function(e){if(u(this,Yo)===void 0){v(this,Yo,"");const i=u(this,tn).URL;i!==u(this,tn).baseURI&&(hg(i)?Z('#createUrl: ignore "data:"-URL for performance reasons.'):v(this,Yo,Jw(i,"")))}return`url(${u(this,Yo)}#${e})`},xL=function(e){const i=u(this,tn).createElementNS(js,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},AA=function(e){const i=u(this,tn).createElementNS(js,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},fu=function(e){const i=u(this,tn).createElementNS(js,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),u(this,z,hu).append(i),i},id=function(e,i,s){const a=u(this,tn).createElementNS(js,i);a.setAttribute("type","discrete"),a.setAttribute("tableValues",s),e.append(a)},sd=function(e,i,s,a){const r=u(this,tn).createElementNS(js,"feComponentTransfer");a.append(r),E(this,z,id).call(this,r,"feFuncR",e),E(this,z,id).call(this,r,"feFuncG",i),E(this,z,id).call(this,r,"feFuncB",s)},SA=function(e,i){const s=u(this,tn).createElementNS(js,"feComponentTransfer");i.append(s),E(this,z,id).call(this,s,"feFuncA",e)},ad=function(e){return u(this,z,hu).style.color=e,nE(getComputedStyle(u(this,z,hu)).getPropertyValue("color"))};class _L{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Ct("Abstract method `_fetch` called.")}}class gx extends _L{async _fetch(t){const e=await Rh(t,"arraybuffer");return new Uint8Array(e)}}class CL{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Ct("Abstract method `_fetch` called.")}}class mx extends CL{async _fetch(t){const e=await Rh(t,"arraybuffer");return new Uint8Array(e)}}yn&&Z("Please use the `legacy` build in Node.js environments.");async function sE(n){const e=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(e)}class qz extends TL{}class Xz extends wL{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class Yz extends EL{async _fetch(t){return sE(t)}}class $z extends _L{async _fetch(t){return sE(t)}}class Kz extends CL{async _fetch(t){return sE(t)}}const Xe={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function wA(n,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,i),n.clip(s)}class aE{isModifyingCurrentTransform(){return!1}getPattern(){Ct("Abstract method `getPattern` called.")}}class Wz extends aE{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,s){let a;if(s===Xe.STROKE||s===Xe.FILL){const r=e.current.getClippedPathBoundingBox(s,$t(t))||[0,0,0,0],o=Math.ceil(r[2]-r[0])||1,l=Math.ceil(r[3]-r[1])||1,c=e.cachedCanvases.getCanvas("pattern",o,l),h=c.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-r[0],-r[1]),i=G.transform(i,[1,0,0,1,r[0],r[1]]),h.transform(...e.baseTransform),this.matrix&&h.transform(...this.matrix),wA(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),a=t.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(i);a.setTransform(d)}else wA(t,this._bbox),a=this._createGradient(t);return a}}function P0(n,t,e,i,s,a,r,o){const l=t.coords,c=t.colors,h=n.data,d=n.width*4;let f;l[e+1]>l[i+1]&&(f=e,e=i,i=f,f=a,a=r,r=f),l[i+1]>l[s+1]&&(f=i,i=s,s=f,f=r,r=o,o=f),l[e+1]>l[i+1]&&(f=e,e=i,i=f,f=a,a=r,r=f);const p=(l[e]+t.offsetX)*t.scaleX,y=(l[e+1]+t.offsetY)*t.scaleY,m=(l[i]+t.offsetX)*t.scaleX,S=(l[i+1]+t.offsetY)*t.scaleY,g=(l[s]+t.offsetX)*t.scaleX,b=(l[s+1]+t.offsetY)*t.scaleY;if(y>=b)return;const A=c[a],T=c[a+1],x=c[a+2],C=c[r],_=c[r+1],M=c[r+2],L=c[o],O=c[o+1],N=c[o+2],X=Math.round(y),J=Math.round(b);let q,Q,D,P,V,tt,rt,be;for(let bt=X;bt<=J;bt++){if(bt<S){const Mt=bt<y?0:(y-bt)/(y-S);q=p-(p-m)*Mt,Q=A-(A-C)*Mt,D=T-(T-_)*Mt,P=x-(x-M)*Mt}else{let Mt;bt>b?Mt=1:S===b?Mt=0:Mt=(S-bt)/(S-b),q=m-(m-g)*Mt,Q=C-(C-L)*Mt,D=_-(_-O)*Mt,P=M-(M-N)*Mt}let pt;bt<y?pt=0:bt>b?pt=1:pt=(y-bt)/(y-b),V=p-(p-g)*pt,tt=A-(A-L)*pt,rt=T-(T-O)*pt,be=x-(x-N)*pt;const ne=Math.round(Math.min(q,V)),de=Math.round(Math.max(q,V));let un=d*bt+ne*4;for(let Mt=ne;Mt<=de;Mt++)pt=(q-Mt)/(q-V),pt<0?pt=0:pt>1&&(pt=1),h[un++]=Q-(Q-tt)*pt|0,h[un++]=D-(D-rt)*pt|0,h[un++]=P-(P-be)*pt|0,h[un++]=255}}function Qz(n,t,e){const i=t.coords,s=t.colors;let a,r;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(i.length/o)-1,c=o-1;for(a=0;a<l;a++){let h=a*o;for(let d=0;d<c;d++,h++)P0(n,e,i[h],i[h+1],i[h+o],s[h],s[h+1],s[h+o]),P0(n,e,i[h+o+1],i[h+1],i[h+o],s[h+o+1],s[h+1],s[h+o])}break;case"triangles":for(a=0,r=i.length;a<r;a+=3)P0(n,e,i[a],i[a+1],i[a+2],s[a],s[a+1],s[a+2]);break;default:throw new Error("illegal figure")}}class Zz extends aE{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,h=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*t[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(h*t[1]*1.1)),3e3),p=c/d,y=h/f,m={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/p,scaleY:1/y},S=d+2*2,g=f+2*2,b=i.getCanvas("mesh",S,g),A=b.context,T=A.createImageData(d,f);if(e){const C=T.data;for(let _=0,M=C.length;_<M;_+=4)C[_]=e[0],C[_+1]=e[1],C[_+2]=e[2],C[_+3]=255}for(const C of this._figures)Qz(T,C,m);return A.putImageData(T,2,2),{canvas:b.canvas,offsetX:o-2*p,offsetY:l-2*y,scaleX:p,scaleY:y}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,s){wA(t,this._bbox);const a=new Float32Array(2);if(s===Xe.SHADING)G.singularValueDecompose2dScale($t(t),a);else if(this.matrix){G.singularValueDecompose2dScale(this.matrix,a);const[o,l]=a;G.singularValueDecompose2dScale(e.baseTransform,a),a[0]*=o,a[1]*=l}else G.singularValueDecompose2dScale(e.baseTransform,a);const r=this._createMeshCanvas(a,s===Xe.SHADING?null:this._background,e.cachedCanvases);return s!==Xe.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(r.offsetX,r.offsetY),t.scale(r.scaleX,r.scaleY),t.createPattern(r.canvas,"no-repeat")}}class Jz extends aE{getPattern(){return"hotpink"}}function tH(n){switch(n[0]){case"RadialAxial":return new Wz(n);case"Mesh":return new Zz(n);case"Dummy":return new Jz}throw new Error(`Unknown IR type: ${n[0]}`)}const yx={COLORED:1,UNCOLORED:2},Vy=class Vy{constructor(t,e,i,s){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(t){const{bbox:e,operatorList:i,paintType:s,tilingType:a,color:r,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),Sv("TilingType: "+a);const h=e[0],d=e[1],f=e[2],p=e[3],y=f-h,m=p-d,S=new Float32Array(2);G.singularValueDecompose2dScale(this.matrix,S);const[g,b]=S;G.singularValueDecompose2dScale(this.baseTransform,S);const A=g*S[0],T=b*S[1];let x=y,C=m,_=!1,M=!1;const L=Math.ceil(l*A),O=Math.ceil(c*T),N=Math.ceil(y*A),X=Math.ceil(m*T);L>=N?x=l:_=!0,O>=X?C=c:M=!0;const J=this.getSizeAndScale(x,this.ctx.canvas.width,A),q=this.getSizeAndScale(C,this.ctx.canvas.height,T),Q=t.cachedCanvases.getCanvas("pattern",J.size,q.size),D=Q.context,P=o.createCanvasGraphics(D);if(P.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(P,s,r),D.translate(-J.scale*h,-q.scale*d),P.transform(J.scale,0,0,q.scale,0,0),D.save(),this.clipBbox(P,h,d,f,p),P.baseTransform=$t(P.ctx),P.executeOperatorList(i),P.endDrawing(),D.restore(),_||M){const V=Q.canvas;_&&(x=l),M&&(C=c);const tt=this.getSizeAndScale(x,this.ctx.canvas.width,A),rt=this.getSizeAndScale(C,this.ctx.canvas.height,T),be=tt.size,bt=rt.size,pt=t.cachedCanvases.getCanvas("pattern-workaround",be,bt),ne=pt.context,de=_?Math.floor(y/l):0,un=M?Math.floor(m/c):0;for(let Mt=0;Mt<=de;Mt++)for(let ns=0;ns<=un;ns++)ne.drawImage(V,be*Mt,bt*ns,be,bt,0,0,be,bt);return{canvas:pt.canvas,scaleX:tt.scale,scaleY:rt.scale,offsetX:h,offsetY:d}}return{canvas:Q.canvas,scaleX:J.scale,scaleY:q.scale,offsetX:h,offsetY:d}}getSizeAndScale(t,e,i){const s=Math.max(Vy.MAX_PATTERN_SIZE,e);let a=Math.ceil(t*i);return a>=s?a=s:i=a/t,{scale:i,size:a}}clipBbox(t,e,i,s,a){const r=s-e,o=a-i;t.ctx.rect(e,i,r,o),G.axialAlignedBoundingBox([e,i,s,a],$t(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const s=t.ctx,a=t.current;switch(e){case yx.COLORED:const{fillStyle:r,strokeStyle:o}=this.ctx;s.fillStyle=a.fillColor=r,s.strokeStyle=a.strokeColor=o;break;case yx.UNCOLORED:s.fillStyle=s.strokeStyle=i,a.fillColor=a.strokeColor=i;break;default:throw new Tz(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,s){let a=i;s!==Xe.SHADING&&(a=G.transform(a,e.baseTransform),this.matrix&&(a=G.transform(a,this.matrix)));const r=this.createPatternCanvas(e);let o=new DOMMatrix(a);o=o.translate(r.offsetX,r.offsetY),o=o.scale(1/r.scaleX,1/r.scaleY);const l=t.createPattern(r.canvas,"repeat");return l.setTransform(o),l}};B(Vy,"MAX_PATTERN_SIZE",3e3);let EA=Vy;function eH({src:n,srcPos:t=0,dest:e,width:i,height:s,nonBlackColor:a=4294967295,inverseDecode:r=!1}){const o=Fe.isLittleEndian?4278190080:255,[l,c]=r?[a,o]:[o,a],h=i>>3,d=i&7,f=n.length;e=new Uint32Array(e.buffer);let p=0;for(let y=0;y<s;y++){for(const S=t+h;t<S;t++){const g=t<f?n[t]:255;e[p++]=g&128?c:l,e[p++]=g&64?c:l,e[p++]=g&32?c:l,e[p++]=g&16?c:l,e[p++]=g&8?c:l,e[p++]=g&4?c:l,e[p++]=g&2?c:l,e[p++]=g&1?c:l}if(d===0)continue;const m=t<f?n[t++]:255;for(let S=0;S<d;S++)e[p++]=m&1<<7-S?c:l}return{srcPos:t,destPos:p}}const vx=16,bx=100,nH=15,Ax=10,On=16,N0=new DOMMatrix,ti=new Float32Array(2),ku=new Float32Array([1/0,1/0,-1/0,-1/0]);function iH(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},n.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},n.transform=function(e,i,s,a,r,o){t.transform(e,i,s,a,r,o),this.__originalTransform(e,i,s,a,r,o)},n.setTransform=function(e,i,s,a,r,o){t.setTransform(e,i,s,a,r,o),this.__originalSetTransform(e,i,s,a,r,o)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(e){t.rotate(e),this.__originalRotate(e)},n.clip=function(e){t.clip(e),this.__originalClip(e)},n.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},n.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},n.bezierCurveTo=function(e,i,s,a,r,o){t.bezierCurveTo(e,i,s,a,r,o),this.__originalBezierCurveTo(e,i,s,a,r,o)},n.rect=function(e,i,s,a){t.rect(e,i,s,a),this.__originalRect(e,i,s,a)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class sH{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,i)):(s=this.canvasFactory.create(e,i),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Ug(n,t,e,i,s,a,r,o,l,c){const[h,d,f,p,y,m]=$t(n);if(d===0&&f===0){const b=r*h+y,A=Math.round(b),T=o*p+m,x=Math.round(T),C=(r+l)*h+y,_=Math.abs(Math.round(C)-A)||1,M=(o+c)*p+m,L=Math.abs(Math.round(M)-x)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(p),A,x),n.drawImage(t,e,i,s,a,0,0,_,L),n.setTransform(h,d,f,p,y,m),[_,L]}if(h===0&&p===0){const b=o*f+y,A=Math.round(b),T=r*d+m,x=Math.round(T),C=(o+c)*f+y,_=Math.abs(Math.round(C)-A)||1,M=(r+l)*d+m,L=Math.abs(Math.round(M)-x)||1;return n.setTransform(0,Math.sign(d),Math.sign(f),0,A,x),n.drawImage(t,e,i,s,a,0,0,L,_),n.setTransform(h,d,f,p,y,m),[L,_]}n.drawImage(t,e,i,s,a,r,o,l,c);const S=Math.hypot(h,d),g=Math.hypot(f,p);return[S*l,g*c]}class Sx{constructor(t,e){B(this,"alphaIsShape",!1);B(this,"fontSize",0);B(this,"fontSizeScale",1);B(this,"textMatrix",null);B(this,"textMatrixScale",1);B(this,"fontMatrix",tA);B(this,"leading",0);B(this,"x",0);B(this,"y",0);B(this,"lineX",0);B(this,"lineY",0);B(this,"charSpacing",0);B(this,"wordSpacing",0);B(this,"textHScale",1);B(this,"textRenderingMode",Qe.FILL);B(this,"textRise",0);B(this,"fillColor","#000000");B(this,"strokeColor","#000000");B(this,"patternFill",!1);B(this,"patternStroke",!1);B(this,"fillAlpha",1);B(this,"strokeAlpha",1);B(this,"lineWidth",1);B(this,"activeSMask",null);B(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,t,e]),this.minMax=ku.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Xe.FILL,e=null){const i=this.minMax.slice();if(t===Xe.STROKE){e||Ct("Stroke bounding box must include transform."),G.singularValueDecompose2dScale(e,ti);const s=ti[0]*this.lineWidth/2,a=ti[1]*this.lineWidth/2;i[0]-=s,i[1]-=a,i[2]+=s,i[3]+=a}return i}updateClipFromPath(){const t=G.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(ku,0)}getClippedPathBoundingBox(t=Xe.FILL,e=null){return G.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function wx(n,t){if(t instanceof ImageData){n.putImageData(t,0,0);return}const e=t.height,i=t.width,s=e%On,a=(e-s)/On,r=s===0?a:a+1,o=n.createImageData(i,On);let l=0,c;const h=t.data,d=o.data;let f,p,y,m;if(t.kind===kd.GRAYSCALE_1BPP){const S=h.byteLength,g=new Uint32Array(d.buffer,0,d.byteLength>>2),b=g.length,A=i+7>>3,T=4294967295,x=Fe.isLittleEndian?4278190080:255;for(f=0;f<r;f++){for(y=f<a?On:s,c=0,p=0;p<y;p++){const C=S-l;let _=0;const M=C>A?i:C*8-7,L=M&-8;let O=0,N=0;for(;_<L;_+=8)N=h[l++],g[c++]=N&128?T:x,g[c++]=N&64?T:x,g[c++]=N&32?T:x,g[c++]=N&16?T:x,g[c++]=N&8?T:x,g[c++]=N&4?T:x,g[c++]=N&2?T:x,g[c++]=N&1?T:x;for(;_<M;_++)O===0&&(N=h[l++],O=128),g[c++]=N&O?T:x,O>>=1}for(;c<b;)g[c++]=0;n.putImageData(o,0,f*On)}}else if(t.kind===kd.RGBA_32BPP){for(p=0,m=i*On*4,f=0;f<a;f++)d.set(h.subarray(l,l+m)),l+=m,n.putImageData(o,0,p),p+=On;f<r&&(m=i*s*4,d.set(h.subarray(l,l+m)),n.putImageData(o,0,p))}else if(t.kind===kd.RGB_24BPP)for(y=On,m=i*y,f=0;f<r;f++){for(f>=a&&(y=s,m=i*y),c=0,p=m;p--;)d[c++]=h[l++],d[c++]=h[l++],d[c++]=h[l++],d[c++]=255;n.putImageData(o,0,f*On)}else throw new Error(`bad image kind: ${t.kind}`)}function Ex(n,t){if(t.bitmap){n.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,s=e%On,a=(e-s)/On,r=s===0?a:a+1,o=n.createImageData(i,On);let l=0;const c=t.data,h=o.data;for(let d=0;d<r;d++){const f=d<a?On:s;({srcPos:l}=eH({src:c,srcPos:l,dest:h,width:i,height:f,nonBlackColor:0})),n.putImageData(o,0,d*On)}}function zh(n,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)n[i]!==void 0&&(t[i]=n[i]);n.setLineDash!==void 0&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function jg(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:t}=n;t!=="none"&&t!==""&&(n.filter="none")}function Tx(n,t){if(t)return!0;G.singularValueDecompose2dScale(n,ti);const e=Math.fround(Ji.pixelRatio*Ua.PDF_TO_CSS_UNITS);return ti[0]<=e&&ti[1]<=e}const aH=["butt","round","square"],rH=["miter","round","bevel"],oH={},xx={};var ts,TA,xA,_A;const gE=class gE{constructor(t,e,i,s,a,{optionalContentConfig:r,markedContentStack:o=null},l,c){w(this,ts);this.ctx=t,this.current=new Sx(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=s,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=r,this.cachedCanvases=new sH(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:s=null}){const a=this.ctx.canvas.width,r=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,a,r),this.ctx.fillStyle=o,i){const l=this.cachedCanvases.getCanvas("transparent",a,r);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...$t(this.compositeCtx))}this.ctx.save(),jg(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=$t(this.ctx)}executeOperatorList(t,e,i,s){const a=t.argsArray,r=t.fnArray;let o=e||0;const l=a.length;if(l===o)return o;const c=l-o>Ax&&typeof i=="function",h=c?Date.now()+nH:0;let d=0;const f=this.commonObjs,p=this.objs;let y;for(;;){if(s!==void 0&&o===s.nextBreakPoint)return s.breakIt(o,i),o;if(y=r[o],y!==af.dependency)this[y].apply(this,a[o]);else for(const m of a[o]){const S=m.startsWith("g_")?f:p;if(!S.has(m))return S.get(m,i),o}if(o++,o===l)return o;if(c&&++d>Ax){if(Date.now()>h)return i(),o;d=0}}}endDrawing(){E(this,ts,TA).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),E(this,ts,xA).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,s=t.height??t.displayHeight;let a=Math.max(Math.hypot(e[0],e[1]),1),r=Math.max(Math.hypot(e[2],e[3]),1),o=i,l=s,c="prescale1",h,d;for(;a>2&&o>1||r>2&&l>1;){let f=o,p=l;a>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),a/=o/f),r>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,r/=l/p),h=this.cachedCanvases.getCanvas(c,f,p),d=h.context,d.clearRect(0,0,f,p),d.drawImage(t,0,0,o,l,0,0,f,p),t=h.canvas,o=f,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:o,paintHeight:l}}_createMaskCanvas(t){const e=this.ctx,{width:i,height:s}=t,a=this.current.fillColor,r=this.current.patternFill,o=$t(e);let l,c,h,d;if((t.bitmap||t.data)&&t.count>1){const L=t.bitmap||t.data.buffer;c=JSON.stringify(r?o:[o.slice(0,4),a]),l=this._cachedBitmapsMap.get(L),l||(l=new Map,this._cachedBitmapsMap.set(L,l));const O=l.get(c);if(O&&!r){const N=Math.round(Math.min(o[0],o[2])+o[4]),X=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:O,offsetX:N,offsetY:X}}h=O}h||(d=this.cachedCanvases.getCanvas("maskCanvas",i,s),Ex(d.context,t));let f=G.transform(o,[1/i,0,0,-1/s,0,0]);f=G.transform(f,[1,0,0,1,0,-s]);const p=ku.slice();G.axialAlignedBoundingBox([0,0,i,s],f,p);const[y,m,S,g]=p,b=Math.round(S-y)||1,A=Math.round(g-m)||1,T=this.cachedCanvases.getCanvas("fillCanvas",b,A),x=T.context,C=y,_=m;x.translate(-C,-_),x.transform(...f),h||(h=this._scaleImage(d.canvas,as(x)),h=h.img,l&&r&&l.set(c,h)),x.imageSmoothingEnabled=Tx($t(x),t.interpolate),Ug(x,h,0,0,h.width,h.height,0,0,i,s),x.globalCompositeOperation="source-in";const M=G.transform(as(x),[1,0,0,1,-C,-_]);return x.fillStyle=r?a.getPattern(e,this,M,Xe.FILL):a,x.fillRect(0,0,i,s),l&&!r&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,T.canvas)),{canvas:T.canvas,offsetX:Math.round(C),offsetY:Math.round(_)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=aH[t]}setLineJoin(t){this.ctx.lineJoin=rH[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),zh(this.suspendedCtx,a),iH(a,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),zh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,s){const a=s[0],r=s[1],o=s[2]-a,l=s[3]-r;o===0||l===0||(this.genericComposeSMask(e.context,i,o,l,e.subtype,e.backdrop,e.transferMap,a,r,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,s,a,r,o,l,c,h,d){let f=t.canvas,p=l-h,y=c-d;if(r)if(p<0||y<0||p+i>f.width||y+s>f.height){const S=this.cachedCanvases.getCanvas("maskExtension",i,s),g=S.context;g.drawImage(f,-p,-y),g.globalCompositeOperation="destination-atop",g.fillStyle=r,g.fillRect(0,0,i,s),g.globalCompositeOperation="source-over",f=S.canvas,p=y=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(p,y,i,s),t.clip(S),t.globalCompositeOperation="destination-atop",t.fillStyle=r,t.fillRect(p,y,i,s),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),a==="Alpha"&&o?e.filter=this.filterFactory.addAlphaFilter(o):a==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(o));const m=new Path2D;m.rect(l,c,i,s),e.clip(m),e.globalCompositeOperation="destination-in",e.drawImage(f,p,y,i,s,l,c,i,s),e.restore()}save(){this.inSMaskMode&&zh(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&zh(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,s,a,r){this.ctx.transform(t,e,i,s,a,r),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){let[s]=e;if(!i){s||(s=e[0]=new Path2D),this[t](s);return}if(!(s instanceof Path2D)){const a=e[0]=new Path2D;for(let r=0,o=s.length;r<o;)switch(s[r++]){case Vg.moveTo:a.moveTo(s[r++],s[r++]);break;case Vg.lineTo:a.lineTo(s[r++],s[r++]);break;case Vg.curveTo:a.bezierCurveTo(s[r++],s[r++],s[r++],s[r++],s[r++],s[r++]);break;case Vg.closePath:a.closePath();break;default:Z(`Unrecognized drawing path operator: ${s[r-1]}`);break}s=a}G.axialAlignedBoundingBox(i,$t(this.ctx),this.current.minMax),this[t](s)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const a=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,as(i),Xe.STROKE),a){const r=new Path2D;r.addPath(t,i.getTransform().invertSelf().multiplySelf(a)),t=r}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(Xe.STROKE,$t(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let r=!1;if(a){const l=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.fillStyle=s.getPattern(i,this,as(i),Xe.FILL),l){const c=new Path2D;c.addPath(t,i.getTransform().invertSelf().multiplySelf(l)),t=c}r=!0}const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),r&&i.restore(),e&&this.consumePath(t,o)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=oH}eoClip(){this.pendingClip=xx}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const i=new Path2D,s=e.getTransform().invertSelf();for(const{transform:a,x:r,y:o,fontSize:l,path:c}of t)i.addPath(c,new DOMMatrix(a).preMultiplySelf(s).translate(r,o).scale(l,-l));e.clip(i),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var h;const i=this.commonObjs.get(t),s=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=i.fontMatrix||tA,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Z("Invalid font matrix for font "+t),e<0?(e=-e,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const a=i.loadedName||"sans-serif",r=((h=i.systemFontInfo)==null?void 0:h.css)||`"${a}", ${i.fallbackName}`;let o="normal";i.black?o="900":i.bold&&(o="bold");const l=i.italic?"italic":"normal";let c=e;e<vx?c=vx:e>bx&&(c=bx),this.current.fontSizeScale=e/c,this.ctx.font=`${l} ${o} ${c}px ${r}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,i,s,a){const r=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,h=o.fontSize/o.fontSizeScale,d=c&Qe.FILL_STROKE_MASK,f=!!(c&Qe.ADD_TO_PATH_FLAG),p=o.patternFill&&!l.missingFile,y=o.patternStroke&&!l.missingFile;let m;if((l.disableFontFace||f||p||y)&&(m=l.getPathGenerator(this.commonObjs,t)),l.disableFontFace||p||y){r.save(),r.translate(e,i),r.scale(h,-h);let S;if((d===Qe.FILL||d===Qe.FILL_STROKE)&&(s?(S=r.getTransform(),r.setTransform(...s),r.fill(E(this,ts,_A).call(this,m,S,s))):r.fill(m)),d===Qe.STROKE||d===Qe.FILL_STROKE)if(a){S||(S=r.getTransform()),r.setTransform(...a);const{a:g,b,c:A,d:T}=S,x=G.inverseTransform(a),C=G.transform([g,b,A,T,0,0],x);G.singularValueDecompose2dScale(C,ti),r.lineWidth*=Math.max(ti[0],ti[1])/h,r.stroke(E(this,ts,_A).call(this,m,S,a))}else r.lineWidth/=h,r.stroke(m);r.restore()}else(d===Qe.FILL||d===Qe.FILL_STROKE)&&r.fillText(t,e,i),(d===Qe.STROKE||d===Qe.FILL_STROKE)&&r.strokeText(t,e,i);f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:$t(r),x:e,y:i,fontSize:h,path:m})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){i=!0;break}return ut(this,"isFontSubpixelAAEnabled",i)}showText(t){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);const s=e.fontSize;if(s===0)return;const a=this.ctx,r=e.fontSizeScale,o=e.charSpacing,l=e.wordSpacing,c=e.fontDirection,h=e.textHScale*c,d=t.length,f=i.vertical,p=f?1:-1,y=i.defaultVMetrics,m=s*e.fontMatrix[0],S=e.textRenderingMode===Qe.FILL&&!i.disableFontFace&&!e.patternFill;a.save(),e.textMatrix&&a.transform(...e.textMatrix),a.translate(e.x,e.y+e.textRise),c>0?a.scale(h,-1):a.scale(h,1);let g,b;if(e.patternFill){a.save();const _=e.fillColor.getPattern(a,this,as(a),Xe.FILL);g=$t(a),a.restore(),a.fillStyle=_}if(e.patternStroke){a.save();const _=e.strokeColor.getPattern(a,this,as(a),Xe.STROKE);b=$t(a),a.restore(),a.strokeStyle=_}let A=e.lineWidth;const T=e.textMatrixScale;if(T===0||A===0){const _=e.textRenderingMode&Qe.FILL_STROKE_MASK;(_===Qe.STROKE||_===Qe.FILL_STROKE)&&(A=this.getSinglePixelWidth())}else A/=T;if(r!==1&&(a.scale(r,r),A/=r),a.lineWidth=A,i.isInvalidPDFjsFont){const _=[];let M=0;for(const L of t)_.push(L.unicode),M+=L.width;a.fillText(_.join(""),0,0),e.x+=M*m*h,a.restore(),this.compose();return}let x=0,C;for(C=0;C<d;++C){const _=t[C];if(typeof _=="number"){x+=p*_*s/1e3;continue}let M=!1;const L=(_.isSpace?l:0)+o,O=_.fontChar,N=_.accent;let X,J,q=_.width;if(f){const D=_.vmetric||y,P=-(_.vmetric?D[1]:q*.5)*m,V=D[2]*m;q=D?-D[0]:q,X=P/r,J=(x+V)/r}else X=x/r,J=0;if(i.remeasure&&q>0){const D=a.measureText(O).width*1e3/s*r;if(q<D&&this.isFontSubpixelAAEnabled){const P=q/D;M=!0,a.save(),a.scale(P,1),X/=P}else q!==D&&(X+=(q-D)/2e3*s/r)}if(this.contentVisible&&(_.isInFont||i.missingFile)){if(S&&!N)a.fillText(O,X,J);else if(this.paintChar(O,X,J,g,b),N){const D=X+s*N.offset.x/r,P=J-s*N.offset.y/r;this.paintChar(N.fontChar,D,P,g,b)}}const Q=f?q*m-L*c:q*m+L*c;x+=Q,M&&a.restore()}f?e.y-=x:e.x+=x*h,a.restore(),this.compose()}showType3Text(t){const e=this.ctx,i=this.current,s=i.font,a=i.fontSize,r=i.fontDirection,o=s.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,h=i.textHScale*r,d=i.fontMatrix||tA,f=t.length,p=i.textRenderingMode===Qe.INVISIBLE;let y,m,S,g;if(!(p||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),i.textMatrix&&e.transform(...i.textMatrix),e.translate(i.x,i.y+i.textRise),e.scale(h,r),y=0;y<f;++y){if(m=t[y],typeof m=="number"){g=o*m*a/1e3,this.ctx.translate(g,0),i.x+=g*h;continue}const b=(m.isSpace?c:0)+l,A=s.charProcOperatorList[m.operatorListId];A?this.contentVisible&&(this.save(),e.scale(a,a),e.transform(...d),this.executeOperatorList(A),this.restore()):Z(`Type3 character "${m.operatorListId}" is not available.`);const T=[m.width,0];G.applyTransform(T,d),S=T[0]*a+b,e.translate(S,0),i.x+=S*h}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,s,a,r){const o=new Path2D;o.rect(i,s,a-i,r-s),this.ctx.clip(o),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const i=this.baseTransform||$t(this.ctx),s={createCanvasGraphics:a=>new gE(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new EA(t,this.ctx,s,i)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=tH(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,as(e),Xe.SHADING);const s=as(e);if(s){const{width:a,height:r}=e.canvas,o=ku.slice();G.axialAlignedBoundingBox([0,0,a,r],s,o);const[l,c,h,d]=o;this.ctx.fillRect(l,c,h-l,d-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ct("Should not call beginInlineImage")}beginImageData(){Ct("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=$t(this.ctx),e)){G.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[i,s,a,r]=e,o=new Path2D;o.rect(i,s,a-i,r-s),this.ctx.clip(o),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Sv("TODO: Support non-isolated groups."),t.knockout&&Z("Knockout groups not supported.");const i=$t(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=ku.slice();G.axialAlignedBoundingBox(t.bbox,$t(e),s);const a=[0,0,e.canvas.width,e.canvas.height];s=G.intersect(s,a)||[0,0,0,0];const r=Math.floor(s[0]),o=Math.floor(s[1]),l=Math.max(Math.ceil(s[2])-r,1),c=Math.max(Math.ceil(s[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,c]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(h,l,c),f=d.context;f.translate(-r,-o),f.transform(...i);let p=new Path2D;const[y,m,S,g]=t.bbox;if(p.rect(y,m,S-y,g-m),t.matrix){const b=new Path2D;b.addPath(p,new DOMMatrix(t.matrix)),p=b}f.clip(p),t.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:r,offsetY:o,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(r,o),e.save()),zh(e,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=$t(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const a=ku.slice();G.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],s,a),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(t,e,i,s,a){if(E(this,ts,TA).call(this),jg(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const r=e[2]-e[0],o=e[3]-e[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=r,e[3]=o,G.singularValueDecompose2dScale($t(this.ctx),ti);const{viewportScale:l}=this,c=Math.ceil(r*this.outputScaleX*l),h=Math.ceil(o*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(c,h);const{canvas:d,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(t,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.save(),this.ctx.setTransform(ti[0],0,0,-ti[1],0,o*ti[1]),jg(this.ctx)}else{jg(this.ctx),this.endPath();const l=new Path2D;l.rect(e[0],e[1],r,o),this.ctx.clip(l)}}this.current=new Sx(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),E(this,ts,xA).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const i=this.ctx,s=this._createMaskCanvas(t),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,s=0,a,r){if(!this.contentVisible)return;t=this.getObject(t.data,t);const o=this.ctx;o.save();const l=$t(o);o.transform(e,i,s,a,0,0);const c=this._createMaskCanvas(t);o.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let h=0,d=r.length;h<d;h+=2){const f=G.transform(l,[e,i,s,a,r[h],r[h+1]]);o.drawImage(c.canvas,f[4],f[5])}o.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,s=this.current.patternFill;for(const a of t){const{data:r,width:o,height:l,transform:c}=a,h=this.cachedCanvases.getCanvas("maskCanvas",o,l),d=h.context;d.save();const f=this.getObject(r,a);Ex(d,f),d.globalCompositeOperation="source-in",d.fillStyle=s?i.getPattern(d,this,as(e),Xe.FILL):i,d.fillRect(0,0,o,l),d.restore(),e.save(),e.transform(...c),e.scale(1,-1),Ug(e,h.canvas,0,0,o,l,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Z("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,s){if(!this.contentVisible)return;const a=this.getObject(t);if(!a){Z("Dependent image isn't ready yet");return}const r=a.width,o=a.height,l=[];for(let c=0,h=s.length;c<h;c+=2)l.push({transform:[e,0,0,i,s[c],s[c+1]],x:0,y:0,w:r,h:o});this.paintInlineImageXObjectGroup(a,l)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:s}=t,a=this.cachedCanvases.getCanvas("inlineImage",i,s),r=a.context;return r.filter=this.current.transferMaps,r.drawImage(e,0,0),r.filter="none",a.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,i=t.height,s=this.ctx;this.save();const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/e,-1/i);let r;if(t.bitmap)r=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)r=t;else{const c=this.cachedCanvases.getCanvas("inlineImage",e,i).context;wx(c,t),r=this.applyTransferMapsToCanvas(c)}const o=this._scaleImage(r,as(s));s.imageSmoothingEnabled=Tx($t(s),t.interpolate),Ug(s,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const a=t.width,r=t.height,l=this.cachedCanvases.getCanvas("inlineImage",a,r).context;wx(l,t),s=this.applyTransferMapsToCanvas(l)}for(const a of e)i.save(),i.transform(...a.transform),i.scale(1,-1),Ug(i,s,a.x,a.y,a.w,a.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const s=this.ctx;this.pendingClip&&(i||(this.pendingClip===xx?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=$t(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:s,d:a}=this.ctx.getTransform();let r,o;if(i===0&&s===0){const l=Math.abs(e),c=Math.abs(a);if(l===c)if(t===0)r=o=1/l;else{const h=l*t;r=o=h<1?1/h:1}else if(t===0)r=1/l,o=1/c;else{const h=l*t,d=c*t;r=h<1?1/h:1,o=d<1?1/d:1}}else{const l=Math.abs(e*a-i*s),c=Math.hypot(e,i),h=Math.hypot(s,a);if(t===0)r=h/l,o=c/l;else{const d=t*l;r=h>d?h/d:1,o=c>d?c/d:1}}this._cachedScaleForStroking[0]=r,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:s}}=this,[a,r]=this.getScaleForStroking();if(a===r){i.lineWidth=(s||1)*a,i.stroke(t);return}const o=i.getLineDash();e&&i.save(),i.scale(a,r),N0.a=1/a,N0.d=1/r;const l=new Path2D;if(l.addPath(t,N0),o.length>0){const c=Math.max(a,r);i.setLineDash(o.map(h=>h/c)),i.lineDashOffset/=c}i.lineWidth=s||1,i.stroke(l),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};ts=new WeakSet,TA=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},xA=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},_A=function(t,e,i){const s=new Path2D;return s.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),s};let Xu=gE;for(const n in af)Xu.prototype[n]!==void 0&&(Xu.prototype[af[n]]=Xu.prototype[n]);var Ff,Vf;class _i{static get workerPort(){return u(this,Ff)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");v(this,Ff,t)}static get workerSrc(){return u(this,Vf)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");v(this,Vf,t)}}Ff=new WeakMap,Vf=new WeakMap,w(_i,Ff,null),w(_i,Vf,"");var fc,zf;class lH{constructor({parsedData:t,rawData:e}){w(this,fc);w(this,zf);v(this,fc,t),v(this,zf,e)}getRaw(){return u(this,zf)}get(t){return u(this,fc).get(t)??null}[Symbol.iterator](){return u(this,fc).entries()}}fc=new WeakMap,zf=new WeakMap;const pu=Symbol("INTERNAL");var Hf,Uf,jf,pc;class uH{constructor(t,{name:e,intent:i,usage:s,rbGroups:a}){w(this,Hf,!1);w(this,Uf,!1);w(this,jf,!1);w(this,pc,!0);v(this,Hf,!!(t&Zn.DISPLAY)),v(this,Uf,!!(t&Zn.PRINT)),this.name=e,this.intent=i,this.usage=s,this.rbGroups=a}get visible(){if(u(this,jf))return u(this,pc);if(!u(this,pc))return!1;const{print:t,view:e}=this.usage;return u(this,Hf)?(e==null?void 0:e.viewState)!=="OFF":u(this,Uf)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==pu&&Ct("Internal method `_setVisible` called."),v(this,jf,i),v(this,pc,e)}}Hf=new WeakMap,Uf=new WeakMap,jf=new WeakMap,pc=new WeakMap;var br,Et,gc,mc,Gf,CA;class cH{constructor(t,e=Zn.DISPLAY){w(this,Gf);w(this,br,null);w(this,Et,new Map);w(this,gc,null);w(this,mc,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,v(this,mc,t.order);for(const i of t.groups)u(this,Et).set(i.id,new uH(e,i));if(t.baseState==="OFF")for(const i of u(this,Et).values())i._setVisible(pu,!1);for(const i of t.on)u(this,Et).get(i)._setVisible(pu,!0);for(const i of t.off)u(this,Et).get(i)._setVisible(pu,!1);v(this,gc,this.getHash())}}isVisible(t){if(u(this,Et).size===0)return!0;if(!t)return Sv("Optional content group not defined."),!0;if(t.type==="OCG")return u(this,Et).has(t.id)?u(this,Et).get(t.id).visible:(Z(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return E(this,Gf,CA).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!u(this,Et).has(e))return Z(`Optional content group not found: ${e}`),!0;if(u(this,Et).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!u(this,Et).has(e))return Z(`Optional content group not found: ${e}`),!0;if(!u(this,Et).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!u(this,Et).has(e))return Z(`Optional content group not found: ${e}`),!0;if(!u(this,Et).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!u(this,Et).has(e))return Z(`Optional content group not found: ${e}`),!0;if(u(this,Et).get(e).visible)return!1}return!0}return Z(`Unknown optional content policy ${t.policy}.`),!0}return Z(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var a;const s=u(this,Et).get(t);if(!s){Z(`Optional content group not found: ${t}`);return}if(i&&e&&s.rbGroups.length)for(const r of s.rbGroups)for(const o of r)o!==t&&((a=u(this,Et).get(o))==null||a._setVisible(pu,!1,!0));s._setVisible(pu,!!e,!0),v(this,br,null)}setOCGState({state:t,preserveRB:e}){let i;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":i=s;continue}const a=u(this,Et).get(s);if(a)switch(i){case"ON":this.setVisibility(s,!0,e);break;case"OFF":this.setVisibility(s,!1,e);break;case"Toggle":this.setVisibility(s,!a.visible,e);break}}v(this,br,null)}get hasInitialVisibility(){return u(this,gc)===null||this.getHash()===u(this,gc)}getOrder(){return u(this,Et).size?u(this,mc)?u(this,mc).slice():[...u(this,Et).keys()]:null}getGroup(t){return u(this,Et).get(t)||null}getHash(){if(u(this,br)!==null)return u(this,br);const t=new gL;for(const[e,i]of u(this,Et))t.update(`${e}:${i.visible}`);return v(this,br,t.hexdigest())}[Symbol.iterator](){return u(this,Et).entries()}}br=new WeakMap,Et=new WeakMap,gc=new WeakMap,mc=new WeakMap,Gf=new WeakSet,CA=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let s=1;s<e;s++){const a=t[s];let r;if(Array.isArray(a))r=E(this,Gf,CA).call(this,a);else if(u(this,Et).has(a))r=u(this,Et).get(a).visible;else return Z(`Optional content group not found: ${a}`),!0;switch(i){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return i==="And"};class hH{constructor(t,{disableRange:e=!1,disableStream:i=!1}){me(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:a,progressiveDone:r,contentDispositionFilename:o}=t;if(this._queuedChunks=[],this._progressiveDone=r,this._contentDispositionFilename=o,(a==null?void 0:a.length)>0){const l=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),t.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),t.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const s=this._rangeReaders.some(function(a){return a._begin!==t?!1:(a._enqueue(i),!0)});me(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,s,a;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(a=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||a.call(s,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){me(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new dH(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new fH(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class dH{constructor(t,e,i=!1,s=null){this._stream=t,this._done=i||!1,this._filename=Ev(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class fH{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function pH(n){let t=!0,e=i("filename\\*","i").exec(n);if(e){e=e[1];let h=o(e);return h=unescape(h),h=l(h),h=c(h),a(h)}if(e=r(n),e){const h=c(e);return a(h)}if(e=i("filename","i").exec(n),e){e=e[1];let h=o(e);return h=c(h),a(h)}function i(h,d){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function s(h,d){if(h){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(h,{fatal:!0}),p=ug(d);d=f.decode(p),t=!1}catch{}}return d}function a(h){return t&&/[\x80-\xff]/.test(h)&&(h=s("utf-8",h),t&&(h=s("iso-8859-1",h))),h}function r(h){const d=[];let f;const p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(h))!==null;){let[,m,S,g]=f;if(m=parseInt(m,10),m in d){if(m===0)break;continue}d[m]=[S,g]}const y=[];for(let m=0;m<d.length&&m in d;++m){let[S,g]=d[m];g=o(g),S&&(g=unescape(g),m===0&&(g=l(g))),y.push(g)}return y.join("")}function o(h){if(h.startsWith('"')){const d=h.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}h=d.join('"')}return h}function l(h){const d=h.indexOf("'");if(d===-1)return h;const f=h.slice(0,d),y=h.slice(d+1).replace(/^[^']*'/,"");return s(f,y)}function c(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,y){if(p==="q"||p==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,S){return String.fromCharCode(parseInt(S,16))}),s(f,y);try{y=atob(y)}catch{}return s(f,y)})}return""}function RL(n,t){const e=new Headers;if(!n||!t||typeof t!="object")return e;for(const i in t){const s=t[i];s!==void 0&&e.append(i,s)}return e}function xv(n){var t;return((t=URL.parse(n))==null?void 0:t.origin)??null}function ML({responseHeaders:n,isHttp:t,rangeChunkSize:e,disableRange:i}){const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(n.get("Content-Length"),10);return!Number.isInteger(a)||(s.suggestedLength=a,a<=2*e)||i||!t||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function DL(n){const t=n.get("Content-Disposition");if(t){let e=pH(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Ev(e))return e}return null}function fg(n,t){return new rf(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n,n===404||n===0&&t.startsWith("file:"))}function LL(n){return n===200||n===206}function OL(n,t,e){return{method:"GET",headers:n,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function PL(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Z(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class gH{constructor(t){B(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=RL(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return me(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new mH(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new yH(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class mH{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),s=e.url;fetch(s,OL(i,this._withCredentials,this._abortController)).then(a=>{if(t._responseOrigin=xv(a.url),!LL(a.status))throw fg(a.status,s);this._reader=a.body.getReader(),this._headersCapability.resolve();const r=a.headers,{allowRangeRequests:o,suggestedLength:l}=ML({responseHeaders:r,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=DL(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ha("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:PL(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class yH{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const a=new Headers(t.headers);a.append("Range",`bytes=${e}-${i-1}`);const r=s.url;fetch(r,OL(a,this._withCredentials,this._abortController)).then(o=>{const l=xv(o.url);if(l!==t._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${t._responseOrigin}".`);if(!LL(o.status))throw fg(o.status,r);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:PL(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const k0=200,B0=206;function vH(n){const t=n.response;return typeof t!="string"?t:ug(t).buffer}class bH{constructor({url:t,httpHeaders:e,withCredentials:i}){B(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=RL(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,s=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[a,r]of this.headers)e.setRequestHeader(a,r);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=B0):s.expectedStatus=k0,e.responseType="arraybuffer",me(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var s;const i=this.pendingRequests[t];i&&((s=i.onProgress)==null||s.call(i,e))}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),s.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],s.status===0&&this.isHttp){i.onError(s.status);return}const a=s.status||k0;if(!(a===k0&&i.expectedStatus===B0)&&a!==i.expectedStatus){i.onError(s.status);return}const o=vH(s);if(a===B0){const l=s.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?i.onDone({begin:parseInt(c[1],10),chunk:o}):(Z('Missing or invalid "Content-Range" header.'),i.onError(0))}else o?i.onDone({begin:0,chunk:o}):i.onError(s.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class AH{constructor(t){this._source=t,this._manager=new bH(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return me(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new SH(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new wH(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class SH{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=xv(e.responseURL);const i=e.getAllResponseHeaders(),s=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...c]=o.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:r}=ML({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=DL(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=fg(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class wH{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=xv((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=fg(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const EH=/^[a-z][a-z0-9\-+.]+:/i;function TH(n){if(EH.test(n))return new URL(n);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(n))}class xH{constructor(t){this.source=t,this.url=TH(t.url),me(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return me(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new _H(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new CH(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class _H{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=fg(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ha("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class CH{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=t.source;this._isStreamingSupported=!s.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Hh=Symbol("INITIAL_DATA");var Un,qf,RA;class NL{constructor(){w(this,qf);w(this,Un,Object.create(null))}get(t,e=null){if(e){const s=E(this,qf,RA).call(this,t);return s.promise.then(()=>e(s.data)),null}const i=u(this,Un)[t];if(!i||i.data===Hh)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=u(this,Un)[t];return!!e&&e.data!==Hh}delete(t){const e=u(this,Un)[t];return!e||e.data===Hh?!1:(delete u(this,Un)[t],!0)}resolve(t,e=null){const i=E(this,qf,RA).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in u(this,Un)){const{data:i}=u(this,Un)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}v(this,Un,Object.create(null))}*[Symbol.iterator](){for(const t in u(this,Un)){const{data:e}=u(this,Un)[t];e!==Hh&&(yield[t,e])}}}Un=new WeakMap,qf=new WeakSet,RA=function(t){var e;return(e=u(this,Un))[t]||(e[t]={...Promise.withResolvers(),data:Hh})};const RH=1e5,_x=30;var Vx,Ar,Cn,Xf,Yf,Wo,ra,$f,Kf,Qo,yc,vc,Sr,bc,Wf,Ac,Zo,Qf,Zf,Zt,Sc,Jo,Jf,wr,wc,ja,kL,BL,MA,oi,Sm,DA,IL,FL;let lf=(Zt=class{constructor({textContentSource:t,container:e,viewport:i}){w(this,ja);w(this,Ar,Promise.withResolvers());w(this,Cn,null);w(this,Xf,!1);w(this,Yf,!!((Vx=globalThis.FontInspector)!=null&&Vx.enabled));w(this,Wo,null);w(this,ra,null);w(this,$f,0);w(this,Kf,0);w(this,Qo,null);w(this,yc,null);w(this,vc,0);w(this,Sr,0);w(this,bc,Object.create(null));w(this,Wf,[]);w(this,Ac,null);w(this,Zo,[]);w(this,Qf,new WeakMap);w(this,Zf,null);var l;if(t instanceof ReadableStream)v(this,Ac,t);else if(typeof t=="object")v(this,Ac,new ReadableStream({start(c){c.enqueue(t),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');v(this,Cn,v(this,yc,e)),v(this,Sr,i.scale*Ji.pixelRatio),v(this,vc,i.rotation),v(this,ra,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:a,pageX:r,pageY:o}=i.rawDims;v(this,Zf,[1,0,0,-1,-r,o+a]),v(this,Kf,s),v(this,$f,a),E(l=Zt,oi,IL).call(l),so(e,i),u(this,Ar).promise.finally(()=>{u(Zt,wc).delete(this),v(this,ra,null),v(this,bc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Fe.platform;return ut(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{u(this,Qo).read().then(({value:e,done:i})=>{if(i){u(this,Ar).resolve();return}u(this,Wo)??v(this,Wo,e.lang),Object.assign(u(this,bc),e.styles),E(this,ja,kL).call(this,e.items),t()},u(this,Ar).reject)};return v(this,Qo,u(this,Ac).getReader()),u(Zt,wc).add(this),t(),u(this,Ar).promise}update({viewport:t,onBefore:e=null}){var a;const i=t.scale*Ji.pixelRatio,s=t.rotation;if(s!==u(this,vc)&&(e==null||e(),v(this,vc,s),so(u(this,yc),{rotation:s})),i!==u(this,Sr)){e==null||e(),v(this,Sr,i);const r={div:null,properties:null,ctx:E(a=Zt,oi,Sm).call(a,u(this,Wo))};for(const o of u(this,Zo))r.properties=u(this,Qf).get(o),r.div=o,E(this,ja,MA).call(this,r)}}cancel(){var e;const t=new Ha("TextLayer task cancelled.");(e=u(this,Qo))==null||e.cancel(t).catch(()=>{}),v(this,Qo,null),u(this,Ar).reject(t)}get textDivs(){return u(this,Zo)}get textContentItemsStr(){return u(this,Wf)}static cleanup(){if(!(u(this,wc).size>0)){u(this,Sc).clear();for(const{canvas:t}of u(this,Jo).values())t.remove();u(this,Jo).clear()}}},Ar=new WeakMap,Cn=new WeakMap,Xf=new WeakMap,Yf=new WeakMap,Wo=new WeakMap,ra=new WeakMap,$f=new WeakMap,Kf=new WeakMap,Qo=new WeakMap,yc=new WeakMap,vc=new WeakMap,Sr=new WeakMap,bc=new WeakMap,Wf=new WeakMap,Ac=new WeakMap,Zo=new WeakMap,Qf=new WeakMap,Zf=new WeakMap,Sc=new WeakMap,Jo=new WeakMap,Jf=new WeakMap,wr=new WeakMap,wc=new WeakMap,ja=new WeakSet,kL=function(t){var s,a;if(u(this,Xf))return;(a=u(this,ra)).ctx??(a.ctx=E(s=Zt,oi,Sm).call(s,u(this,Wo)));const e=u(this,Zo),i=u(this,Wf);for(const r of t){if(e.length>RH){Z("Ignoring additional textDivs for performance reasons."),v(this,Xf,!0);return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const o=u(this,Cn);v(this,Cn,document.createElement("span")),u(this,Cn).classList.add("markedContent"),r.id!==null&&u(this,Cn).setAttribute("id",`${r.id}`),o.append(u(this,Cn))}else r.type==="endMarkedContent"&&v(this,Cn,u(this,Cn).parentNode);continue}i.push(r.str),E(this,ja,BL).call(this,r)}},BL=function(t){var m;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};u(this,Zo).push(e);const s=G.transform(u(this,Zf),t.transform);let a=Math.atan2(s[1],s[0]);const r=u(this,bc)[t.fontName];r.vertical&&(a+=Math.PI/2);let o=u(this,Yf)&&r.fontSubstitution||r.fontFamily;o=Zt.fontFamilyMap.get(o)||o;const l=Math.hypot(s[2],s[3]),c=l*E(m=Zt,oi,FL).call(m,o,r,u(this,Wo));let h,d;a===0?(h=s[4],d=s[5]-c):(h=s[4]+c*Math.sin(a),d=s[5]-c*Math.cos(a));const f="calc(var(--total-scale-factor) *",p=e.style;u(this,Cn)===u(this,yc)?(p.left=`${(100*h/u(this,Kf)).toFixed(2)}%`,p.top=`${(100*d/u(this,$f)).toFixed(2)}%`):(p.left=`${f}${h.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(u(Zt,wr)*l).toFixed(2)}px)`,p.fontFamily=o,i.fontSize=l,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,u(this,Yf)&&(e.dataset.fontName=r.fontSubstitutionLoadedName||t.fontName),a!==0&&(i.angle=a*(180/Math.PI));let y=!1;if(t.str.length>1)y=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const S=Math.abs(t.transform[0]),g=Math.abs(t.transform[3]);S!==g&&Math.max(S,g)/Math.min(S,g)>1.5&&(y=!0)}if(y&&(i.canvasWidth=r.vertical?t.height:t.width),u(this,Qf).set(e,i),u(this,ra).div=e,u(this,ra).properties=i,E(this,ja,MA).call(this,u(this,ra)),i.hasText&&u(this,Cn).append(e),i.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),u(this,Cn).append(S)}},MA=function(t){var o;const{div:e,properties:i,ctx:s}=t,{style:a}=e;let r="";if(u(Zt,wr)>1&&(r=`scale(${1/u(Zt,wr)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:l}=a,{canvasWidth:c,fontSize:h}=i;E(o=Zt,oi,DA).call(o,s,h*u(this,Sr),l);const{width:d}=s.measureText(e.textContent);d>0&&(r=`scaleX(${c*u(this,Sr)/d}) ${r}`)}i.angle!==0&&(r=`rotate(${i.angle}deg) ${r}`),r.length>0&&(a.transform=r)},oi=new WeakSet,Sm=function(t=null){let e=u(this,Jo).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,Jo).set(t,e),u(this,Jf).set(e,{size:0,family:""})}return e},DA=function(t,e,i){const s=u(this,Jf).get(t);e===s.size&&i===s.family||(t.font=`${e}px ${i}`,s.size=e,s.family=i)},IL=function(){if(u(this,wr)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),v(this,wr,t.getBoundingClientRect().height),t.remove()},FL=function(t,e,i){const s=u(this,Sc).get(t);if(s)return s;const a=E(this,oi,Sm).call(this,i);a.canvas.width=a.canvas.height=_x,E(this,oi,DA).call(this,a,_x,t);const r=a.measureText(""),o=r.fontBoundingBoxAscent,l=Math.abs(r.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let c=.8;return o?c=o/(o+l):(Fe.platform.isFirefox&&Z("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?c=e.ascent:e.descent&&(c=1+e.descent)),u(this,Sc).set(t,c),c},w(Zt,oi),w(Zt,Sc,new Map),w(Zt,Jo,new Map),w(Zt,Jf,new WeakMap),w(Zt,wr,null),w(Zt,wc,new Set),Zt);class uf{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function s(a){var l;if(!a)return;let r=null;const o=a.name;if(o==="#text")r=a.value;else if(uf.shouldBuildText(o))(l=a==null?void 0:a.attributes)!=null&&l.textContent?r=a.attributes.textContent:a.value&&(r=a.value);else return;if(r!==null&&e.push({str:r}),!!a.children)for(const c of a.children)s(c)}return s(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const MH=100;function rE(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const t=new LA,{docId:e}=t,i=n.url?Vz(n.url):null,s=n.data?zz(n.data):null,a=n.httpHeaders||null,r=n.withCredentials===!0,o=n.password??null,l=n.range instanceof oE?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let h=n.worker instanceof gh?n.worker:null;const d=n.verbosity,f=typeof n.docBaseUrl=="string"&&!hg(n.docBaseUrl)?n.docBaseUrl:null,p=zg(n.cMapUrl),y=n.cMapPacked!==!1,m=n.CMapReaderFactory||(yn?Yz:px),S=zg(n.iccUrl),g=zg(n.standardFontDataUrl),b=n.StandardFontDataFactory||(yn?$z:gx),A=zg(n.wasmUrl),T=n.WasmFactory||(yn?Kz:mx),x=n.stopAtErrors!==!0,C=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,_=n.isEvalSupported!==!1,M=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!yn,L=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!yn&&(Fe.platform.isFirefox||!globalThis.chrome),O=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,N=typeof n.disableFontFace=="boolean"?n.disableFontFace:yn,X=n.fontExtraProperties===!0,J=n.enableXfa===!0,q=n.ownerDocument||globalThis.document,Q=n.disableRange===!0,D=n.disableStream===!0,P=n.disableAutoFetch===!0,V=n.pdfBug===!0,tt=n.CanvasFactory||(yn?Xz:jz),rt=n.FilterFactory||(yn?qz:Gz),be=n.enableHWA===!0,bt=n.useWasm!==!1,pt=l?l.length:n.length??NaN,ne=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!yn&&!N,de=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(m===px&&b===gx&&T===mx&&p&&g&&A&&Wh(p,document.baseURI)&&Wh(g,document.baseURI)&&Wh(A,document.baseURI)),un=null;Sz(d);const Mt={canvasFactory:new tt({ownerDocument:q,enableHWA:be}),filterFactory:new rt({docId:e,ownerDocument:q}),cMapReaderFactory:de?null:new m({baseUrl:p,isCompressed:y}),standardFontDataFactory:de?null:new b({baseUrl:g}),wasmFactory:de?null:new T({baseUrl:A})};h||(h=gh.create({verbosity:d,port:_i.workerPort}),t._worker=h);const ns={docId:e,apiVersion:"5.3.31",data:s,password:o,disableAutoFetch:P,rangeChunkSize:c,length:pt,docBaseUrl:f,enableXfa:J,evaluatorOptions:{maxImageSize:C,disableFontFace:N,ignoreErrors:x,isEvalSupported:_,isOffscreenCanvasSupported:M,isImageDecoderSupported:L,canvasMaxAreaInBytes:O,fontExtraProperties:X,useSystemFonts:ne,useWasm:bt,useWorkerFetch:de,cMapUrl:p,iccUrl:S,standardFontDataUrl:g,wasmUrl:A}},is={ownerDocument:q,pdfBug:V,styleElement:un,loadingParams:{disableAutoFetch:P,enableXfa:J}};return h.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Ft=h.messageHandler.sendWithPromise("GetDocRequest",ns,s?[s.buffer]:null);let Fs;if(l)Fs=new hH(l,{disableRange:Q,disableStream:D});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");const Vs=Wh(i)?gH:yn?xH:AH;Fs=new Vs({url:i,length:pt,httpHeaders:a,withCredentials:r,rangeChunkSize:c,disableRange:Q,disableStream:D})}return Ft.then(Vs=>{if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const cn=new ed(e,Vs,h.port),Ot=new OH(cn,t,Fs,is,Mt);t._transport=Ot,cn.send("Ready",null)})}).catch(t._capability.reject),t}var zy;const Hy=class Hy{constructor(){B(this,"_capability",Promise.withResolvers());B(this,"_transport",null);B(this,"_worker",null);B(this,"docId",`d${hn(Hy,zy)._++}`);B(this,"destroyed",!1);B(this,"onPassword",null);B(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t,e,i,s;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(a){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,a}this._transport=null,(s=this._worker)==null||s.destroy(),this._worker=null}async getData(){return this._transport.getData()}};zy=new WeakMap,w(Hy,zy,0);let LA=Hy;var tl,tp,ep,np,ip,zx;let oE=(zx=class{constructor(t,e,i=!1,s=null){w(this,tl,Promise.withResolvers());w(this,tp,[]);w(this,ep,[]);w(this,np,[]);w(this,ip,[]);this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=s}addRangeListener(t){u(this,ip).push(t)}addProgressListener(t){u(this,np).push(t)}addProgressiveReadListener(t){u(this,ep).push(t)}addProgressiveDoneListener(t){u(this,tp).push(t)}onDataRange(t,e){for(const i of u(this,ip))i(t,e)}onDataProgress(t,e){u(this,tl).promise.then(()=>{for(const i of u(this,np))i(t,e)})}onDataProgressiveRead(t){u(this,tl).promise.then(()=>{for(const e of u(this,ep))e(t)})}onDataProgressiveDone(){u(this,tl).promise.then(()=>{for(const t of u(this,tp))t()})}transportReady(){u(this,tl).resolve()}requestDataRange(t,e){Ct("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},tl=new WeakMap,tp=new WeakMap,ep=new WeakMap,np=new WeakMap,ip=new WeakMap,zx);class DH{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ut(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var oa,el,rd;class LH{constructor(t,e,i,s=!1){w(this,el);w(this,oa,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=s?new hx:null,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new NL,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:a=!1}={}){return new cg({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:s,dontFlip:a})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ut(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:i="display",annotationMode:s=xs.ENABLE,transform:a=null,background:r=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:h=null,isEditing:d=!1}){var T,x;(T=this._stats)==null||T.time("Overall");const f=this._transport.getRenderingIntent(i,s,h,d),{renderingIntent:p,cacheKey:y}=f;v(this,oa,!1),o||(o=this._transport.getOptionalContentConfig(p));let m=this._intentStates.get(y);m||(m=Object.create(null),this._intentStates.set(y,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const S=!!(p&Zn.PRINT);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(x=this._stats)==null||x.time("Page Request"),this._pumpOperatorList(f));const g=C=>{var _;m.renderTasks.delete(b),S&&v(this,oa,!0),E(this,el,rd).call(this),C?(b.capability.reject(C),this._abortOperatorList({intentState:m,reason:C instanceof Error?C:new Error(C)})):b.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(_=globalThis.Stats)!=null&&_.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},b=new OA({callback:g,params:{canvasContext:t,viewport:e,transform:a,background:r},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!S,pdfBug:this._pdfBug,pageColors:c});(m.renderTasks||(m.renderTasks=new Set)).add(b);const A=b.task;return Promise.all([m.displayReadyCapability.promise,o]).then(([C,_])=>{var M;if(this.destroyed){g();return}if((M=this._stats)==null||M.time("Rendering"),!(_.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");b.initializeGraphics({transparency:C,optionalContentConfig:_}),b.operatorListChanged()}).catch(g),A}getOperatorList({intent:t="display",annotationMode:e=xs.ENABLE,printAnnotationStorage:i=null,isEditing:s=!1}={}){var c;function a(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const r=this._transport.getRenderingIntent(t,e,i,s,!0);let o=this._intentStates.get(r.cacheKey);o||(o=Object.create(null),this._intentStates.set(r.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=a,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(r)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>uf.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,s){function a(){r.read().then(function({value:l,done:c}){if(c){i(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),a()},s)}const r=e.getReader(),o={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),v(this,oa,!1),Promise.all(t)}cleanup(t=!1){v(this,oa,!0);const e=E(this,el,rd).call(this);return t&&e&&this._stats&&(this._stats=new hx),e}_startRenderPage(t,e){var s,a;const i=this._intentStates.get(e);i&&((s=this._stats)==null||s.timeEnd("Page Request"),(a=i.displayReadyCapability)==null||a.resolve(t))}_renderPageChunk(t,e){for(let i=0,s=t.length;i<s;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&E(this,el,rd).call(this)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:s}){const{map:a,transfer:r}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:a,modifiedIds:s},r).getReader(),c=this._intentStates.get(e);c.streamReader=l;const h=()=>{l.read().then(({value:d,done:f})=>{if(f){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),h())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const f of c.renderTasks)f.operatorListChanged();E(this,el,rd).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};h()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof wv){let s=MH;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new Ha(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,a]of this._intentStates)if(a===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}oa=new WeakMap,el=new WeakSet,rd=function(){if(!u(this,oa)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),v(this,oa,!1),!0};var Er,Vi,la,nl,Uy,il,sl,Sn,wm,VL,zL,od,Ec,Em;const Vt=class Vt{constructor({name:t=null,port:e=null,verbosity:i=wz()}={}){w(this,Sn);w(this,Er,Promise.withResolvers());w(this,Vi,null);w(this,la,null);w(this,nl,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(u(Vt,sl).has(e))throw new Error("Cannot use more than one PDFWorker per port.");u(Vt,sl).set(e,this),E(this,Sn,VL).call(this,e)}else E(this,Sn,zL).call(this)}get promise(){return u(this,Er).promise}get port(){return u(this,la)}get messageHandler(){return u(this,Vi)}destroy(){var t,e;this.destroyed=!0,(t=u(this,nl))==null||t.terminate(),v(this,nl,null),u(Vt,sl).delete(u(this,la)),v(this,la,null),(e=u(this,Vi))==null||e.destroy(),v(this,Vi,null)}static create(t){const e=u(this,sl).get(t==null?void 0:t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Vt(t)}static get workerSrc(){if(_i.workerSrc)return _i.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ut(this,"_setupFakeWorkerGlobal",(async()=>u(this,Ec,Em)?u(this,Ec,Em):(await import(this.workerSrc)).WorkerMessageHandler)())}};Er=new WeakMap,Vi=new WeakMap,la=new WeakMap,nl=new WeakMap,Uy=new WeakMap,il=new WeakMap,sl=new WeakMap,Sn=new WeakSet,wm=function(){u(this,Er).resolve(),u(this,Vi).send("configure",{verbosity:this.verbosity})},VL=function(t){v(this,la,t),v(this,Vi,new ed("main","worker",t)),u(this,Vi).on("ready",()=>{}),E(this,Sn,wm).call(this)},zL=function(){if(u(Vt,il)||u(Vt,Ec,Em)){E(this,Sn,od).call(this);return}let{workerSrc:t}=Vt;try{Vt._isSameOrigin(window.location,t)||(t=Vt._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new ed("main","worker",e),s=()=>{a.abort(),i.destroy(),e.terminate(),this.destroyed?u(this,Er).reject(new Error("Worker was destroyed")):E(this,Sn,od).call(this)},a=new AbortController;e.addEventListener("error",()=>{u(this,nl)||s()},{signal:a.signal}),i.on("test",o=>{if(a.abort(),this.destroyed||!o){s();return}v(this,Vi,i),v(this,la,e),v(this,nl,e),E(this,Sn,wm).call(this)}),i.on("ready",o=>{if(a.abort(),this.destroyed){s();return}try{r()}catch{E(this,Sn,od).call(this)}});const r=()=>{const o=new Uint8Array;i.send("test",o,[o.buffer])};r();return}catch{Sv("The worker has been disabled.")}E(this,Sn,od).call(this)},od=function(){u(Vt,il)||(Z("Setting up fake worker."),v(Vt,il,!0)),Vt._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){u(this,Er).reject(new Error("Worker was destroyed"));return}const e=new Uz;v(this,la,e);const i=`fake${hn(Vt,Uy)._++}`,s=new ed(i+"_worker",i,e);t.setup(s,e),v(this,Vi,new ed(i,i+"_worker",e)),E(this,Sn,wm).call(this)}).catch(t=>{u(this,Er).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Ec=new WeakSet,Em=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},w(Vt,Ec),w(Vt,Uy,0),w(Vt,il,!1),w(Vt,sl,new WeakMap),yn&&(v(Vt,il,!0),_i.workerSrc||(_i.workerSrc="./pdf.worker.mjs")),Vt._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const s=new URL(e,i);return i.origin===s.origin},Vt._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Vt.fromPort=t=>{if(Lz("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Vt.create(t)};let gh=Vt;var ua,ys,Tc,xc,ca,al,ld;class OH{constructor(t,e,i,s,a){w(this,al);w(this,ua,new Map);w(this,ys,new Map);w(this,Tc,new Map);w(this,xc,new Map);w(this,ca,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new NL,this.fontLoader=new Iz({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return ut(this,"annotationStorage",new iE)}getRenderingIntent(t,e=xs.ENABLE,i=null,s=!1,a=!1){let r=Zn.DISPLAY,o=vA;switch(t){case"any":r=Zn.ANY;break;case"display":break;case"print":r=Zn.PRINT;break;default:Z(`getRenderingIntent - invalid intent: ${t}`)}const l=r&Zn.PRINT&&i instanceof yL?i:this.annotationStorage;switch(e){case xs.DISABLE:r+=Zn.ANNOTATIONS_DISABLE;break;case xs.ENABLE:break;case xs.ENABLE_FORMS:r+=Zn.ANNOTATIONS_FORMS;break;case xs.ENABLE_STORAGE:r+=Zn.ANNOTATIONS_STORAGE,o=l.serializable;break;default:Z(`getRenderingIntent - invalid annotationMode: ${e}`)}s&&(r+=Zn.IS_EDITING),a&&(r+=Zn.OPLIST);const{ids:c,hash:h}=l.modifiedIds,d=[r,o.hash,h];return{renderingIntent:r,cacheKey:d.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=u(this,ca))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of u(this,ys).values())t.push(s._destroy());u(this,ys).clear(),u(this,Tc).clear(),u(this,xc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var s,a;this.commonObjs.clear(),this.fontLoader.clear(),u(this,ua).clear(),this.filterFactory.destroy(),lf.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new Ha("Worker was terminated.")),(a=this.messageHandler)==null||a.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,s)=>{me(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},s.onPull=()=>{this._fullReader.read().then(function({value:a,done:r}){if(r){s.close();return}me(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{this._fullReader.cancel(a),s.ready.catch(r=>{if(!this.destroyed)throw r})}}),t.on("ReaderHeadersReady",async i=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:a,contentLength:r}=this._fullReader;return(!s||!a)&&(this._lastProgress&&((o=e.onProgress)==null||o.call(e,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=e.onProgress)==null||c.call(e,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:s,isRangeSupported:a,contentLength:r}}),t.on("GetRangeReader",(i,s)=>{me(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(i.begin,i.end);if(!a){s.close();return}s.onPull=()=>{a.read().then(function({value:r,done:o}){if(o){s.close();return}me(r instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{a.cancel(r),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new DH(i,this))}),t.on("DocException",i=>{e._capability.reject(Tn(i))}),t.on("PasswordRequest",i=>{v(this,ca,Promise.withResolvers());try{if(!e.onPassword)throw Tn(i);const s=a=>{a instanceof Error?u(this,ca).reject(a):u(this,ca).resolve({password:a})};e.onPassword(s,i.code)}catch(s){u(this,ca).reject(s)}return u(this,ca).promise}),t.on("DataLoaded",i=>{var s;(s=e.onProgress)==null||s.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;u(this,ys).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,s,a])=>{var r;if(this.destroyed||this.commonObjs.has(i))return null;switch(s){case"Font":if("error"in a){const h=a.error;Z(`Error during font loading: ${h}`),this.commonObjs.resolve(i,h);break}const o=this._params.pdfBug&&((r=globalThis.FontInspector)!=null&&r.enabled)?(h,d)=>globalThis.FontInspector.fontAdded(h,d):null,l=new Fz(a,o);this.fontLoader.bind(l).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!l.fontExtraProperties&&l.data&&(l.data=null),this.commonObjs.resolve(i,l)});break;case"CopyLocalImage":const{imageRef:c}=a;me(c,"The imageRef must be defined.");for(const h of u(this,ys).values())for(const[,d]of h.objs)if((d==null?void 0:d.ref)===c)return d.dataLen?(this.commonObjs.resolve(i,structuredClone(d)),d.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,a);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([i,s,a,r])=>{var l;if(this.destroyed)return;const o=u(this,ys).get(s);if(!o.objs.has(i)){if(o._intentStates.size===0){(l=r==null?void 0:r.bitmap)==null||l.close();return}switch(a){case"Image":case"Pattern":o.objs.resolve(i,r);break;default:throw new Error(`Got unknown object type ${a}`)}}}),t.on("DocProgress",i=>{var s;this.destroyed||(s=e.onProgress)==null||s.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[i.type];if(!s)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&Z("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=u(this,Tc).get(e);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&u(this,xc).set(a.refStr,t);const r=new LH(e,a,this,this._params.pdfBug);return u(this,ys).set(e,r),r});return u(this,Tc).set(e,s),s}getPageIndex(t){return bA(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return E(this,al,ld).call(this,"GetFieldObjects")}hasJSActions(){return E(this,al,ld).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return E(this,al,ld).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return E(this,al,ld).call(this,"GetOptionalContentConfig").then(e=>new cH(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=u(this,ua).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(s=>{var a,r;return{info:s[0],metadata:s[1]?new lH(s[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((r=this._fullReader)==null?void 0:r.contentLength)??null}});return u(this,ua).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of u(this,ys).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),u(this,ua).clear(),this.filterFactory.destroy(!0),lf.cleanup()}}cachedPageNumber(t){if(!bA(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return u(this,xc).get(e)??null}}ua=new WeakMap,ys=new WeakMap,Tc=new WeakMap,xc=new WeakMap,ca=new WeakMap,al=new WeakSet,ld=function(t,e=null){const i=u(this,ua).get(t);if(i)return i;const s=this.messageHandler.sendWithPromise(t,e);return u(this,ua).set(t,s),s};var Tr;class PH{constructor(t){w(this,Tr,null);B(this,"onContinue",null);B(this,"onError",null);v(this,Tr,t)}get promise(){return u(this,Tr).capability.promise}cancel(t=0){u(this,Tr).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=u(this,Tr).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=u(this,Tr);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Tr=new WeakMap;var xr,rl;const To=class To{constructor({callback:t,params:e,objs:i,commonObjs:s,annotationCanvasMap:a,operatorList:r,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:h=!1,pdfBug:d=!1,pageColors:f=null}){w(this,xr,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=r,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new PH(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var o,l;if(this.cancelled)return;if(this._canvas){if(u(To,rl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(To,rl).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:s,transform:a,background:r}=this.params;this.gfx=new Xu(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:s,transparency:t,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(t=null,e=0){var i,s,a;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),u(this,xr)&&(window.cancelAnimationFrame(u(this,xr)),v(this,xr,null)),u(To,rl).delete(this._canvas),t||(t=new wv(`Rendering cancelled, page ${this._pageIndex+1}`,e)),this.callback(t),(a=(s=this.task).onError)==null||a.call(s,t)}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?v(this,xr,window.requestAnimationFrame(()=>{v(this,xr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(To,rl).delete(this._canvas),this.callback())))}};xr=new WeakMap,rl=new WeakMap,w(To,rl,new WeakSet);let OA=To;const HL="5.3.31",UL="47ad820d9";function Cx(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Uh(n){return Math.max(0,Math.min(255,255*n))}class Rx{static CMYK_G([t,e,i,s]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Uh(t),[t,t,t]}static G_HTML([t]){const e=Cx(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(Uh)}static RGB_HTML(t){return`#${t.map(Cx).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,i+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,i,s]){return[Uh(1-Math.min(1,t+s)),Uh(1-Math.min(1,i+s)),Uh(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const s=1-t,a=1-e,r=1-i,o=Math.min(s,a,r);return["CMYK",s,a,r,o]}}class NH{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),i||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Ct("Abstract method `_createSVG` called.")}}class cf extends NH{_createSVG(t){return document.createElementNS(js,t)}}class lE{static setupStorage(t,e,i,s,a){const r=s.getValue(e,{value:null});switch(i.name){case"textarea":if(r.value!==null&&(t.textContent=r.value),a==="print")break;t.addEventListener("input",o=>{s.setValue(e,{value:o.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(r.value===i.attributes.xfaOn?t.setAttribute("checked",!0):r.value===i.attributes.xfaOff&&t.removeAttribute("checked"),a==="print")break;t.addEventListener("change",o=>{s.setValue(e,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(r.value!==null&&t.setAttribute("value",r.value),a==="print")break;t.addEventListener("input",o=>{s.setValue(e,{value:o.target.value})})}break;case"select":if(r.value!==null){t.setAttribute("value",r.value);for(const o of i.children)o.attributes.value===r.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}t.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;s.setValue(e,{value:c})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:s,linkService:a}){const{attributes:r}=e,o=t instanceof HTMLAnchorElement;r.type==="radio"&&(r.name=`${r.name}-${s}`);for(const[l,c]of Object.entries(r))if(c!=null)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&t.setAttribute(l,c)}o&&a.addLinkAttributes(t,r.href,r.newWindow),i&&r.dataId&&this.setupStorage(t,r.dataId,e,i)}static render(t){var d,f;const e=t.annotationStorage,i=t.linkService,s=t.xfaHtml,a=t.intent||"display",r=document.createElement(s.name);s.attributes&&this.setAttributes({html:r,element:s,intent:a,linkService:i});const o=a!=="richText",l=t.div;if(l.append(r),t.viewport){const p=`matrix(${t.viewport.transform.join(",")})`;l.style.transform=p}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(s.children.length===0){if(s.value){const p=document.createTextNode(s.value);r.append(p),o&&uf.shouldBuildText(s.name)&&c.push(p)}return{textDivs:c}}const h=[[s,-1,r]];for(;h.length>0;){const[p,y,m]=h.at(-1);if(y+1===p.children.length){h.pop();continue}const S=p.children[++h.at(-1)[1]];if(S===null)continue;const{name:g}=S;if(g==="#text"){const A=document.createTextNode(S.value);c.push(A),m.append(A);continue}const b=(d=S==null?void 0:S.attributes)!=null&&d.xmlns?document.createElementNS(S.attributes.xmlns,g):document.createElement(g);if(m.append(b),S.attributes&&this.setAttributes({html:b,element:S,storage:e,intent:a,linkService:i}),((f=S.children)==null?void 0:f.length)>0)h.push([S,-1,b]);else if(S.value){const A=document.createTextNode(S.value);o&&uf.shouldBuildText(g)&&c.push(A),b.append(A)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const pg=1e3,kH=9,Xl=new WeakSet;class Mx{static create(t){switch(t.data.annotationType){case ae.LINK:return new jL(t);case ae.TEXT:return new BH(t);case ae.WIDGET:switch(t.data.fieldType){case"Tx":return new IH(t);case"Btn":return t.data.radioButton?new XL(t):t.data.checkBox?new VH(t):new zH(t);case"Ch":return new HH(t);case"Sig":return new FH(t)}return new eu(t);case ae.POPUP:return new NA(t);case ae.FREETEXT:return new QL(t);case ae.LINE:return new jH(t);case ae.SQUARE:return new GH(t);case ae.CIRCLE:return new qH(t);case ae.POLYLINE:return new ZL(t);case ae.CARET:return new YH(t);case ae.INK:return new uE(t);case ae.POLYGON:return new XH(t);case ae.HIGHLIGHT:return new JL(t);case ae.UNDERLINE:return new $H(t);case ae.SQUIGGLY:return new KH(t);case ae.STRIKEOUT:return new WH(t);case ae.STAMP:return new t2(t);case ae.FILEATTACHMENT:return new QH(t);default:return new he(t)}}}var ol,_c,Cc,sp,PA;const mE=class mE{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:s=!1}={}){w(this,sp);w(this,ol,null);w(this,_c,!1);w(this,Cc,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:i}){return!!(t!=null&&t.str||e!=null&&e.str||i!=null&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return mE._hasPopupData(this.data)}updateEdited(t){var i;if(!this.container)return;u(this,ol)||v(this,ol,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&E(this,sp,PA).call(this,e),(i=u(this,Cc))==null||i.popup.updateEdited(t)}resetEdited(){var t;u(this,ol)&&(E(this,sp,PA).call(this,u(this,ol).rect),(t=u(this,Cc))==null||t.popup.resetEdited(),v(this,ol,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:s}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",e.id),this instanceof eu||(a.tabIndex=pg);const{style:r}=a;if(r.zIndex=this.parent.zIndex++,e.alternativeText&&(a.title=e.alternativeText),e.noRotate&&a.classList.add("norotate"),!e.rect||this instanceof NA){const{rotation:m}=e;return!e.hasOwnCanvas&&m!==0&&this.setRotation(m,a),a}const{width:o,height:l}=this;if(!t&&e.borderStyle.width>0){r.borderWidth=`${e.borderStyle.width}px`;const m=e.borderStyle.horizontalCornerRadius,S=e.borderStyle.verticalCornerRadius;if(m>0||S>0){const b=`calc(${m}px * var(--total-scale-factor)) / calc(${S}px * var(--total-scale-factor))`;r.borderRadius=b}else if(this instanceof XL){const b=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;r.borderRadius=b}switch(e.borderStyle.style){case cu.SOLID:r.borderStyle="solid";break;case cu.DASHED:r.borderStyle="dashed";break;case cu.BEVELED:Z("Unimplemented border style: beveled");break;case cu.INSET:Z("Unimplemented border style: inset");break;case cu.UNDERLINE:r.borderBottomStyle="solid";break}const g=e.borderColor||null;g?(v(this,_c,!0),r.borderColor=G.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):r.borderWidth=0}const c=G.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:h,pageHeight:d,pageX:f,pageY:p}=s.rawDims;r.left=`${100*(c[0]-f)/h}%`,r.top=`${100*(c[1]-p)/d}%`;const{rotation:y}=e;return e.hasOwnCanvas||y===0?(r.width=`${100*o/h}%`,r.height=`${100*l/d}%`):this.setRotation(y,a),a}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:s}=this.parent.viewport.rawDims;let{width:a,height:r}=this;t%180!==0&&([a,r]=[r,a]),e.style.width=`${100*a/i}%`,e.style.height=`${100*r/s}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,s)=>{const a=s.detail[e],r=a[0],o=a.slice(1);s.target.style[i]=Rx[`${r}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[i]:Rx[`${r}_rgb`](o)})};return ut(this,"_commonActions",{display:e=>{const{display:i}=e.detail,s=i%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const s of Object.keys(e.detail)){const a=t[s]||i[s];a==null||a(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[s,a]of Object.entries(e)){const r=i[s];if(r){const o={detail:{[s]:a},target:t};r(o),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,s,a]=this.data.rect.map(m=>Math.fround(m));if(t.length===8){const[m,S,g,b]=t.subarray(2,6);if(s===m&&a===S&&e===g&&i===b)return}const{style:r}=this.container;let o;if(u(this,_c)){const{borderColor:m,borderWidth:S}=r;r.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const l=s-e,c=a-i,{svgFactory:h}=this,d=h.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const f=h.createElement("defs");d.append(f);const p=h.createElement("clipPath"),y=`clippath_${this.data.id}`;p.setAttribute("id",y),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let m=2,S=t.length;m<S;m+=8){const g=t[m],b=t[m+1],A=t[m+2],T=t[m+3],x=h.createElement("rect"),C=(A-e)/l,_=(a-b)/c,M=(g-A)/l,L=(b-T)/c;x.setAttribute("x",C),x.setAttribute("y",_),x.setAttribute("width",M),x.setAttribute("height",L),p.append(x),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${C}" y="${_}" width="${M}" height="${L}"/>`)}u(this,_c)&&(o.push("</g></svg>')"),r.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${y})`}_createPopup(){const{data:t}=this,e=v(this,Cc,new NA({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){Ct("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:a,id:r,exportValues:o}of s){if(a===-1||r===e)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${r}"]`);if(c&&!Xl.has(c)){Z(`_getElementsByName - element not allowed: ${r}`);continue}i.push({id:r,exportValue:l,domElement:c})}return i}for(const s of document.getElementsByName(t)){const{exportValue:a}=s,r=s.getAttribute("data-element-id");r!==e&&Xl.has(s)&&i.push({id:r,exportValue:a,domElement:s})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};ol=new WeakMap,_c=new WeakMap,Cc=new WeakMap,sp=new WeakSet,PA=function(t){const{container:{style:e},data:{rect:i,rotation:s},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:r,pageX:o,pageY:l}}}}=this;i==null||i.splice(0,4,...t),e.left=`${100*(t[0]-o)/a}%`,e.top=`${100*(r-t[3]+l)/r}%`,s===0?(e.width=`${100*(t[2]-t[0])/a}%`,e.height=`${100*(t[3]-t[1])/r}%`):this.setRotation(s)};let he=mE;var ei,Ao,GL,qL;class jL extends he{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});w(this,ei);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,s=document.createElement("a");s.setAttribute("data-element-id",e.id);let a=!1;return e.url?(i.addLinkAttributes(s,e.url,e.newWindow),a=!0):e.action?(this._bindNamedAction(s,e.action),a=!0):e.attachment?(E(this,ei,GL).call(this,s,e.attachment,e.attachmentDest),a=!0):e.setOCGState?(E(this,ei,qL).call(this,s,e.setOCGState),a=!0):e.dest?(this._bindLink(s,e.dest),a=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,e),a=!0),e.resetForm?(this._bindResetFormAction(s,e.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(s,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(s),this.container}_bindLink(e,i){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&E(this,ei,Ao).call(this)}_bindNamedAction(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),E(this,ei,Ao).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(i.actions)){const r=s.get(a);r&&(e[r]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:a}}),!1})}e.onclick||(e.onclick=()=>!1),E(this,ei,Ao).call(this)}_bindResetFormAction(e,i){const s=e.onclick;if(s||(e.href=this.linkService.getAnchorUrl("")),E(this,ei,Ao).call(this),!this._fieldObjects){Z('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(e.onclick=()=>!1);return}e.onclick=()=>{var d;s==null||s();const{fields:a,refs:r,include:o}=i,l=[];if(a.length!==0||r.length!==0){const f=new Set(r);for(const p of a){const y=this._fieldObjects[p]||[];for(const{id:m}of y)f.add(m)}for(const p of Object.values(this._fieldObjects))for(const y of p)f.has(y.id)===o&&l.push(y)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,h=[];for(const f of l){const{id:p}=f;switch(h.push(p),f.type){case"text":{const m=f.defaultValue||"";c.setValue(p,{value:m});break}case"checkbox":case"radiobutton":{const m=f.defaultValue===f.exportValues;c.setValue(p,{value:m});break}case"combobox":case"listbox":{const m=f.defaultValue||"";c.setValue(p,{value:m});break}default:continue}const y=document.querySelector(`[data-element-id="${p}"]`);if(y){if(!Xl.has(y)){Z(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}ei=new WeakSet,Ao=function(){this.container.setAttribute("data-internal-link","")},GL=function(e,i,s=null){e.href=this.linkService.getAnchorUrl(""),i.description&&(e.title=i.description),e.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(i.content,i.filename,s),!1},E(this,ei,Ao).call(this)},qL=function(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),E(this,ei,Ao).call(this)};class BH extends he{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class eu extends he{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Fe.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,s,a){i.includes("mouse")?t.addEventListener(i,r=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(r),shift:r.shiftKey,modifier:this._getKeyModifier(r)}})}):t.addEventListener(i,r=>{var o;if(i==="blur"){if(!e.focused||!r.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}a&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(r)}}))})}_setEventListeners(t,e,i,s){var a,r,o;for(const[l,c]of i)(c==="Action"||(a=this.data.actions)!=null&&a[c])&&((c==="Focus"||c==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,l,c,s),c==="Focus"&&!((r=this.data.actions)!=null&&r.Blur)?this._setEventListener(t,e,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":G.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||kH,a=t.style;let r;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),h=Math.round(c/(M0*s))||1,d=c/h;r=Math.min(s,l(d/M0))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);r=Math.min(s,l(c/M0))}a.fontSize=`calc(${r}px * var(--total-scale-factor))`,a.color=G.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(a.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class IH extends eu{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,s){const a=this.annotationStorage;for(const r of this._getElementsByName(t.name,t.id))r.domElement&&(r.domElement[e]=i),a.setValue(r.id,{[s]:i})}render(){var s,a;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let o=r.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=r.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const h={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=c??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",c??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Xl.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=pg,this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",f=>{t.setValue(e,{value:f.target.value}),this.setPropertyOnSiblings(i,"value",f.target.value,"value"),h.formattedValue=null}),i.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";i.value=h.userValue=p,h.formattedValue=null});let d=f=>{const{formattedValue:p}=h;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",p=>{var m;if(h.focused)return;const{target:y}=p;h.userValue&&(y.value=h.userValue),h.lastCommittedValue=y.value,h.commitKey=1,(m=this.data.actions)!=null&&m.Focus||(h.focused=!0)}),i.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const y={value(m){h.userValue=m.detail.value??"",t.setValue(e,{value:h.userValue.toString()}),m.target.value=h.userValue},formattedValue(m){const{formattedValue:S}=m.detail;h.formattedValue=S,S!=null&&m.target!==document.activeElement&&(m.target.value=S),t.setValue(e,{formattedValue:S})},selRange(m){m.target.setSelectionRange(...m.detail.selRange)},charLimit:m=>{var A;const{charLimit:S}=m.detail,{target:g}=m;if(S===0){g.removeAttribute("maxLength");return}g.setAttribute("maxLength",S);let b=h.userValue;!b||b.length<=S||(b=b.slice(0,S),g.value=h.userValue=b,t.setValue(e,{value:b}),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:b,willCommit:!0,commitKey:1,selStart:g.selectionStart,selEnd:g.selectionEnd}}))}};this._dispatchEventFromSandbox(y,p)}),i.addEventListener("keydown",p=>{var S;h.commitKey=1;let y=-1;if(p.key==="Escape"?y=0:p.key==="Enter"&&!this.data.multiLine?y=2:p.key==="Tab"&&(h.commitKey=3),y===-1)return;const{value:m}=p.target;h.lastCommittedValue!==m&&(h.lastCommittedValue=m,h.userValue=m,(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:m,willCommit:!0,commitKey:y,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=d;d=null,i.addEventListener("blur",p=>{var m,S;if(!h.focused||!p.relatedTarget)return;(m=this.data.actions)!=null&&m.Blur||(h.focused=!1);const{value:y}=p.target;h.userValue=y,h.lastCommittedValue!==y&&((S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:y,willCommit:!0,commitKey:h.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(a=this.data.actions)!=null&&a.Keystroke&&i.addEventListener("beforeinput",p=>{var x;h.lastCommittedValue=null;const{data:y,target:m}=p,{value:S,selectionStart:g,selectionEnd:b}=m;let A=g,T=b;switch(p.inputType){case"deleteWordBackward":{const C=S.substring(0,g).match(/\w*[^\w]*$/);C&&(A-=C[0].length);break}case"deleteWordForward":{const C=S.substring(g).match(/^[^\w]*\w*/);C&&(T+=C[0].length);break}case"deleteContentBackward":g===b&&(A-=1);break;case"deleteContentForward":g===b&&(T+=1);break}p.preventDefault(),(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,change:y||"",willCommit:!1,selStart:A,selEnd:T}})}),this._setEventListeners(i,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&i.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${p}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class FH extends eu{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class VH extends eu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let s=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(i,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return Xl.add(a),a.setAttribute("data-element-id",i),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=e.fieldName,s&&a.setAttribute("checked",!0),a.setAttribute("exportValue",e.exportValue),a.tabIndex=pg,a.addEventListener("change",r=>{const{name:o,checked:l}=r.target;for(const c of this._getElementsByName(o,i)){const h=l&&c.exportValue===e.exportValue;c.domElement&&(c.domElement.checked=h),t.setValue(c.id,{value:h})}t.setValue(i,{value:l})}),a.addEventListener("resetform",r=>{const o=e.defaultFieldValue||"Off";r.target.checked=o===e.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",r=>{const o={value(l){l.target.checked=l.detail.value!=="Off",t.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,r)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],r=>r.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class XL extends eu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let s=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(i,{value:s})),s)for(const r of this._getElementsByName(e.fieldName,i))t.setValue(r.id,{value:!1});const a=document.createElement("input");if(Xl.add(a),a.setAttribute("data-element-id",i),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=e.fieldName,s&&a.setAttribute("checked",!0),a.tabIndex=pg,a.addEventListener("change",r=>{const{name:o,checked:l}=r.target;for(const c of this._getElementsByName(o,i))t.setValue(c.id,{value:!1});t.setValue(i,{value:l})}),a.addEventListener("resetform",r=>{const o=e.defaultFieldValue;r.target.checked=o!=null&&o===e.buttonValue}),this.enableScripting&&this.hasJSActions){const r=e.buttonValue;a.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const h=r===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const f=h&&d.id===i;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class zH extends jL{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class HH extends eu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");Xl.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=pg;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",h=>{const d=this.data.defaultFieldValue;for(const f of s.options)f.selected=f.value===d});for(const h of this.data.options){const d=document.createElement("option");d.textContent=h.displayValue,d.value=h.exportValue,i.value.includes(h.exportValue)&&(d.setAttribute("selected",!0),a=!1),s.append(d)}let r=null;if(a){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),s.prepend(h),r=()=>{h.remove(),s.removeEventListener("input",r),r=null},s.addEventListener("input",r)}const o=h=>{const d=h?"value":"textContent",{options:f,multiple:p}=s;return p?Array.prototype.filter.call(f,y=>y.selected).map(y=>y[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let l=o(!1);const c=h=>{const d=h.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",h=>{const d={value(f){r==null||r();const p=f.detail.value,y=new Set(Array.isArray(p)?p:[p]);for(const m of s.options)m.selected=y.has(m.value);t.setValue(e,{value:o(!0)}),l=o(!1)},multipleSelection(f){s.multiple=!0},remove(f){const p=s.options,y=f.detail.remove;p[y].selected=!1,s.remove(y),p.length>0&&Array.prototype.findIndex.call(p,S=>S.selected)===-1&&(p[0].selected=!0),t.setValue(e,{value:o(!0),items:c(f)}),l=o(!1)},clear(f){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),l=o(!1)},insert(f){const{index:p,displayValue:y,exportValue:m}=f.detail.insert,S=s.children[p],g=document.createElement("option");g.textContent=y,g.value=m,S?S.before(g):s.append(g),t.setValue(e,{value:o(!0),items:c(f)}),l=o(!1)},items(f){const{items:p}=f.detail;for(;s.length!==0;)s.remove(0);for(const y of p){const{displayValue:m,exportValue:S}=y,g=document.createElement("option");g.textContent=m,g.value=S,s.append(g)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:o(!0),items:c(f)}),l=o(!1)},indices(f){const p=new Set(f.detail.indices);for(const y of f.target.options)y.selected=p.has(y.index);t.setValue(e,{value:o(!0)}),l=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,h)}),s.addEventListener("input",h=>{var p;const d=o(!0),f=o(!1);t.setValue(e,{value:d}),h.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:l,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):s.addEventListener("input",function(h){t.setValue(e,{value:o(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class NA extends he{constructor(t){const{data:e,elements:i}=t;super(t,{isRenderable:he._hasPopupData(e)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new UH({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",e.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(i=>`${eE}${i}`).join(",")),this.container}}var Rc,jy,Gy,Mc,Dc,Qt,ha,Lc,ap,rp,Oc,da,zi,fa,op,pa,lp,ll,ul,Rt,Tm,kA,YL,$L,KL,WL,xm,_m,BA;class UH{constructor({container:t,color:e,elements:i,titleObj:s,modificationDate:a,contentsObj:r,richText:o,parent:l,rect:c,parentRect:h,open:d}){w(this,Rt);w(this,Rc,E(this,Rt,KL).bind(this));w(this,jy,E(this,Rt,BA).bind(this));w(this,Gy,E(this,Rt,_m).bind(this));w(this,Mc,E(this,Rt,xm).bind(this));w(this,Dc,null);w(this,Qt,null);w(this,ha,null);w(this,Lc,null);w(this,ap,null);w(this,rp,null);w(this,Oc,null);w(this,da,!1);w(this,zi,null);w(this,fa,null);w(this,op,null);w(this,pa,null);w(this,lp,null);w(this,ll,null);w(this,ul,!1);var f;v(this,Qt,t),v(this,lp,s),v(this,ha,r),v(this,pa,o),v(this,rp,l),v(this,Dc,e),v(this,op,c),v(this,Oc,h),v(this,ap,i),v(this,Lc,Tv.toDateObject(a)),this.trigger=i.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",u(this,Mc)),p.addEventListener("mouseenter",u(this,Gy)),p.addEventListener("mouseleave",u(this,jy)),p.classList.add("popupTriggerArea");for(const p of i)(f=p.container)==null||f.addEventListener("keydown",u(this,Rc));u(this,Qt).hidden=!0,d&&E(this,Rt,xm).call(this)}render(){if(u(this,zi))return;const t=v(this,zi,document.createElement("div"));if(t.className="popup",u(this,Dc)){const a=t.style.outlineColor=G.makeHexColor(...u(this,Dc));t.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`}const e=document.createElement("span");e.className="header";const i=document.createElement("h1");if(e.append(i),{dir:i.dir,str:i.textContent}=u(this,lp),t.append(e),u(this,Lc)){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,Lc).valueOf()})),e.append(a)}const s=u(this,Rt,Tm);if(s)lE.render({xfaHtml:s,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(u(this,ha));t.append(a)}u(this,Qt).append(t)}_formatContents({str:t,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const s=t.split(/(?:\r\n?|\n)/);for(let a=0,r=s.length;a<r;++a){const o=s[a];i.append(document.createTextNode(o)),a<r-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:t,popupContent:e}){var i;u(this,ll)||v(this,ll,{contentsObj:u(this,ha),richText:u(this,pa)}),t&&v(this,fa,null),e&&(v(this,pa,E(this,Rt,$L).call(this,e)),v(this,ha,null)),(i=u(this,zi))==null||i.remove(),v(this,zi,null)}resetEdited(){var t;u(this,ll)&&({contentsObj:hn(this,ha)._,richText:hn(this,pa)._}=u(this,ll),v(this,ll,null),(t=u(this,zi))==null||t.remove(),v(this,zi,null),v(this,fa,null))}forceHide(){v(this,ul,this.isVisible),u(this,ul)&&(u(this,Qt).hidden=!0)}maybeShow(){u(this,ul)&&(u(this,zi)||E(this,Rt,_m).call(this),v(this,ul,!1),u(this,Qt).hidden=!1)}get isVisible(){return u(this,Qt).hidden===!1}}Rc=new WeakMap,jy=new WeakMap,Gy=new WeakMap,Mc=new WeakMap,Dc=new WeakMap,Qt=new WeakMap,ha=new WeakMap,Lc=new WeakMap,ap=new WeakMap,rp=new WeakMap,Oc=new WeakMap,da=new WeakMap,zi=new WeakMap,fa=new WeakMap,op=new WeakMap,pa=new WeakMap,lp=new WeakMap,ll=new WeakMap,ul=new WeakMap,Rt=new WeakSet,Tm=function(){const t=u(this,pa),e=u(this,ha);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&u(this,pa).html||null},kA=function(){var t,e,i;return((i=(e=(t=u(this,Rt,Tm))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},YL=function(){var t,e,i;return((i=(e=(t=u(this,Rt,Tm))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},$L=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},s={style:{color:u(this,Rt,YL),fontSize:u(this,Rt,kA)?`calc(${u(this,Rt,kA)}px * var(--total-scale-factor))`:""}};for(const a of t.split(`
`))e.push({name:"span",value:a,attributes:s});return i},KL=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&u(this,da))&&E(this,Rt,xm).call(this)},WL=function(){if(u(this,fa)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:s,pageY:a}}}=u(this,rp);let r=!!u(this,Oc),o=r?u(this,Oc):u(this,op);for(const y of u(this,ap))if(!o||G.intersect(y.data.rect,o)!==null){o=y.data.rect,r=!0;break}const l=G.normalizeRect([o[0],t[3]-o[1]+t[1],o[2],t[3]-o[3]+t[1]]),h=r?o[2]-o[0]+5:0,d=l[0]+h,f=l[1];v(this,fa,[100*(d-s)/e,100*(f-a)/i]);const{style:p}=u(this,Qt);p.left=`${u(this,fa)[0]}%`,p.top=`${u(this,fa)[1]}%`},xm=function(){v(this,da,!u(this,da)),u(this,da)?(E(this,Rt,_m).call(this),u(this,Qt).addEventListener("click",u(this,Mc)),u(this,Qt).addEventListener("keydown",u(this,Rc))):(E(this,Rt,BA).call(this),u(this,Qt).removeEventListener("click",u(this,Mc)),u(this,Qt).removeEventListener("keydown",u(this,Rc)))},_m=function(){u(this,zi)||this.render(),this.isVisible?u(this,da)&&u(this,Qt).classList.add("focused"):(E(this,Rt,WL).call(this),u(this,Qt).hidden=!1,u(this,Qt).style.zIndex=parseInt(u(this,Qt).style.zIndex)+1e3)},BA=function(){u(this,Qt).classList.remove("focused"),!(u(this,da)||!this.isVisible)&&(u(this,Qt).hidden=!0,u(this,Qt).style.zIndex=parseInt(u(this,Qt).style.zIndex)-1e3)};class QL extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=W.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var up;class jH extends he{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});w(this,up,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:i,height:s}=this,a=this.svgFactory.create(i,s,!0),r=v(this,up,this.svgFactory.createElement("svg:line"));return r.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),r.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),r.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),r.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),r.setAttribute("stroke-width",e.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),a.append(r),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,up)}addHighlightArea(){this.container.classList.add("highlightArea")}}up=new WeakMap;var cp;class GH extends he{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});w(this,cp,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:i,height:s}=this,a=this.svgFactory.create(i,s,!0),r=e.borderStyle.width,o=v(this,cp,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",r/2),o.setAttribute("y",r/2),o.setAttribute("width",i-r),o.setAttribute("height",s-r),o.setAttribute("stroke-width",r||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,cp)}addHighlightArea(){this.container.classList.add("highlightArea")}}cp=new WeakMap;var hp;class qH extends he{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});w(this,hp,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:i,height:s}=this,a=this.svgFactory.create(i,s,!0),r=e.borderStyle.width,o=v(this,hp,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",i/2),o.setAttribute("cy",s/2),o.setAttribute("rx",i/2-r/2),o.setAttribute("ry",s/2-r/2),o.setAttribute("stroke-width",r||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,hp)}addHighlightArea(){this.container.classList.add("highlightArea")}}hp=new WeakMap;var dp;class ZL extends he{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});w(this,dp,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:s,popupRef:a},width:r,height:o}=this;if(!i)return this.container;const l=this.svgFactory.create(r,o,!0);let c=[];for(let d=0,f=i.length;d<f;d+=2){const p=i[d]-e[0],y=e[3]-i[d+1];c.push(`${p},${y}`)}c=c.join(" ");const h=v(this,dp,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",c),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,dp)}addHighlightArea(){this.container.classList.add("highlightArea")}}dp=new WeakMap;class XH extends ZL{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class YH extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var fp,cl,pp,IA;class uE extends he{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});w(this,pp);w(this,fp,null);w(this,cl,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?W.HIGHLIGHT:W.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:i,inkLists:s,borderStyle:a,popupRef:r}}=this,{transform:o,width:l,height:c}=E(this,pp,IA).call(this,i,e),h=this.svgFactory.create(l,c,!0),d=v(this,fp,this.svgFactory.createElement("svg:g"));h.append(d),d.setAttribute("stroke-width",a.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",o);for(let f=0,p=s.length;f<p;f++){const y=this.svgFactory.createElement(this.svgElementName);u(this,cl).push(y),y.setAttribute("points",s[f].join(",")),d.append(y)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:i,points:s,rect:a}=e,r=u(this,fp);if(i>=0&&r.setAttribute("stroke-width",i||1),s)for(let o=0,l=u(this,cl).length;o<l;o++)u(this,cl)[o].setAttribute("points",s[o].join(","));if(a){const{transform:o,width:l,height:c}=E(this,pp,IA).call(this,this.data.rotation,a);r.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),r.setAttribute("transform",o)}}getElementsToTriggerPopup(){return u(this,cl)}addHighlightArea(){this.container.classList.add("highlightArea")}}fp=new WeakMap,cl=new WeakMap,pp=new WeakSet,IA=function(e,i){switch(e){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class JL extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=W.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class $H extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class KH extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class WH extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class t2 extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=W.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var gp,mp,FA;class QH extends he{constructor(e){var s;super(e,{isRenderable:!0});w(this,mp);w(this,gp,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let s;i.hasAppearance||i.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),s.addEventListener("dblclick",E(this,mp,FA).bind(this)),v(this,gp,s);const{isMac:a}=Fe.platform;return e.addEventListener("keydown",r=>{r.key==="Enter"&&(a?r.metaKey:r.ctrlKey)&&E(this,mp,FA).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),e.append(s),e}getElementsToTriggerPopup(){return u(this,gp)}addHighlightArea(){this.container.classList.add("highlightArea")}}gp=new WeakMap,mp=new WeakSet,FA=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var yp,hl,_r,vp,lo,VA,zA,Pc;let cE=(Pc=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:s,page:a,viewport:r,structTreeLayer:o}){w(this,lo);w(this,yp,null);w(this,hl,null);w(this,_r,new Map);w(this,vp,null);this.div=t,v(this,yp,e),v(this,hl,i),v(this,vp,o||null),this.page=a,this.viewport=r,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return u(this,_r).size>0}async render(t){var r;const{annotations:e}=t,i=this.div;so(i,this.viewport);const s=new Map,a={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new cf,annotationStorage:t.annotationStorage||new iE,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const o of e){if(o.noHTML)continue;const l=o.annotationType===ae.POPUP;if(l){const d=s.get(o.id);if(!d)continue;a.elements=d}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;a.data=o;const c=Mx.create(a);if(!c.isRenderable)continue;if(!l&&o.popupRef){const d=s.get(o.popupRef);d?d.push(c):s.set(o.popupRef,[c])}const h=c.render();o.hidden&&(h.style.visibility="hidden"),await E(this,lo,VA).call(this,h,o.id),c._isEditable&&(u(this,_r).set(c.data.id,c),(r=this._annotationEditorUIManager)==null||r.renderAnnotationElement(c))}E(this,lo,zA).call(this)}async addLinkAnnotations(t,e){const i={data:null,layer:this.div,linkService:e,svgFactory:new cf,parent:this};for(const s of t){s.borderStyle||(s.borderStyle=Pc._defaultBorderStyle),i.data=s;const a=Mx.create(i);if(!a.isRenderable)continue;const r=a.render();await E(this,lo,VA).call(this,r,s.id)}}update({viewport:t}){const e=this.div;this.viewport=t,so(e,{rotation:t.rotation}),E(this,lo,zA).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(u(this,_r).values())}getEditableAnnotation(t){return u(this,_r).get(t)}static get _defaultBorderStyle(){return ut(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:cu.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},yp=new WeakMap,hl=new WeakMap,_r=new WeakMap,vp=new WeakMap,lo=new WeakSet,VA=async function(t,e){var r,o;const i=t.firstChild||t,s=i.id=`${eE}${e}`,a=await((r=u(this,vp))==null?void 0:r.getAriaAttributes(s));if(a)for(const[l,c]of a)i.setAttribute(l,c);this.div.append(t),(o=u(this,yp))==null||o.moveElementInDOM(this.div,t,i,!1)},zA=function(){var e;if(!u(this,hl))return;const t=this.div;for(const[i,s]of u(this,hl)){const a=t.querySelector(`[data-annotation-id="${i}"]`);if(!a)continue;s.className="annotationContent";const{firstChild:r}=a;r?r.nodeName==="CANVAS"?r.replaceWith(s):r.classList.contains("annotationContent")?r.after(s):r.before(s):a.append(s);const o=u(this,_r).get(i);o&&(o._hasNoCanvas?((e=this._annotationEditorUIManager)==null||e.setMissingCanvas(i,a.id,s),o._hasNoCanvas=!1):o.canvas=s)}u(this,hl).clear()},Pc);const Gg=/\r\n?|\n/g;var Hi,jn,bp,dl,Gn,ve,e2,n2,i2,Cm,Pa,Rm,Mm,s2,UA,a2;const Pt=class Pt extends Nt{constructor(e){super({...e,name:"freeTextEditor"});w(this,ve);w(this,Hi);w(this,jn,"");w(this,bp,`${this.id}-editor`);w(this,dl,null);w(this,Gn);v(this,Hi,e.color||Pt._defaultColor||Nt._defaultLineColor),v(this,Gn,e.fontSize||Pt._defaultFontSize)}static get _keyboardManager(){const e=Pt.prototype,i=r=>r.isEmpty(),s=ao.TRANSLATE_SMALL,a=ao.TRANSLATE_BIG;return ut(this,"_keyboardManager",new dg([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[a,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,a],checker:i}]]))}static initialize(e,i){Nt.initialize(e,i);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case ct.FREETEXT_SIZE:Pt._defaultFontSize=i;break;case ct.FREETEXT_COLOR:Pt._defaultColor=i;break}}updateParams(e,i){switch(e){case ct.FREETEXT_SIZE:E(this,ve,e2).call(this,i);break;case ct.FREETEXT_COLOR:E(this,ve,n2).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ct.FREETEXT_SIZE,Pt._defaultFontSize],[ct.FREETEXT_COLOR,Pt._defaultColor||Nt._defaultLineColor]]}get propertiesToUpdate(){return[[ct.FREETEXT_SIZE,u(this,Gn)],[ct.FREETEXT_COLOR,u(this,Hi)]]}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-Pt._internalPadding*e,-(Pt._internalPadding+u(this,Gn))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),v(this,dl,new AbortController);const e=this._uiManager.combinedSignal(u(this,dl));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,bp)),this._isDraggable=!0,(e=u(this,dl))==null||e.abort(),v(this,dl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var i;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=u(this,jn),i=v(this,jn,E(this,ve,i2).call(this).trimEnd());if(e===i)return;const s=a=>{if(v(this,jn,a),!a){this.remove();return}E(this,ve,Mm).call(this),this._uiManager.rebuild(this),E(this,ve,Cm).call(this)};this.addCommands({cmd:()=>{s(i)},undo:()=>{s(e)},mustExec:!1}),E(this,ve,Cm).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Pt._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,i;(this._isCopy||this.annotationElementId)&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,bp)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${u(this,Gn)}px * var(--total-scale-factor))`,s.color=u(this,Hi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,r]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[h,d]=this.pageDimensions,[f,p]=this.pageTranslation;let y,m;switch(this.rotation){case 0:y=e+(o[0]-f)/h,m=i+this.height-(o[1]-p)/d;break;case 90:y=e+(o[0]-f)/h,m=i-(o[1]-p)/d,[l,c]=[c,-l];break;case 180:y=e-this.width+(o[0]-f)/h,m=i-(o[1]-p)/d,[l,c]=[-l,-c];break;case 270:y=e+(o[0]-f-this.height*d)/h,m=i+(o[1]-p-this.width*h)/d,[l,c]=[-c,l];break}this.setAt(y*a,m*r,l,c)}else this._moveAfterPaste(e,i);E(this,ve,Mm).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var y,m,S;const i=e.clipboardData||window.clipboardData,{types:s}=i;if(s.length===1&&s[0]==="text/plain")return;e.preventDefault();const a=E(y=Pt,Pa,UA).call(y,i.getData("text")||"").replaceAll(Gg,`
`);if(!a)return;const r=window.getSelection();if(!r.rangeCount)return;this.editorDiv.normalize(),r.deleteFromDocument();const o=r.getRangeAt(0);if(!a.includes(`
`)){o.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),r.collapseToStart();return}const{startContainer:l,startOffset:c}=o,h=[],d=[];if(l.nodeType===Node.TEXT_NODE){const g=l.parentElement;if(d.push(l.nodeValue.slice(c).replaceAll(Gg,"")),g!==this.editorDiv){let b=h;for(const A of this.editorDiv.childNodes){if(A===g){b=d;continue}b.push(E(m=Pt,Pa,Rm).call(m,A))}}h.push(l.nodeValue.slice(0,c).replaceAll(Gg,""))}else if(l===this.editorDiv){let g=h,b=0;for(const A of this.editorDiv.childNodes)b++===c&&(g=d),g.push(E(S=Pt,Pa,Rm).call(S,A))}v(this,jn,`${h.join(`
`)}${a}${d.join(`
`)}`),E(this,ve,Mm).call(this);const f=new Range;let p=Math.sumPrecise(h.map(g=>g.length));for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const b=g.nodeValue.length;if(p<=b){f.setStart(g,p),f.setEnd(g,p);break}p-=b}r.removeAllRanges(),r.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(e,i,s){var o;let a=null;if(e instanceof QL){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:h,rotation:d,id:f,popupRef:p},textContent:y,textPosition:m,parent:{page:{pageNumber:S}}}=e;if(!y||y.length===0)return null;a=e={annotationType:W.FREETEXT,color:Array.from(c),fontSize:l,value:y.join(`
`),position:m,pageIndex:S-1,rect:h.slice(0),rotation:d,id:f,deleted:!1,popupRef:p}}const r=await super.deserialize(e,i,s);return v(r,Gn,e.fontSize),v(r,Hi,G.makeHexColor(...e.color)),v(r,jn,E(o=Pt,Pa,UA).call(o,e.value)),r.annotationElementId=e.id||null,r._initialData=a,r}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Pt._internalPadding*this.parentScale,s=this.getRect(i,i),a=Nt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,Hi)),r={annotationType:W.FREETEXT,color:a,fontSize:u(this,Gn),value:E(this,ve,s2).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(r.isCopy=!0,r):this.annotationElementId&&!E(this,ve,a2).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e);if(this.deleted)return i;const{style:s}=i;s.fontSize=`calc(${u(this,Gn)}px * var(--total-scale-factor))`,s.color=u(this,Hi),i.replaceChildren();for(const r of u(this,jn).split(`
`)){const o=document.createElement("div");o.append(r?document.createTextNode(r):document.createElement("br")),i.append(o)}const a=Pt._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(a,a),popupContent:u(this,jn)}),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Hi=new WeakMap,jn=new WeakMap,bp=new WeakMap,dl=new WeakMap,Gn=new WeakMap,ve=new WeakSet,e2=function(e){const i=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-u(this,Gn))*this.parentScale),v(this,Gn,a),E(this,ve,Cm).call(this)},s=u(this,Gn);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ct.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},n2=function(e){const i=a=>{v(this,Hi,this.editorDiv.style.color=a)},s=u(this,Hi);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ct.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},i2=function(){var s;const e=[];this.editorDiv.normalize();let i=null;for(const a of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(e.push(E(s=Pt,Pa,Rm).call(s,a)),i=a);return e.join(`
`)},Cm=function(){const[e,i]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:a,div:r}=this,o=r.style.display,l=r.classList.contains("hidden");r.classList.remove("hidden"),r.style.display="hidden",a.div.append(this.div),s=r.getBoundingClientRect(),r.remove(),r.style.display=o,r.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=s.width/e,this.height=s.height/i):(this.width=s.height/e,this.height=s.width/i),this.fixAndSetPosition()},Pa=new WeakSet,Rm=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Gg,"")},Mm=function(){if(this.editorDiv.replaceChildren(),!!u(this,jn))for(const e of u(this,jn).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},s2=function(){return u(this,jn).replaceAll(" "," ")},UA=function(e){return e.replaceAll(" "," ")},a2=function(e){const{value:i,fontSize:s,color:a,pageIndex:r}=this._initialData;return this._hasBeenMoved||e.value!==i||e.fontSize!==s||e.color.some((o,l)=>o!==a[l])||e.pageIndex!==r},w(Pt,Pa),B(Pt,"_freeTextDefaultContent",""),B(Pt,"_internalPadding",0),B(Pt,"_defaultColor",null),B(Pt,"_defaultFontSize",10),B(Pt,"_type","freetext"),B(Pt,"_editorType",W.FREETEXT);let HA=Pt;class H{toSVGPath(){Ct("Abstract method `toSVGPath` must be implemented.")}get box(){Ct("Abstract getter `box` must be implemented.")}serialize(t,e){Ct("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,s,a,r){r||(r=new Float32Array(t.length));for(let o=0,l=t.length;o<l;o+=2)r[o]=e+t[o]*s,r[o+1]=i+t[o+1]*a;return r}static _rescaleAndSwap(t,e,i,s,a,r){r||(r=new Float32Array(t.length));for(let o=0,l=t.length;o<l;o+=2)r[o]=e+t[o+1]*s,r[o+1]=i+t[o]*a;return r}static _translate(t,e,i,s){s||(s=new Float32Array(t.length));for(let a=0,r=t.length;a<r;a+=2)s[a]=e+t[a],s[a+1]=i+t[a+1];return s}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,s,a){switch(a){case 90:return[1-e/i,t/s];case 180:return[1-t/i,1-e/s];case 270:return[e/i,1-t/s];default:return[t/i,e/s]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,s,a,r){return[(t+5*i)/6,(e+5*s)/6,(5*i+a)/6,(5*s+r)/6,(i+a)/2,(s+r)/2]}}B(H,"PRECISION",1e-4);var qn,Ui,Nc,kc,vs,at,fl,pl,Ap,Sp,Bc,Ic,Cr,wp,qy,Xy,xe,ud,r2,o2,l2,u2,c2,h2;const Ys=class Ys{constructor({x:t,y:e},i,s,a,r,o=0){w(this,xe);w(this,qn);w(this,Ui,[]);w(this,Nc);w(this,kc);w(this,vs,[]);w(this,at,new Float32Array(18));w(this,fl);w(this,pl);w(this,Ap);w(this,Sp);w(this,Bc);w(this,Ic);w(this,Cr,[]);v(this,qn,i),v(this,Ic,a*s),v(this,kc,r),u(this,at).set([NaN,NaN,NaN,NaN,t,e],6),v(this,Nc,o),v(this,Sp,u(Ys,wp)*s),v(this,Ap,u(Ys,Xy)*s),v(this,Bc,s),u(this,Cr).push(t,e)}isEmpty(){return isNaN(u(this,at)[8])}add({x:t,y:e}){var L;v(this,fl,t),v(this,pl,e);const[i,s,a,r]=u(this,qn);let[o,l,c,h]=u(this,at).subarray(8,12);const d=t-c,f=e-h,p=Math.hypot(d,f);if(p<u(this,Ap))return!1;const y=p-u(this,Sp),m=y/p,S=m*d,g=m*f;let b=o,A=l;o=c,l=h,c+=S,h+=g,(L=u(this,Cr))==null||L.push(t,e);const T=-g/y,x=S/y,C=T*u(this,Ic),_=x*u(this,Ic);return u(this,at).set(u(this,at).subarray(2,8),0),u(this,at).set([c+C,h+_],4),u(this,at).set(u(this,at).subarray(14,18),12),u(this,at).set([c-C,h-_],16),isNaN(u(this,at)[6])?(u(this,vs).length===0&&(u(this,at).set([o+C,l+_],2),u(this,vs).push(NaN,NaN,NaN,NaN,(o+C-i)/a,(l+_-s)/r),u(this,at).set([o-C,l-_],14),u(this,Ui).push(NaN,NaN,NaN,NaN,(o-C-i)/a,(l-_-s)/r)),u(this,at).set([b,A,o,l,c,h],6),!this.isEmpty()):(u(this,at).set([b,A,o,l,c,h],6),Math.abs(Math.atan2(A-l,b-o)-Math.atan2(g,S))<Math.PI/2?([o,l,c,h]=u(this,at).subarray(2,6),u(this,vs).push(NaN,NaN,NaN,NaN,((o+c)/2-i)/a,((l+h)/2-s)/r),[o,l,b,A]=u(this,at).subarray(14,18),u(this,Ui).push(NaN,NaN,NaN,NaN,((b+o)/2-i)/a,((A+l)/2-s)/r),!0):([b,A,o,l,c,h]=u(this,at).subarray(0,6),u(this,vs).push(((b+5*o)/6-i)/a,((A+5*l)/6-s)/r,((5*o+c)/6-i)/a,((5*l+h)/6-s)/r,((o+c)/2-i)/a,((l+h)/2-s)/r),[c,h,o,l,b,A]=u(this,at).subarray(12,18),u(this,Ui).push(((b+5*o)/6-i)/a,((A+5*l)/6-s)/r,((5*o+c)/6-i)/a,((5*l+h)/6-s)/r,((o+c)/2-i)/a,((l+h)/2-s)/r),!0))}toSVGPath(){if(this.isEmpty())return"";const t=u(this,vs),e=u(this,Ui);if(isNaN(u(this,at)[6])&&!this.isEmpty())return E(this,xe,r2).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let s=6;s<t.length;s+=6)isNaN(t[s])?i.push(`L${t[s+4]} ${t[s+5]}`):i.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);E(this,xe,l2).call(this,i);for(let s=e.length-6;s>=6;s-=6)isNaN(e[s])?i.push(`L${e[s+4]} ${e[s+5]}`):i.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);return E(this,xe,o2).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,s,a,r){return new d2(t,e,i,s,a,r)}getOutlines(){var d;const t=u(this,vs),e=u(this,Ui),i=u(this,at),[s,a,r,o]=u(this,qn),l=new Float32Array((((d=u(this,Cr))==null?void 0:d.length)??0)+2);for(let f=0,p=l.length-2;f<p;f+=2)l[f]=(u(this,Cr)[f]-s)/r,l[f+1]=(u(this,Cr)[f+1]-a)/o;if(l[l.length-2]=(u(this,fl)-s)/r,l[l.length-1]=(u(this,pl)-a)/o,isNaN(i[6])&&!this.isEmpty())return E(this,xe,u2).call(this,l);const c=new Float32Array(u(this,vs).length+24+u(this,Ui).length);let h=t.length;for(let f=0;f<h;f+=2){if(isNaN(t[f])){c[f]=c[f+1]=NaN;continue}c[f]=t[f],c[f+1]=t[f+1]}h=E(this,xe,h2).call(this,c,h);for(let f=e.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(e[f+p])){c[h]=c[h+1]=NaN,h+=2;continue}c[h]=e[f+p],c[h+1]=e[f+p+1],h+=2}return E(this,xe,c2).call(this,c,h),this.newFreeDrawOutline(c,l,u(this,qn),u(this,Bc),u(this,Nc),u(this,kc))}};qn=new WeakMap,Ui=new WeakMap,Nc=new WeakMap,kc=new WeakMap,vs=new WeakMap,at=new WeakMap,fl=new WeakMap,pl=new WeakMap,Ap=new WeakMap,Sp=new WeakMap,Bc=new WeakMap,Ic=new WeakMap,Cr=new WeakMap,wp=new WeakMap,qy=new WeakMap,Xy=new WeakMap,xe=new WeakSet,ud=function(){const t=u(this,at).subarray(4,6),e=u(this,at).subarray(16,18),[i,s,a,r]=u(this,qn);return[(u(this,fl)+(t[0]-e[0])/2-i)/a,(u(this,pl)+(t[1]-e[1])/2-s)/r,(u(this,fl)+(e[0]-t[0])/2-i)/a,(u(this,pl)+(e[1]-t[1])/2-s)/r]},r2=function(){const[t,e,i,s]=u(this,qn),[a,r,o,l]=E(this,xe,ud).call(this);return`M${(u(this,at)[2]-t)/i} ${(u(this,at)[3]-e)/s} L${(u(this,at)[4]-t)/i} ${(u(this,at)[5]-e)/s} L${a} ${r} L${o} ${l} L${(u(this,at)[16]-t)/i} ${(u(this,at)[17]-e)/s} L${(u(this,at)[14]-t)/i} ${(u(this,at)[15]-e)/s} Z`},o2=function(t){const e=u(this,Ui);t.push(`L${e[4]} ${e[5]} Z`)},l2=function(t){const[e,i,s,a]=u(this,qn),r=u(this,at).subarray(4,6),o=u(this,at).subarray(16,18),[l,c,h,d]=E(this,xe,ud).call(this);t.push(`L${(r[0]-e)/s} ${(r[1]-i)/a} L${l} ${c} L${h} ${d} L${(o[0]-e)/s} ${(o[1]-i)/a}`)},u2=function(t){const e=u(this,at),[i,s,a,r]=u(this,qn),[o,l,c,h]=E(this,xe,ud).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(e[2]-i)/a,(e[3]-s)/r,NaN,NaN,NaN,NaN,(e[4]-i)/a,(e[5]-s)/r,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,(e[16]-i)/a,(e[17]-s)/r,NaN,NaN,NaN,NaN,(e[14]-i)/a,(e[15]-s)/r],0),this.newFreeDrawOutline(d,t,u(this,qn),u(this,Bc),u(this,Nc),u(this,kc))},c2=function(t,e){const i=u(this,Ui);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},h2=function(t,e){const i=u(this,at).subarray(4,6),s=u(this,at).subarray(16,18),[a,r,o,l]=u(this,qn),[c,h,d,f]=E(this,xe,ud).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-a)/o,(i[1]-r)/l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(s[0]-a)/o,(s[1]-r)/l],e),e+=24},w(Ys,wp,8),w(Ys,qy,2),w(Ys,Xy,u(Ys,wp)+u(Ys,qy));let _y=Ys;var Fc,gl,ga,Ep,Xn,Tp,oe,Yy,f2;class d2 extends H{constructor(e,i,s,a,r,o){super();w(this,Yy);w(this,Fc);w(this,gl,new Float32Array(4));w(this,ga);w(this,Ep);w(this,Xn);w(this,Tp);w(this,oe);v(this,oe,e),v(this,Xn,i),v(this,Fc,s),v(this,Tp,a),v(this,ga,r),v(this,Ep,o),this.lastPoint=[NaN,NaN],E(this,Yy,f2).call(this,o);const[l,c,h,d]=u(this,gl);for(let f=0,p=e.length;f<p;f+=2)e[f]=(e[f]-l)/h,e[f+1]=(e[f+1]-c)/d;for(let f=0,p=i.length;f<p;f+=2)i[f]=(i[f]-l)/h,i[f+1]=(i[f+1]-c)/d}toSVGPath(){const e=[`M${u(this,oe)[4]} ${u(this,oe)[5]}`];for(let i=6,s=u(this,oe).length;i<s;i+=6){if(isNaN(u(this,oe)[i])){e.push(`L${u(this,oe)[i+4]} ${u(this,oe)[i+5]}`);continue}e.push(`C${u(this,oe)[i]} ${u(this,oe)[i+1]} ${u(this,oe)[i+2]} ${u(this,oe)[i+3]} ${u(this,oe)[i+4]} ${u(this,oe)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,s,a],r){const o=s-e,l=a-i;let c,h;switch(r){case 0:c=H._rescale(u(this,oe),e,a,o,-l),h=H._rescale(u(this,Xn),e,a,o,-l);break;case 90:c=H._rescaleAndSwap(u(this,oe),e,i,o,l),h=H._rescaleAndSwap(u(this,Xn),e,i,o,l);break;case 180:c=H._rescale(u(this,oe),s,i,-o,l),h=H._rescale(u(this,Xn),s,i,-o,l);break;case 270:c=H._rescaleAndSwap(u(this,oe),s,a,-o,-l),h=H._rescaleAndSwap(u(this,Xn),s,a,-o,-l);break}return{outline:Array.from(c),points:[Array.from(h)]}}get box(){return u(this,gl)}newOutliner(e,i,s,a,r,o=0){return new _y(e,i,s,a,r,o)}getNewOutline(e,i){const[s,a,r,o]=u(this,gl),[l,c,h,d]=u(this,Fc),f=r*h,p=o*d,y=s*h+l,m=a*d+c,S=this.newOutliner({x:u(this,Xn)[0]*f+y,y:u(this,Xn)[1]*p+m},u(this,Fc),u(this,Tp),e,u(this,Ep),i??u(this,ga));for(let g=2;g<u(this,Xn).length;g+=2)S.add({x:u(this,Xn)[g]*f+y,y:u(this,Xn)[g+1]*p+m});return S.getOutlines()}}Fc=new WeakMap,gl=new WeakMap,ga=new WeakMap,Ep=new WeakMap,Xn=new WeakMap,Tp=new WeakMap,oe=new WeakMap,Yy=new WeakSet,f2=function(e){const i=u(this,oe);let s=i[4],a=i[5];const r=[s,a,s,a];let o=s,l=a;const c=e?Math.max:Math.min;for(let d=6,f=i.length;d<f;d+=6){const p=i[d+4],y=i[d+5];if(isNaN(i[d]))G.pointBoundingBox(p,y,r),l<y?(o=p,l=y):l===y&&(o=c(o,p));else{const m=[1/0,1/0,-1/0,-1/0];G.bezierBoundingBox(s,a,...i.slice(d,d+6),m),G.rectBoundingBox(...m,r),l<m[3]?(o=m[2],l=m[3]):l===m[3]&&(o=c(o,m[2]))}s=p,a=y}const h=u(this,gl);h[0]=r[0]-u(this,ga),h[1]=r[1]-u(this,ga),h[2]=r[2]-r[0]+2*u(this,ga),h[3]=r[3]-r[1]+2*u(this,ga),this.lastPoint=[o,l]};var xp,_p,Rr,ji,wn,p2,Dm,g2,m2,GA;class jA{constructor(t,e=0,i=0,s=!0){w(this,wn);w(this,xp);w(this,_p);w(this,Rr,[]);w(this,ji,[]);const a=[1/0,1/0,-1/0,-1/0],r=10**-4;for(const{x:p,y,width:m,height:S}of t){const g=Math.floor((p-e)/r)*r,b=Math.ceil((p+m+e)/r)*r,A=Math.floor((y-e)/r)*r,T=Math.ceil((y+S+e)/r)*r,x=[g,A,T,!0],C=[b,A,T,!1];u(this,Rr).push(x,C),G.rectBoundingBox(g,A,b,T,a)}const o=a[2]-a[0]+2*i,l=a[3]-a[1]+2*i,c=a[0]-i,h=a[1]-i,d=u(this,Rr).at(s?-1:-2),f=[d[0],d[2]];for(const p of u(this,Rr)){const[y,m,S]=p;p[0]=(y-c)/o,p[1]=(m-h)/l,p[2]=(S-h)/l}v(this,xp,new Float32Array([c,h,o,l])),v(this,_p,f)}getOutlines(){u(this,Rr).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of u(this,Rr))e[3]?(t.push(...E(this,wn,GA).call(this,e)),E(this,wn,g2).call(this,e)):(E(this,wn,m2).call(this,e),t.push(...E(this,wn,GA).call(this,e)));return E(this,wn,p2).call(this,t)}}xp=new WeakMap,_p=new WeakMap,Rr=new WeakMap,ji=new WeakMap,wn=new WeakSet,p2=function(t){const e=[],i=new Set;for(const r of t){const[o,l,c]=r;e.push([o,l,r],[o,c,r])}e.sort((r,o)=>r[1]-o[1]||r[0]-o[0]);for(let r=0,o=e.length;r<o;r+=2){const l=e[r][2],c=e[r+1][2];l.push(c),c.push(l),i.add(l),i.add(c)}const s=[];let a;for(;i.size>0;){const r=i.values().next().value;let[o,l,c,h,d]=r;i.delete(r);let f=o,p=l;for(a=[o,c],s.push(a);;){let y;if(i.has(h))y=h;else if(i.has(d))y=d;else break;i.delete(y),[o,l,c,h,d]=y,f!==o&&(a.push(f,p,o,p===l?l:c),f=o),p=p===l?c:l}a.push(f,p)}return new ZH(s,u(this,xp),u(this,_p))},Dm=function(t){const e=u(this,ji);let i=0,s=e.length-1;for(;i<=s;){const a=i+s>>1,r=e[a][0];if(r===t)return a;r<t?i=a+1:s=a-1}return s+1},g2=function([,t,e]){const i=E(this,wn,Dm).call(this,t);u(this,ji).splice(i,0,[t,e])},m2=function([,t,e]){const i=E(this,wn,Dm).call(this,t);for(let s=i;s<u(this,ji).length;s++){const[a,r]=u(this,ji)[s];if(a!==t)break;if(a===t&&r===e){u(this,ji).splice(s,1);return}}for(let s=i-1;s>=0;s--){const[a,r]=u(this,ji)[s];if(a!==t)break;if(a===t&&r===e){u(this,ji).splice(s,1);return}}},GA=function(t){const[e,i,s]=t,a=[[e,i,s]],r=E(this,wn,Dm).call(this,s);for(let o=0;o<r;o++){const[l,c]=u(this,ji)[o];for(let h=0,d=a.length;h<d;h++){const[,f,p]=a[h];if(!(c<=f||p<=l)){if(f>=l){if(p>c)a[h][1]=c;else{if(d===1)return[];a.splice(h,1),h--,d--}continue}a[h][2]=l,p>c&&a.push([e,c,p])}}}return a};var Cp,Vc;class ZH extends H{constructor(e,i,s){super();w(this,Cp);w(this,Vc);v(this,Vc,e),v(this,Cp,i),this.lastPoint=s}toSVGPath(){const e=[];for(const i of u(this,Vc)){let[s,a]=i;e.push(`M${s} ${a}`);for(let r=2;r<i.length;r+=2){const o=i[r],l=i[r+1];o===s?(e.push(`V${l}`),a=l):l===a&&(e.push(`H${o}`),s=o)}e.push("Z")}return e.join(" ")}serialize([e,i,s,a],r){const o=[],l=s-e,c=a-i;for(const h of u(this,Vc)){const d=new Array(h.length);for(let f=0;f<h.length;f+=2)d[f]=e+h[f]*l,d[f+1]=a-h[f+1]*c;o.push(d)}return o}get box(){return u(this,Cp)}get classNamesForOutlining(){return["highlightOutline"]}}Cp=new WeakMap,Vc=new WeakMap;class qA extends _y{newFreeDrawOutline(t,e,i,s,a,r){return new JH(t,e,i,s,a,r)}}class JH extends d2{newOutliner(t,e,i,s,a,r=0){return new qA(t,e,i,s,a,r)}}var Gi,ml,zc,we,Rp,Hc,Mp,Dp,Mr,qi,Uc,Lp,_t,XA,YA,$A,So,y2,Qa;const xn=class xn{constructor({editor:t=null,uiManager:e=null}){w(this,_t);w(this,Gi,null);w(this,ml,null);w(this,zc);w(this,we,null);w(this,Rp,!1);w(this,Hc,!1);w(this,Mp,null);w(this,Dp);w(this,Mr,null);w(this,qi,null);w(this,Uc);var i;t?(v(this,Hc,!1),v(this,Uc,ct.HIGHLIGHT_COLOR),v(this,Mp,t)):(v(this,Hc,!0),v(this,Uc,ct.HIGHLIGHT_DEFAULT_COLOR)),v(this,qi,(t==null?void 0:t._uiManager)||e),v(this,Dp,u(this,qi)._eventBus),v(this,zc,(t==null?void 0:t.color)||((i=u(this,qi))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),u(xn,Lp)||v(xn,Lp,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return ut(this,"_keyboardManager",new dg([[["Escape","mac+Escape"],xn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],xn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],xn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],xn.prototype._moveToPrevious],[["Home","mac+Home"],xn.prototype._moveToBeginning],[["End","mac+End"],xn.prototype._moveToEnd]]))}renderButton(){const t=v(this,Gi,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=u(this,qi)._signal;t.addEventListener("click",E(this,_t,So).bind(this),{signal:e}),t.addEventListener("keydown",E(this,_t,$A).bind(this),{signal:e});const i=v(this,ml,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=u(this,zc),t.append(i),t}renderMainDropdown(){const t=v(this,we,E(this,_t,XA).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===u(this,Gi)){E(this,_t,So).call(this,t);return}const e=t.target.getAttribute("data-color");e&&E(this,_t,YA).call(this,e,t)}_moveToNext(t){var e,i;if(!u(this,_t,Qa)){E(this,_t,So).call(this,t);return}if(t.target===u(this,Gi)){(e=u(this,we).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=u(this,we))==null?void 0:e.firstChild)||t.target===u(this,Gi)){u(this,_t,Qa)&&this._hideDropdownFromKeyboard();return}u(this,_t,Qa)||E(this,_t,So).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!u(this,_t,Qa)){E(this,_t,So).call(this,t);return}(e=u(this,we).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!u(this,_t,Qa)){E(this,_t,So).call(this,t);return}(e=u(this,we).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=u(this,we))==null||t.classList.add("hidden"),(e=u(this,Mr))==null||e.abort(),v(this,Mr,null)}_hideDropdownFromKeyboard(){var t;if(!u(this,Hc)){if(!u(this,_t,Qa)){(t=u(this,Mp))==null||t.unselect();return}this.hideDropdown(),u(this,Gi).focus({preventScroll:!0,focusVisible:u(this,Rp)})}}updateColor(t){if(u(this,ml)&&(u(this,ml).style.backgroundColor=t),!u(this,we))return;const e=u(this,qi).highlightColors.values();for(const i of u(this,we).children)i.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=u(this,Gi))==null||t.remove(),v(this,Gi,null),v(this,ml,null),(e=u(this,we))==null||e.remove(),v(this,we,null)}};Gi=new WeakMap,ml=new WeakMap,zc=new WeakMap,we=new WeakMap,Rp=new WeakMap,Hc=new WeakMap,Mp=new WeakMap,Dp=new WeakMap,Mr=new WeakMap,qi=new WeakMap,Uc=new WeakMap,Lp=new WeakMap,_t=new WeakSet,XA=function(){const t=document.createElement("div"),e=u(this,qi)._signal;t.addEventListener("contextmenu",Pi,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,s]of u(this,qi).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",s),a.title=i,a.setAttribute("data-l10n-id",u(xn,Lp)[i]);const r=document.createElement("span");a.append(r),r.className="swatch",r.style.backgroundColor=s,a.setAttribute("aria-selected",s===u(this,zc)),a.addEventListener("click",E(this,_t,YA).bind(this,s),{signal:e}),t.append(a)}return t.addEventListener("keydown",E(this,_t,$A).bind(this),{signal:e}),t},YA=function(t,e){e.stopPropagation(),u(this,Dp).dispatch("switchannotationeditorparams",{source:this,type:u(this,Uc),value:t})},$A=function(t){xn._keyboardManager.exec(this,t)},So=function(t){if(u(this,_t,Qa)){this.hideDropdown();return}if(v(this,Rp,t.detail===0),u(this,Mr)||(v(this,Mr,new AbortController),window.addEventListener("pointerdown",E(this,_t,y2).bind(this),{signal:u(this,qi).combinedSignal(u(this,Mr))})),u(this,we)){u(this,we).classList.remove("hidden");return}const e=v(this,we,E(this,_t,XA).call(this));u(this,Gi).append(e)},y2=function(t){var e;(e=u(this,we))!=null&&e.contains(t.target)||this.hideDropdown()},Qa=function(){return u(this,we)&&!u(this,we).classList.contains("hidden")},w(xn,Lp,null);let hf=xn;var jc,Op,ma,yl,Gc,Rn,Pp,Np,vl,mi,Yn,Ue,qc,ya,en,Xc,yi,kp,et,KA,Lm,v2,b2,A2,WA,wo,Ci,gu,S2,Om,cd,w2,E2,T2,x2,_2;const gt=class gt extends Nt{constructor(e){super({...e,name:"highlightEditor"});w(this,et);w(this,jc,null);w(this,Op,0);w(this,ma);w(this,yl,null);w(this,Gc,null);w(this,Rn,null);w(this,Pp,null);w(this,Np,0);w(this,vl,null);w(this,mi,null);w(this,Yn,null);w(this,Ue,!1);w(this,qc,null);w(this,ya);w(this,en,null);w(this,Xc,"");w(this,yi);w(this,kp,"");this.color=e.color||gt._defaultColor,v(this,yi,e.thickness||gt._defaultThickness),v(this,ya,e.opacity||gt._defaultOpacity),v(this,ma,e.boxes||null),v(this,kp,e.methodOfCreation||""),v(this,Xc,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(v(this,Ue,!0),E(this,et,Lm).call(this,e),E(this,et,wo).call(this)):u(this,ma)&&(v(this,jc,e.anchorNode),v(this,Op,e.anchorOffset),v(this,Pp,e.focusNode),v(this,Np,e.focusOffset),E(this,et,KA).call(this),E(this,et,wo).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=gt.prototype;return ut(this,"_keyboardManager",new dg([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,Ue)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,yi),methodOfCreation:u(this,kp)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var s;Nt.initialize(e,i),gt._defaultColor||(gt._defaultColor=((s=i.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case ct.HIGHLIGHT_DEFAULT_COLOR:gt._defaultColor=i;break;case ct.HIGHLIGHT_THICKNESS:gt._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return u(this,qc)}updateParams(e,i){switch(e){case ct.HIGHLIGHT_COLOR:E(this,et,v2).call(this,i);break;case ct.HIGHLIGHT_THICKNESS:E(this,et,b2).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ct.HIGHLIGHT_DEFAULT_COLOR,gt._defaultColor],[ct.HIGHLIGHT_THICKNESS,gt._defaultThickness]]}get propertiesToUpdate(){return[[ct.HIGHLIGHT_COLOR,this.color||gt._defaultColor],[ct.HIGHLIGHT_THICKNESS,u(this,yi)||gt._defaultThickness],[ct.HIGHLIGHT_FREE,u(this,Ue)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(v(this,Gc,new hf({editor:this})),e.addColorPicker(u(this,Gc))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(E(this,et,cd).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,E(this,et,cd).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){E(this,et,WA).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(E(this,et,wo).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let i=!1;this.parent&&!e?E(this,et,WA).call(this):e&&(E(this,et,wo).call(this,e),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var a,r,o;const{drawLayer:i}=this.parent;let s;u(this,Ue)?(e=(e-this.rotation+360)%360,s=E(a=gt,Ci,gu).call(a,u(this,mi).box,e)):s=E(r=gt,Ci,gu).call(r,[this.x,this.y,this.width,this.height],e),i.updateProperties(u(this,Yn),{bbox:s,root:{"data-main-rotation":e}}),i.updateProperties(u(this,en),{bbox:E(o=gt,Ci,gu).call(o,u(this,Rn).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();u(this,Xc)&&(e.setAttribute("aria-label",u(this,Xc)),e.setAttribute("role","mark")),u(this,Ue)?e.classList.add("free"):this.div.addEventListener("keydown",E(this,et,S2).bind(this),{signal:this._uiManager._signal});const i=v(this,vl,document.createElement("div"));e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=u(this,yl);const[s,a]=this.parentDimensions;return this.setDims(this.width*s,this.height*a),qD(this,u(this,vl),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(u(this,en),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(u(this,en),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:E(this,et,Om).call(this,!0);break;case 1:case 3:E(this,et,Om).call(this,!1);break}}select(){var e;super.select(),u(this,en)&&((e=this.parent)==null||e.drawLayer.updateProperties(u(this,en),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),u(this,en)&&((e=this.parent)==null||e.drawLayer.updateProperties(u(this,en),{rootClass:{selected:!1}}),u(this,Ue)||E(this,et,Om).call(this,!1))}get _mustFixPosition(){return!u(this,Ue)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(u(this,Yn),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(u(this,en),{rootClass:{hidden:!e}}))}static startHighlighting(e,i,{target:s,x:a,y:r}){const{x:o,y:l,width:c,height:h}=s.getBoundingClientRect(),d=new AbortController,f=e.combinedSignal(d),p=y=>{d.abort(),E(this,Ci,x2).call(this,e,y)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",ce,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Pi,{signal:f}),s.addEventListener("pointermove",E(this,Ci,T2).bind(this,e),{signal:f}),this._freeHighlight=new qA({x:a,y:r},[o,l,c,h],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,i,s){var m,S,g,b;let a=null;if(e instanceof JL){const{data:{quadPoints:A,rect:T,rotation:x,id:C,color:_,opacity:M,popupRef:L},parent:{page:{pageNumber:O}}}=e;a=e={annotationType:W.HIGHLIGHT,color:Array.from(_),opacity:M,quadPoints:A,boxes:null,pageIndex:O-1,rect:T.slice(0),rotation:x,id:C,deleted:!1,popupRef:L}}else if(e instanceof uE){const{data:{inkLists:A,rect:T,rotation:x,id:C,color:_,borderStyle:{rawWidth:M},popupRef:L},parent:{page:{pageNumber:O}}}=e;a=e={annotationType:W.HIGHLIGHT,color:Array.from(_),thickness:M,inkLists:A,boxes:null,pageIndex:O-1,rect:T.slice(0),rotation:x,id:C,deleted:!1,popupRef:L}}const{color:r,quadPoints:o,inkLists:l,opacity:c}=e,h=await super.deserialize(e,i,s);h.color=G.makeHexColor(...r),v(h,ya,c||1),l&&v(h,yi,e.thickness),h.annotationElementId=e.id||null,h._initialData=a;const[d,f]=h.pageDimensions,[p,y]=h.pageTranslation;if(o){const A=v(h,ma,[]);for(let T=0;T<o.length;T+=8)A.push({x:(o[T]-p)/d,y:1-(o[T+1]-y)/f,width:(o[T+2]-o[T])/d,height:(o[T+1]-o[T+5])/f});E(m=h,et,KA).call(m),E(S=h,et,wo).call(S),h.rotate(h.rotation)}else if(l){v(h,Ue,!0);const A=l[0],T={x:A[0]-p,y:f-(A[1]-y)},x=new qA(T,[0,0,d,f],1,u(h,yi)/2,!0,.001);for(let M=0,L=A.length;M<L;M+=2)T.x=A[M]-p,T.y=f-(A[M+1]-y),x.add(T);const{id:C,clipPathId:_}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:x.toSVGPath()}},!0,!0);E(g=h,et,Lm).call(g,{highlightOutlines:x.getOutlines(),highlightId:C,clipPathId:_}),E(b=h,et,wo).call(b),h.rotate(h.parentRotation)}return h}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),s=Nt._colorManager.convert(this.color),a={annotationType:W.HIGHLIGHT,color:s,opacity:u(this,ya),thickness:u(this,yi),quadPoints:E(this,et,w2).call(this),outlines:E(this,et,E2).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:E(this,et,cd).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!E(this,et,_2).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};jc=new WeakMap,Op=new WeakMap,ma=new WeakMap,yl=new WeakMap,Gc=new WeakMap,Rn=new WeakMap,Pp=new WeakMap,Np=new WeakMap,vl=new WeakMap,mi=new WeakMap,Yn=new WeakMap,Ue=new WeakMap,qc=new WeakMap,ya=new WeakMap,en=new WeakMap,Xc=new WeakMap,yi=new WeakMap,kp=new WeakMap,et=new WeakSet,KA=function(){const e=new jA(u(this,ma),.001);v(this,mi,e.getOutlines()),[this.x,this.y,this.width,this.height]=u(this,mi).box;const i=new jA(u(this,ma),.0025,.001,this._uiManager.direction==="ltr");v(this,Rn,i.getOutlines());const{lastPoint:s}=u(this,Rn);v(this,qc,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},Lm=function({highlightOutlines:e,highlightId:i,clipPathId:s}){var d,f;if(v(this,mi,e),v(this,Rn,e.getNewOutline(u(this,yi)/2+1.5,.0025)),i>=0)v(this,Yn,i),v(this,yl,s),this.parent.drawLayer.finalizeDraw(i,{bbox:e.box,path:{d:e.toSVGPath()}}),v(this,en,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:u(this,Rn).box,path:{d:u(this,Rn).toSVGPath()}},!0));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(u(this,Yn),{bbox:E(d=gt,Ci,gu).call(d,u(this,mi).box,(p-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(u(this,en),{bbox:E(f=gt,Ci,gu).call(f,u(this,Rn).box,p),path:{d:u(this,Rn).toSVGPath()}})}const[r,o,l,c]=e.box;switch(this.rotation){case 0:this.x=r,this.y=o,this.width=l,this.height=c;break;case 90:{const[p,y]=this.parentDimensions;this.x=o,this.y=1-r,this.width=l*y/p,this.height=c*p/y;break}case 180:this.x=1-r,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[p,y]=this.parentDimensions;this.x=1-o,this.y=r,this.width=l*y/p,this.height=c*p/y;break}}const{lastPoint:h}=u(this,Rn);v(this,qc,[(h[0]-r)/l,(h[1]-o)/c])},v2=function(e){const i=(r,o)=>{var l,c;this.color=r,v(this,ya,o),(l=this.parent)==null||l.drawLayer.updateProperties(u(this,Yn),{root:{fill:r,"fill-opacity":o}}),(c=u(this,Gc))==null||c.updateColor(r)},s=this.color,a=u(this,ya);this.addCommands({cmd:i.bind(this,e,gt._defaultOpacity),undo:i.bind(this,s,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ct.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},b2=function(e){const i=u(this,yi),s=a=>{v(this,yi,a),E(this,et,A2).call(this,a)};this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ct.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},A2=function(e){if(!u(this,Ue))return;E(this,et,Lm).call(this,{highlightOutlines:u(this,mi).getNewOutline(e/2)}),this.fixAndSetPosition();const[i,s]=this.parentDimensions;this.setDims(this.width*i,this.height*s)},WA=function(){u(this,Yn)===null||!this.parent||(this.parent.drawLayer.remove(u(this,Yn)),v(this,Yn,null),this.parent.drawLayer.remove(u(this,en)),v(this,en,null))},wo=function(e=this.parent){u(this,Yn)===null&&({id:hn(this,Yn)._,clipPathId:hn(this,yl)._}=e.drawLayer.draw({bbox:u(this,mi).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":u(this,ya)},rootClass:{highlight:!0,free:u(this,Ue)},path:{d:u(this,mi).toSVGPath()}},!1,!0),v(this,en,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:u(this,Ue)},bbox:u(this,Rn).box,path:{d:u(this,Rn).toSVGPath()}},u(this,Ue))),u(this,vl)&&(u(this,vl).style.clipPath=u(this,yl)))},Ci=new WeakSet,gu=function([e,i,s,a],r){switch(r){case 90:return[1-i-a,e,a,s];case 180:return[1-e-s,1-i-a,s,a];case 270:return[i,1-e-s,a,s]}return[e,i,s,a]},S2=function(e){gt._keyboardManager.exec(this,e)},Om=function(e){if(!u(this,jc))return;const i=window.getSelection();e?i.setPosition(u(this,jc),u(this,Op)):i.setPosition(u(this,Pp),u(this,Np))},cd=function(){return u(this,Ue)?this.rotation:0},w2=function(){if(u(this,Ue))return null;const[e,i]=this.pageDimensions,[s,a]=this.pageTranslation,r=u(this,ma),o=new Float32Array(r.length*8);let l=0;for(const{x:c,y:h,width:d,height:f}of r){const p=c*e+s,y=(1-h)*i+a;o[l]=o[l+4]=p,o[l+1]=o[l+3]=y,o[l+2]=o[l+6]=p+d*e,o[l+5]=o[l+7]=y-f*i,l+=8}return o},E2=function(e){return u(this,mi).serialize(e,E(this,et,cd).call(this))},T2=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},x2=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},_2=function(e){const{color:i}=this._initialData;return e.color.some((s,a)=>s!==i[a])},w(gt,Ci),B(gt,"_defaultColor",null),B(gt,"_defaultOpacity",1),B(gt,"_defaultThickness",12),B(gt,"_type","highlight"),B(gt,"_editorType",W.HIGHLIGHT),B(gt,"_freeHighlightId",-1),B(gt,"_freeHighlight",null),B(gt,"_freeHighlightClipId","");let Cy=gt;var bl;class C2{constructor(){w(this,bl,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){u(this,bl)[t]=e}toSVGProperties(){const t=u(this,bl);return v(this,bl,Object.create(null)),{root:t}}reset(){v(this,bl,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){Ct("Not implemented")}}bl=new WeakMap;var $n,Yc,De,Al,Sl,Dr,Lr,Or,wl,dt,QA,ZA,JA,hd,R2,Pm,dd,mu;const U=class U extends Nt{constructor(e){super(e);w(this,dt);w(this,$n,null);w(this,Yc);B(this,"_drawId",null);v(this,Yc,e.mustBeCommitted||!1),this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(E(this,dt,QA).call(this,e),E(this,dt,hd).call(this))}static _mergeSVGProperties(e,i){const s=new Set(Object.keys(e));for(const[a,r]of Object.entries(i))s.has(a)?Object.assign(e[a],r):e[a]=r;return e}static getDefaultDrawingOptions(e){Ct("Not implemented")}static get typesMap(){Ct("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,i){const s=this.typesMap.get(e);s&&this._defaultDrawingOptions.updateProperty(s,i),this._currentParent&&(u(U,De).updateProperty(s,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,i){const s=this.constructor.typesMap.get(e);s&&this._updateProperty(e,s,i)}static get defaultPropertiesToUpdate(){const e=[],i=this._defaultDrawingOptions;for(const[s,a]of this.typesMap)e.push([s,i[a]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:i}=this;for(const[s,a]of this.constructor.typesMap)e.push([s,i[a]]);return e}_updateProperty(e,i,s){const a=this._drawingOptions,r=a[i],o=l=>{var h;a.updateProperty(i,l);const c=u(this,$n).updateProperty(i,l);c&&E(this,dt,dd).call(this,c),(h=this.parent)==null||h.drawLayer.updateProperties(this._drawId,a.toSVGProperties())};this.addCommands({cmd:o.bind(this,s),undo:o.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,U._mergeSVGProperties(u(this,$n).getPathResizingSVGProperties(E(this,dt,Pm).call(this)),{bbox:E(this,dt,mu).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,U._mergeSVGProperties(u(this,$n).getPathResizedSVGProperties(E(this,dt,Pm).call(this)),{bbox:E(this,dt,mu).call(this)}))}_onTranslating(e,i){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{bbox:E(this,dt,mu).call(this)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,U._mergeSVGProperties(u(this,$n).getPathTranslatedSVGProperties(E(this,dt,Pm).call(this),this.parentDimensions),{bbox:E(this,dt,mu).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,u(this,Yc)&&(v(this,Yc,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){E(this,dt,JA).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(E(this,dt,hd).call(this),E(this,dt,dd).call(this,u(this,$n).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let i=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),E(this,dt,JA).call(this)):e&&(this._uiManager.addShouldRescale(this),E(this,dt,hd).call(this,e),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,U._mergeSVGProperties({bbox:E(this,dt,mu).call(this)},u(this,$n).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&E(this,dt,dd).call(this,u(this,$n).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,i;this._isCopy&&(e=this.x,i=this.y);const s=super.render();s.classList.add("draw");const a=document.createElement("div");s.append(a),a.setAttribute("aria-hidden","true"),a.className="internal";const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,i),s}static createDrawerInstance(e,i,s,a,r){Ct("Not implemented")}static startDrawing(e,i,s,a){var S;const{target:r,offsetX:o,offsetY:l,pointerId:c,pointerType:h}=a;if(u(U,Lr)&&u(U,Lr)!==h)return;const{viewport:{rotation:d}}=e,{width:f,height:p}=r.getBoundingClientRect(),y=v(U,Al,new AbortController),m=e.combinedSignal(y);if(u(U,Dr)||v(U,Dr,c),u(U,Lr)??v(U,Lr,h),window.addEventListener("pointerup",g=>{var b;u(U,Dr)===g.pointerId?this._endDraw(g):(b=u(U,Or))==null||b.delete(g.pointerId)},{signal:m}),window.addEventListener("pointercancel",g=>{var b;u(U,Dr)===g.pointerId?this._currentParent.endDrawingSession():(b=u(U,Or))==null||b.delete(g.pointerId)},{signal:m}),window.addEventListener("pointerdown",g=>{u(U,Lr)===g.pointerType&&((u(U,Or)||v(U,Or,new Set)).add(g.pointerId),u(U,De).isCancellable()&&(u(U,De).removeLastElement(),u(U,De).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Pi,{signal:m}),r.addEventListener("pointermove",this._drawMove.bind(this),{signal:m}),r.addEventListener("touchmove",g=>{g.timeStamp===u(U,wl)&&ce(g)},{signal:m}),e.toggleDrawing(),(S=i._editorUndoBar)==null||S.hide(),u(U,De)){e.drawLayer.updateProperties(this._currentDrawId,u(U,De).startNew(o,l,f,p,d));return}i.updateUIForDefaultProperties(this),v(U,De,this.createDrawerInstance(o,l,f,p,d)),v(U,Sl,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(u(U,Sl).toSVGProperties(),u(U,De).defaultSVGProperties),!0,!1)}static _drawMove(e){var r;if(v(U,wl,-1),!u(U,De))return;const{offsetX:i,offsetY:s,pointerId:a}=e;if(u(U,Dr)===a){if(((r=u(U,Or))==null?void 0:r.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,u(U,De).add(i,s)),v(U,wl,e.timeStamp),ce(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,v(U,De,null),v(U,Sl,null),v(U,Lr,null),v(U,wl,NaN)),u(U,Al)&&(u(U,Al).abort(),v(U,Al,null),v(U,Dr,NaN),v(U,Or,null))}static _endDraw(e){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(e==null?void 0:e.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,u(U,De).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const s=u(U,De),a=this._currentDrawId,r=s.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(a,s.setLastElement(r))},undo:()=>{i.drawLayer.updateProperties(a,s.removeLastElement())},mustExec:!1,type:ct.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(ct.DRAW_STEP),!u(U,De).isEmpty()){const{pageDimensions:[s,a],scale:r}=i,o=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:u(U,De).getOutlines(s*r,a*r,r,this._INNER_MARGIN),drawingOptions:u(U,Sl),mustBeCommitted:!e});return this._cleanup(!0),o}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,i,s,a,r,o){Ct("Not implemented")}static async deserialize(e,i,s){var d,f;const{rawDims:{pageWidth:a,pageHeight:r,pageX:o,pageY:l}}=i.viewport,c=this.deserializeDraw(o,l,a,r,this._INNER_MARGIN,e),h=await super.deserialize(e,i,s);return h.createDrawingOptions(e),E(d=h,dt,QA).call(d,{drawOutlines:c}),E(f=h,dt,hd).call(f),h.onScaleChanging(),h.rotate(),h}serializeDraw(e){const[i,s]=this.pageTranslation,[a,r]=this.pageDimensions;return u(this,$n).serialize([i,s,a,r],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};$n=new WeakMap,Yc=new WeakMap,De=new WeakMap,Al=new WeakMap,Sl=new WeakMap,Dr=new WeakMap,Lr=new WeakMap,Or=new WeakMap,wl=new WeakMap,dt=new WeakSet,QA=function({drawOutlines:e,drawId:i,drawingOptions:s}){v(this,$n,e),this._drawingOptions||(this._drawingOptions=s),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,e.defaultProperties)):this._drawId=E(this,dt,ZA).call(this,e,this.parent),E(this,dt,dd).call(this,e.box)},ZA=function(e,i){const{id:s}=i.drawLayer.draw(U._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return s},JA=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},hd=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=E(this,dt,ZA).call(this,u(this,$n),e)}},R2=function([e,i,s,a]){const{parentDimensions:[r,o],rotation:l}=this;switch(l){case 90:return[i,1-e,s*(o/r),a*(r/o)];case 180:return[1-e,1-i,s,a];case 270:return[1-i,e,s*(o/r),a*(r/o)];default:return[e,i,s,a]}},Pm=function(){const{x:e,y:i,width:s,height:a,parentDimensions:[r,o],rotation:l}=this;switch(l){case 90:return[1-i,e,s*(r/o),a*(o/r)];case 180:return[1-e,1-i,s,a];case 270:return[i,1-e,s*(r/o),a*(o/r)];default:return[e,i,s,a]}},dd=function(e){if([this.x,this.y,this.width,this.height]=E(this,dt,R2).call(this,e),this.div){this.fixAndSetPosition();const[i,s]=this.parentDimensions;this.setDims(this.width*i,this.height*s)}this._onResized()},mu=function(){const{x:e,y:i,width:s,height:a,rotation:r,parentRotation:o,parentDimensions:[l,c]}=this;switch((r*4+o)/90){case 1:return[1-i-a,e,a,s];case 2:return[1-e-s,1-i-a,s,a];case 3:return[i,1-e-s,a,s];case 4:return[e,i-s*(l/c),a*(c/l),s*(l/c)];case 5:return[1-i,e,s*(l/c),a*(c/l)];case 6:return[1-e-a*(c/l),1-i,a*(c/l),s*(l/c)];case 7:return[i-s*(l/c),1-e-a*(c/l),s*(l/c),a*(c/l)];case 8:return[e-s,i-a,s,a];case 9:return[1-i,e-s,a,s];case 10:return[1-e,1-i,s,a];case 11:return[i-a,1-e,a,s];case 12:return[e-a*(c/l),i,a*(c/l),s*(l/c)];case 13:return[1-i-s*(l/c),e-a*(c/l),s*(l/c),a*(c/l)];case 14:return[1-e,1-i-s*(l/c),a*(c/l),s*(l/c)];case 15:return[i,1-e,s*(l/c),a*(c/l)];default:return[e,i,s,a]}},B(U,"_currentDrawId",-1),B(U,"_currentParent",null),w(U,De,null),w(U,Al,null),w(U,Sl,null),w(U,Dr,NaN),w(U,Lr,null),w(U,Or,null),w(U,wl,NaN),B(U,"_INNER_MARGIN",3);let Ry=U;var bs,Le,Oe,El,$c,pn,je,vi,Tl,xl,_l,Kc,Nm;class tU{constructor(t,e,i,s,a,r){w(this,Kc);w(this,bs,new Float64Array(6));w(this,Le);w(this,Oe);w(this,El);w(this,$c);w(this,pn);w(this,je,"");w(this,vi,0);w(this,Tl,new gg);w(this,xl);w(this,_l);v(this,xl,i),v(this,_l,s),v(this,El,a),v(this,$c,r),[t,e]=E(this,Kc,Nm).call(this,t,e);const o=v(this,Le,[NaN,NaN,NaN,NaN,t,e]);v(this,pn,[t,e]),v(this,Oe,[{line:o,points:u(this,pn)}]),u(this,bs).set(o,0)}updateProperty(t,e){t==="stroke-width"&&v(this,$c,e)}isEmpty(){return!u(this,Oe)||u(this,Oe).length===0}isCancellable(){return u(this,pn).length<=10}add(t,e){[t,e]=E(this,Kc,Nm).call(this,t,e);const[i,s,a,r]=u(this,bs).subarray(2,6),o=t-a,l=e-r;return Math.hypot(u(this,xl)*o,u(this,_l)*l)<=2?null:(u(this,pn).push(t,e),isNaN(i)?(u(this,bs).set([a,r,t,e],2),u(this,Le).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(u(this,bs)[0])&&u(this,Le).splice(6,6),u(this,bs).set([i,s,a,r,t,e],0),u(this,Le).push(...H.createBezierPoints(i,s,a,r,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(u(this,pn).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,s,a){v(this,xl,i),v(this,_l,s),v(this,El,a),[t,e]=E(this,Kc,Nm).call(this,t,e);const r=v(this,Le,[NaN,NaN,NaN,NaN,t,e]);v(this,pn,[t,e]);const o=u(this,Oe).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),u(this,Oe).push({line:r,points:u(this,pn)}),u(this,bs).set(r,0),v(this,vi,0),this.toSVGPath(),null}getLastElement(){return u(this,Oe).at(-1)}setLastElement(t){return u(this,Oe)?(u(this,Oe).push(t),v(this,Le,t.line),v(this,pn,t.points),v(this,vi,0),{path:{d:this.toSVGPath()}}):u(this,Tl).setLastElement(t)}removeLastElement(){if(!u(this,Oe))return u(this,Tl).removeLastElement();u(this,Oe).pop(),v(this,je,"");for(let t=0,e=u(this,Oe).length;t<e;t++){const{line:i,points:s}=u(this,Oe)[t];v(this,Le,i),v(this,pn,s),v(this,vi,0),this.toSVGPath()}return{path:{d:u(this,je)}}}toSVGPath(){const t=H.svgRound(u(this,Le)[4]),e=H.svgRound(u(this,Le)[5]);if(u(this,pn).length===2)return v(this,je,`${u(this,je)} M ${t} ${e} Z`),u(this,je);if(u(this,pn).length<=6){const s=u(this,je).lastIndexOf("M");v(this,je,`${u(this,je).slice(0,s)} M ${t} ${e}`),v(this,vi,6)}if(u(this,pn).length===4){const s=H.svgRound(u(this,Le)[10]),a=H.svgRound(u(this,Le)[11]);return v(this,je,`${u(this,je)} L ${s} ${a}`),v(this,vi,12),u(this,je)}const i=[];u(this,vi)===0&&(i.push(`M ${t} ${e}`),v(this,vi,6));for(let s=u(this,vi),a=u(this,Le).length;s<a;s+=6){const[r,o,l,c,h,d]=u(this,Le).slice(s,s+6).map(H.svgRound);i.push(`C${r} ${o} ${l} ${c} ${h} ${d}`)}return v(this,je,u(this,je)+i.join(" ")),v(this,vi,u(this,Le).length),u(this,je)}getOutlines(t,e,i,s){const a=u(this,Oe).at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),u(this,Tl).build(u(this,Oe),t,e,i,u(this,El),u(this,$c),s),v(this,bs,null),v(this,Le,null),v(this,Oe,null),v(this,je,null),u(this,Tl)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}bs=new WeakMap,Le=new WeakMap,Oe=new WeakMap,El=new WeakMap,$c=new WeakMap,pn=new WeakMap,je=new WeakMap,vi=new WeakMap,Tl=new WeakMap,xl=new WeakMap,_l=new WeakMap,Kc=new WeakSet,Nm=function(t,e){return H._normalizePoint(t,e,u(this,xl),u(this,_l),u(this,El))};var gn,Bp,Ip,Kn,As,Ss,Wc,Qc,Cl,Ye,qs,M2,D2,L2;class gg extends H{constructor(){super(...arguments);w(this,Ye);w(this,gn);w(this,Bp,0);w(this,Ip);w(this,Kn);w(this,As);w(this,Ss);w(this,Wc);w(this,Qc);w(this,Cl)}build(e,i,s,a,r,o,l){v(this,As,i),v(this,Ss,s),v(this,Wc,a),v(this,Qc,r),v(this,Cl,o),v(this,Ip,l??0),v(this,Kn,e),E(this,Ye,D2).call(this)}get thickness(){return u(this,Cl)}setLastElement(e){return u(this,Kn).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return u(this,Kn).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:i}of u(this,Kn)){if(e.push(`M${H.svgRound(i[4])} ${H.svgRound(i[5])}`),i.length===6){e.push("Z");continue}if(i.length===12&&isNaN(i[6])){e.push(`L${H.svgRound(i[10])} ${H.svgRound(i[11])}`);continue}for(let s=6,a=i.length;s<a;s+=6){const[r,o,l,c,h,d]=i.subarray(s,s+6).map(H.svgRound);e.push(`C${r} ${o} ${l} ${c} ${h} ${d}`)}}return e.join("")}serialize([e,i,s,a],r){const o=[],l=[],[c,h,d,f]=E(this,Ye,M2).call(this);let p,y,m,S,g,b,A,T,x;switch(u(this,Qc)){case 0:x=H._rescale,p=e,y=i+a,m=s,S=-a,g=e+c*s,b=i+(1-h-f)*a,A=e+(c+d)*s,T=i+(1-h)*a;break;case 90:x=H._rescaleAndSwap,p=e,y=i,m=s,S=a,g=e+h*s,b=i+c*a,A=e+(h+f)*s,T=i+(c+d)*a;break;case 180:x=H._rescale,p=e+s,y=i,m=-s,S=a,g=e+(1-c-d)*s,b=i+h*a,A=e+(1-c)*s,T=i+(h+f)*a;break;case 270:x=H._rescaleAndSwap,p=e+s,y=i+a,m=-s,S=-a,g=e+(1-h-f)*s,b=i+(1-c-d)*a,A=e+(1-h)*s,T=i+(1-c)*a;break}for(const{line:C,points:_}of u(this,Kn))o.push(x(C,p,y,m,S,r?new Array(C.length):null)),l.push(x(_,p,y,m,S,r?new Array(_.length):null));return{lines:o,points:l,rect:[g,b,A,T]}}static deserialize(e,i,s,a,r,{paths:{lines:o,points:l},rotation:c,thickness:h}){const d=[];let f,p,y,m,S;switch(c){case 0:S=H._rescale,f=-e/s,p=i/a+1,y=1/s,m=-1/a;break;case 90:S=H._rescaleAndSwap,f=-i/a,p=-e/s,y=1/a,m=1/s;break;case 180:S=H._rescale,f=e/s+1,p=-i/a,y=-1/s,m=1/a;break;case 270:S=H._rescaleAndSwap,f=i/a+1,p=e/s+1,y=-1/a,m=-1/s;break}if(!o){o=[];for(const b of l){const A=b.length;if(A===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,b[0],b[1]]));continue}if(A===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,b[0],b[1],NaN,NaN,NaN,NaN,b[2],b[3]]));continue}const T=new Float32Array(3*(A-2));o.push(T);let[x,C,_,M]=b.subarray(0,4);T.set([NaN,NaN,NaN,NaN,x,C],0);for(let L=4;L<A;L+=2){const O=b[L],N=b[L+1];T.set(H.createBezierPoints(x,C,_,M,O,N),(L-2)*3),[x,C,_,M]=[_,M,O,N]}}}for(let b=0,A=o.length;b<A;b++)d.push({line:S(o[b].map(T=>T??NaN),f,p,y,m),points:S(l[b].map(T=>T??NaN),f,p,y,m)});const g=new this.prototype.constructor;return g.build(d,s,a,1,c,h,r),g}get box(){return u(this,gn)}updateProperty(e,i){return e==="stroke-width"?E(this,Ye,L2).call(this,i):null}updateParentDimensions([e,i],s){const[a,r]=E(this,Ye,qs).call(this);v(this,As,e),v(this,Ss,i),v(this,Wc,s);const[o,l]=E(this,Ye,qs).call(this),c=o-a,h=l-r,d=u(this,gn);return d[0]-=c,d[1]-=h,d[2]+=2*c,d[3]+=2*h,d}updateRotation(e){return v(this,Bp,e),{path:{transform:this.rotationTransform}}}get viewBox(){return u(this,gn).map(H.svgRound).join(" ")}get defaultProperties(){const[e,i]=u(this,gn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${H.svgRound(e)} ${H.svgRound(i)}`}}}get rotationTransform(){const[,,e,i]=u(this,gn);let s=0,a=0,r=0,o=0,l=0,c=0;switch(u(this,Bp)){case 90:a=i/e,r=-e/i,l=e;break;case 180:s=-1,o=-1,l=e,c=i;break;case 270:a=-i/e,r=e/i,c=i;break;default:return""}return`matrix(${s} ${a} ${r} ${o} ${H.svgRound(l)} ${H.svgRound(c)})`}getPathResizingSVGProperties([e,i,s,a]){const[r,o]=E(this,Ye,qs).call(this),[l,c,h,d]=u(this,gn);if(Math.abs(h-r)<=H.PRECISION||Math.abs(d-o)<=H.PRECISION){const S=e+s/2-(l+h/2),g=i+a/2-(c+d/2);return{path:{"transform-origin":`${H.svgRound(e)} ${H.svgRound(i)}`,transform:`${this.rotationTransform} translate(${S} ${g})`}}}const f=(s-2*r)/(h-2*r),p=(a-2*o)/(d-2*o),y=h/s,m=d/a;return{path:{"transform-origin":`${H.svgRound(l)} ${H.svgRound(c)}`,transform:`${this.rotationTransform} scale(${y} ${m}) translate(${H.svgRound(r)} ${H.svgRound(o)}) scale(${f} ${p}) translate(${H.svgRound(-r)} ${H.svgRound(-o)})`}}}getPathResizedSVGProperties([e,i,s,a]){const[r,o]=E(this,Ye,qs).call(this),l=u(this,gn),[c,h,d,f]=l;if(l[0]=e,l[1]=i,l[2]=s,l[3]=a,Math.abs(d-r)<=H.PRECISION||Math.abs(f-o)<=H.PRECISION){const g=e+s/2-(c+d/2),b=i+a/2-(h+f/2);for(const{line:A,points:T}of u(this,Kn))H._translate(A,g,b,A),H._translate(T,g,b,T);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${H.svgRound(e)} ${H.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(s-2*r)/(d-2*r),y=(a-2*o)/(f-2*o),m=-p*(c+r)+e+r,S=-y*(h+o)+i+o;if(p!==1||y!==1||m!==0||S!==0)for(const{line:g,points:b}of u(this,Kn))H._rescale(g,m,S,p,y,g),H._rescale(b,m,S,p,y,b);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${H.svgRound(e)} ${H.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,i],s){const[a,r]=s,o=u(this,gn),l=e-o[0],c=i-o[1];if(u(this,As)===a&&u(this,Ss)===r)for(const{line:h,points:d}of u(this,Kn))H._translate(h,l,c,h),H._translate(d,l,c,d);else{const h=u(this,As)/a,d=u(this,Ss)/r;v(this,As,a),v(this,Ss,r);for(const{line:f,points:p}of u(this,Kn))H._rescale(f,l,c,h,d,f),H._rescale(p,l,c,h,d,p);o[2]*=h,o[3]*=d}return o[0]=e,o[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${H.svgRound(e)} ${H.svgRound(i)}`}}}get defaultSVGProperties(){const e=u(this,gn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${H.svgRound(e[0])} ${H.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}gn=new WeakMap,Bp=new WeakMap,Ip=new WeakMap,Kn=new WeakMap,As=new WeakMap,Ss=new WeakMap,Wc=new WeakMap,Qc=new WeakMap,Cl=new WeakMap,Ye=new WeakSet,qs=function(e=u(this,Cl)){const i=u(this,Ip)+e/2*u(this,Wc);return u(this,Qc)%180===0?[i/u(this,As),i/u(this,Ss)]:[i/u(this,Ss),i/u(this,As)]},M2=function(){const[e,i,s,a]=u(this,gn),[r,o]=E(this,Ye,qs).call(this,0);return[e+r,i+o,s-2*r,a-2*o]},D2=function(){const e=v(this,gn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:a}of u(this,Kn)){if(a.length<=12){for(let l=4,c=a.length;l<c;l+=6)G.pointBoundingBox(a[l],a[l+1],e);continue}let r=a[4],o=a[5];for(let l=6,c=a.length;l<c;l+=6){const[h,d,f,p,y,m]=a.subarray(l,l+6);G.bezierBoundingBox(r,o,h,d,f,p,y,m,e),r=y,o=m}}const[i,s]=E(this,Ye,qs).call(this);e[0]=sn(e[0]-i,0,1),e[1]=sn(e[1]-s,0,1),e[2]=sn(e[2]+i,0,1),e[3]=sn(e[3]+s,0,1),e[2]-=e[0],e[3]-=e[1]},L2=function(e){const[i,s]=E(this,Ye,qs).call(this);v(this,Cl,e);const[a,r]=E(this,Ye,qs).call(this),[o,l]=[a-i,r-s],c=u(this,gn);return c[0]-=o,c[1]-=l,c[2]+=2*o,c[3]+=2*l,c};class _v extends C2{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Nt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new _v(this._viewParameters);return t.updateAll(this),t}}var $y,O2;const Iu=class Iu extends Ry{constructor(e){super({...e,name:"inkEditor"});w(this,$y);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,i){Nt.initialize(e,i),this._defaultDrawingOptions=new _v(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return ut(this,"typesMap",new Map([[ct.INK_THICKNESS,"stroke-width"],[ct.INK_COLOR,"stroke"],[ct.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,i,s,a,r){return new tU(e,i,s,a,r,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,i,s,a,r,o){return gg.deserialize(e,i,s,a,r,o)}static async deserialize(e,i,s){let a=null;if(e instanceof uE){const{data:{inkLists:o,rect:l,rotation:c,id:h,color:d,opacity:f,borderStyle:{rawWidth:p},popupRef:y},parent:{page:{pageNumber:m}}}=e;a=e={annotationType:W.INK,color:Array.from(d),thickness:p,opacity:f,paths:{points:o},boxes:null,pageIndex:m-1,rect:l.slice(0),rotation:c,id:h,deleted:!1,popupRef:y}}const r=await super.deserialize(e,i,s);return r.annotationElementId=e.id||null,r._initialData=a,r}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:i,parent:s}=this;i.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(e,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:i,opacity:s}){this._drawingOptions=Iu.getDefaultDrawingOptions({stroke:G.makeHexColor(...e),"stroke-width":i,"stroke-opacity":s})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:s,rect:a}=this.serializeDraw(e),{_drawingOptions:{stroke:r,"stroke-opacity":o,"stroke-width":l}}=this,c={annotationType:W.INK,color:Nt._colorManager.convert(r),opacity:o,thickness:l,paths:{lines:i,points:s},pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(c.isCopy=!0,c):this.annotationElementId&&!E(this,$y,O2).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(e){const{points:i,rect:s}=this.serializeDraw(!1);return e.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:i}),null}};$y=new WeakSet,O2=function(e){const{color:i,thickness:s,opacity:a,pageIndex:r}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((o,l)=>o!==i[l])||e.thickness!==s||e.opacity!==a||e.pageIndex!==r},B(Iu,"_type","ink"),B(Iu,"_editorType",W.INK),B(Iu,"_defaultDrawingOptions",null);let tS=Iu;class eS extends gg{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const qg=8,jh=3;var Rl,vt,nS,Xi,P2,N2,iS,km,k2,B2,I2,sS,aS,F2;class _s{static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:s},a,r,o,l){let c=new OffscreenCanvas(1,1),h=c.getContext("2d",{alpha:!1});const d=200,f=h.font=`${i} ${s} ${d}px ${e}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:y,actualBoundingBoxAscent:m,actualBoundingBoxDescent:S,fontBoundingBoxAscent:g,fontBoundingBoxDescent:b,width:A}=h.measureText(t),T=1.5,x=Math.ceil(Math.max(Math.abs(p)+Math.abs(y)||0,A)*T),C=Math.ceil(Math.max(Math.abs(m)+Math.abs(S)||d,Math.abs(g)+Math.abs(b)||d)*T);c=new OffscreenCanvas(x,C),h=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=f,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,x,C),h.fillStyle="black",h.fillText(t,x*(T-1)/2,C*(3-T)/2);const _=E(this,vt,sS).call(this,h.getImageData(0,0,x,C).data),M=E(this,vt,I2).call(this,_),L=E(this,vt,aS).call(this,M),O=E(this,vt,iS).call(this,_,x,C,L);return this.processDrawnLines({lines:{curves:O,width:x,height:C},pageWidth:a,pageHeight:r,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(t,e,i,s,a){const[r,o,l]=E(this,vt,F2).call(this,t),[c,h]=E(this,vt,B2).call(this,r,o,l,Math.hypot(o,l)*u(this,Rl).sigmaSFactor,u(this,Rl).sigmaR,u(this,Rl).kernelSize),d=E(this,vt,aS).call(this,h),f=E(this,vt,iS).call(this,c,o,l,d);return this.processDrawnLines({lines:{curves:f,width:o,height:l},pageWidth:e,pageHeight:i,rotation:s,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:s,innerMargin:a,mustSmooth:r,areContours:o}){s%180!==0&&([e,i]=[i,e]);const{curves:l,width:c,height:h}=t,d=t.thickness??0,f=[],p=Math.min(e/c,i/h),y=p/e,m=p/i,S=[];for(const{points:b}of l){const A=r?E(this,vt,k2).call(this,b):b;if(!A)continue;S.push(A);const T=A.length,x=new Float32Array(T),C=new Float32Array(3*(T===2?2:T-2));if(f.push({line:C,points:x}),T===2){x[0]=A[0]*y,x[1]=A[1]*m,C.set([NaN,NaN,NaN,NaN,x[0],x[1]],0);continue}let[_,M,L,O]=A;_*=y,M*=m,L*=y,O*=m,x.set([_,M,L,O],0),C.set([NaN,NaN,NaN,NaN,_,M],0);for(let N=4;N<T;N+=2){const X=x[N]=A[N]*y,J=x[N+1]=A[N+1]*m;C.set(H.createBezierPoints(_,M,L,O,X,J),(N-2)*3),[_,M,L,O]=[L,O,X,J]}}if(f.length===0)return null;const g=o?new eS:new gg;return g.build(f,e,i,1,s,o?0:d,a),{outline:g,newCurves:S,areContours:o,thickness:d,width:c,height:h}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:s,height:a}){let r=1/0,o=-1/0,l=0;for(const A of t){l+=A.length;for(let T=2,x=A.length;T<x;T++){const C=A[T]-A[T-2];r=Math.min(r,C),o=Math.max(o,C)}}let c;r>=-128&&o<=127?c=Int8Array:r>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const h=t.length,d=qg+jh*h,f=new Uint32Array(d);let p=0;f[p++]=d*Uint32Array.BYTES_PER_ELEMENT+(l-2*h)*c.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=s,f[p++]=a,f[p++]=e?0:1,f[p++]=Math.max(0,Math.floor(i??0)),f[p++]=h,f[p++]=c.BYTES_PER_ELEMENT;for(const A of t)f[p++]=A.length-2,f[p++]=A[0],f[p++]=A[1];const y=new CompressionStream("deflate-raw"),m=y.writable.getWriter();await m.ready,m.write(f);const S=c.prototype.constructor;for(const A of t){const T=new S(A.length-2);for(let x=2,C=A.length;x<C;x++)T[x-2]=A[x]-A[x-2];m.write(T)}m.close();const g=await new Response(y.readable).arrayBuffer(),b=new Uint8Array(g);return ND(b)}static async decompressSignature(t){try{const e=Dz(t),{readable:i,writable:s}=new DecompressionStream("deflate-raw"),a=s.getWriter();await a.ready,a.write(e).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let r=null,o=0;for await(const A of i)r||(r=new Uint8Array(new Uint32Array(A.buffer,0,4)[0])),r.set(A,o),o+=A.length;const l=new Uint32Array(r.buffer,0,r.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const h=l[2],d=l[3],f=l[4]===0,p=l[5],y=l[6],m=l[7],S=[],g=(qg+jh*y)*Uint32Array.BYTES_PER_ELEMENT;let b;switch(m){case Int8Array.BYTES_PER_ELEMENT:b=new Int8Array(r.buffer,g);break;case Int16Array.BYTES_PER_ELEMENT:b=new Int16Array(r.buffer,g);break;case Int32Array.BYTES_PER_ELEMENT:b=new Int32Array(r.buffer,g);break}o=0;for(let A=0;A<y;A++){const T=l[jh*A+qg],x=new Float32Array(T+2);S.push(x);for(let C=0;C<jh-1;C++)x[C]=l[jh*A+qg+C+1];for(let C=0;C<T;C++)x[C+2]=x[C]+b[o++]}return{areContours:f,thickness:p,outlines:S,width:h,height:d}}catch(e){return Z(`decompressSignature: ${e}`),null}}}Rl=new WeakMap,vt=new WeakSet,nS=function(t,e,i,s){return i-=t,s-=e,i===0?s>0?0:4:i===1?s+6:2-s},Xi=new WeakMap,P2=function(t,e,i,s,a,r,o){const l=E(this,vt,nS).call(this,i,s,a,r);for(let c=0;c<8;c++){const h=(-c+l-o+16)%8,d=u(this,Xi)[2*h],f=u(this,Xi)[2*h+1];if(t[(i+d)*e+(s+f)]!==0)return h}return-1},N2=function(t,e,i,s,a,r,o){const l=E(this,vt,nS).call(this,i,s,a,r);for(let c=0;c<8;c++){const h=(c+l+o+16)%8,d=u(this,Xi)[2*h],f=u(this,Xi)[2*h+1];if(t[(i+d)*e+(s+f)]!==0)return h}return-1},iS=function(t,e,i,s){const a=t.length,r=new Int32Array(a);for(let h=0;h<a;h++)r[h]=t[h]<=s?1:0;for(let h=1;h<i-1;h++)r[h*e]=r[h*e+e-1]=0;for(let h=0;h<e;h++)r[h]=r[e*i-1-h]=0;let o=1,l;const c=[];for(let h=1;h<i-1;h++){l=1;for(let d=1;d<e-1;d++){const f=h*e+d,p=r[f];if(p===0)continue;let y=h,m=d;if(p===1&&r[f-1]===0)o+=1,m-=1;else if(p>=1&&r[f+1]===0)o+=1,m+=1,p>1&&(l=p);else{p!==1&&(l=Math.abs(p));continue}const S=[d,h],g=m===d+1,b={isHole:g,points:S,id:o,parent:0};c.push(b);let A;for(const N of c)if(N.id===l){A=N;break}A?A.isHole?b.parent=g?A.parent:l:b.parent=g?l:A.parent:b.parent=g?l:0;const T=E(this,vt,P2).call(this,r,e,h,d,y,m,0);if(T===-1){r[f]=-o,r[f]!==1&&(l=Math.abs(r[f]));continue}let x=u(this,Xi)[2*T],C=u(this,Xi)[2*T+1];const _=h+x,M=d+C;y=_,m=M;let L=h,O=d;for(;;){const N=E(this,vt,N2).call(this,r,e,L,O,y,m,1);x=u(this,Xi)[2*N],C=u(this,Xi)[2*N+1];const X=L+x,J=O+C;S.push(J,X);const q=L*e+O;if(r[q+1]===0?r[q]=-o:r[q]===1&&(r[q]=o),X===h&&J===d&&L===_&&O===M){r[f]!==1&&(l=Math.abs(r[f]));break}else y=L,m=O,L=X,O=J}}}return c},km=function(t,e,i,s){if(i-e<=4){for(let _=e;_<i-2;_+=2)s.push(t[_],t[_+1]);return}const a=t[e],r=t[e+1],o=t[i-4]-a,l=t[i-3]-r,c=Math.hypot(o,l),h=o/c,d=l/c,f=h*r-d*a,p=l/o,y=1/c,m=Math.atan(p),S=Math.cos(m),g=Math.sin(m),b=y*(Math.abs(S)+Math.abs(g)),A=y*(1-b+b**2),T=Math.max(Math.atan(Math.abs(g+S)*A),Math.atan(Math.abs(g-S)*A));let x=0,C=e;for(let _=e+2;_<i-2;_+=2){const M=Math.abs(f-h*t[_+1]+d*t[_]);M>x&&(C=_,x=M)}x>(c*T)**2?(E(this,vt,km).call(this,t,e,C+2,s),E(this,vt,km).call(this,t,C,i,s)):s.push(a,r)},k2=function(t){const e=[],i=t.length;return E(this,vt,km).call(this,t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e},B2=function(t,e,i,s,a,r){const o=new Float32Array(r**2),l=-2*s**2,c=r>>1;for(let m=0;m<r;m++){const S=(m-c)**2;for(let g=0;g<r;g++)o[m*r+g]=Math.exp((S+(g-c)**2)/l)}const h=new Float32Array(256),d=-2*a**2;for(let m=0;m<256;m++)h[m]=Math.exp(m**2/d);const f=t.length,p=new Uint8Array(f),y=new Uint32Array(256);for(let m=0;m<i;m++)for(let S=0;S<e;S++){const g=m*e+S,b=t[g];let A=0,T=0;for(let C=0;C<r;C++){const _=m+C-c;if(!(_<0||_>=i))for(let M=0;M<r;M++){const L=S+M-c;if(L<0||L>=e)continue;const O=t[_*e+L],N=o[C*r+M]*h[Math.abs(O-b)];A+=O*N,T+=N}}const x=p[g]=Math.round(A/T);y[x]++}return[p,y]},I2=function(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e},sS=function(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let s=-1/0,a=1/0;for(let o=0,l=i.length;o<l;o++){if(t[(o<<2)+3]===0){s=i[o]=255;continue}const h=i[o]=t[o<<2];h>s&&(s=h),h<a&&(a=h)}const r=255/(s-a);for(let o=0;o<e;o++)i[o]=(i[o]-a)*r;return i},aS=function(t){let e,i=-1/0,s=-1/0;const a=t.findIndex(l=>l!==0);let r=a,o=a;for(e=a;e<256;e++){const l=t[e];l>i&&(e-r>s&&(s=e-r,o=e-1),i=l,r=e)}for(e=o-1;e>=0&&!(t[e]>t[e+1]);e--);return e},F2=function(t){const e=t,{width:i,height:s}=t,{maxDim:a}=u(this,Rl);let r=i,o=s;if(i>a||s>a){let f=i,p=s,y=Math.log2(Math.max(i,s)/a);const m=Math.floor(y);y=y===m?m-1:m;for(let g=0;g<y;g++){r=Math.ceil(f/2),o=Math.ceil(p/2);const b=new OffscreenCanvas(r,o);b.getContext("2d").drawImage(t,0,0,f,p,0,0,r,o),f=r,p=o,t!==e&&t.close(),t=b.transferToImageBitmap()}const S=Math.min(a/r,a/o);r=Math.round(r*S),o=Math.round(o*S)}const c=new OffscreenCanvas(r,o).getContext("2d",{willReadFrequently:!0});c.filter="grayscale(1)",c.drawImage(t,0,0,t.width,t.height,0,0,r,o);const h=c.getImageData(0,0,r,o).data;return[E(this,vt,sS).call(this,h),r,o]},w(_s,vt),w(_s,Rl,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),w(_s,Xi,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class hE extends C2{constructor(){super(),super.updateProperties({fill:Nt._defaultLineColor,"stroke-width":0})}clone(){const t=new hE;return t.updateAll(this),t}}class dE extends _v{constructor(t){super(t),super.updateProperties({stroke:Nt._defaultLineColor,"stroke-width":1})}clone(){const t=new dE(this._viewParameters);return t.updateAll(this),t}}var Pr,Wn,Nr,kr;const Fn=class Fn extends Ry{constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"});w(this,Pr,!1);w(this,Wn,null);w(this,Nr,null);w(this,kr,null);this._willKeepAspectRatio=!0,v(this,Nr,e.signatureData||null),v(this,Wn,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,i){Nt.initialize(e,i),this._defaultDrawingOptions=new hE,this._defaultDrawnSignatureOptions=new dE(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return ut(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!u(this,Wn)}}static computeTelemetryFinalData(e){const i=e.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,i;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,e=this.x,i=this.y),super.render(),this._drawId===null)if(u(this,Nr)){const{lines:a,mustSmooth:r,areContours:o,description:l,uuid:c,heightInPage:h}=u(this,Nr),{rawDims:{pageWidth:d,pageHeight:f},rotation:p}=this.parent.viewport,y=_s.processDrawnLines({lines:a,pageWidth:d,pageHeight:f,rotation:p,innerMargin:Fn._INNER_MARGIN,mustSmooth:r,areContours:o});this.addSignature(y,h,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return s&&(this._isCopy=!0,this._moveAfterPaste(e,i)),this.div}setUuid(e){v(this,kr,e),this.addEditToolbar()}getUuid(){return u(this,kr)}get description(){return u(this,Wn)}set description(e){v(this,Wn,e),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(e)})}getSignaturePreview(){const{newCurves:e,areContours:i,thickness:s,width:a,height:r}=u(this,Nr),o=Math.max(a,r),l=_s.processDrawnLines({lines:{curves:e.map(c=>({points:c})),thickness:s,width:a,height:r},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:l.outline}}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.signatureManager&&u(this,Wn)!==null&&(await e.addEditSignatureButton(this._uiManager.signatureManager,u(this,kr),u(this,Wn)),e.show()),e):null}addSignature(e,i,s,a){const{x:r,y:o}=this,{outline:l}=v(this,Nr,e);v(this,Pr,l instanceof eS),v(this,Wn,s),this.div.setAttribute("data-l10n-args",JSON.stringify({description:s}));let c;u(this,Pr)?c=Fn.getDefaultDrawingOptions():(c=Fn._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[h,d]=this.parentDimensions,[,f]=this.pageDimensions;let p=i/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(h*this.width,d*this.height),this.x=r,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return _s.process(e,i,s,a,Fn._INNER_MARGIN)}getFromText(e,i){const{rawDims:{pageWidth:s,pageHeight:a},rotation:r}=this.parent.viewport;return _s.extractContoursFromText(e,i,s,a,r,Fn._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return _s.processDrawnLines({lines:e,pageWidth:i,pageHeight:s,rotation:a,innerMargin:Fn._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:i}){e?this._drawingOptions=Fn.getDefaultDrawingOptions():(this._drawingOptions=Fn._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:i,points:s,rect:a}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":r}}=this,o={annotationType:W.SIGNATURE,isSignature:!0,areContours:u(this,Pr),color:[0,0,0],thickness:u(this,Pr)?0:r,pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(o.paths={lines:i,points:s},o.uuid=u(this,kr),o.isCopy=!0):o.lines=i,u(this,Wn)&&(o.accessibilityData={type:"Figure",alt:u(this,Wn)}),o}static deserializeDraw(e,i,s,a,r,o){return o.areContours?eS.deserialize(e,i,s,a,r,o):gg.deserialize(e,i,s,a,r,o)}static async deserialize(e,i,s){var r;const a=await super.deserialize(e,i,s);return v(a,Pr,e.areContours),v(a,Wn,((r=e.accessibilityData)==null?void 0:r.alt)||""),v(a,kr,e.uuid),a}};Pr=new WeakMap,Wn=new WeakMap,Nr=new WeakMap,kr=new WeakMap,B(Fn,"_type","signature"),B(Fn,"_editorType",W.SIGNATURE),B(Fn,"_defaultDrawingOptions",null);let rS=Fn;var zt,Pe,Br,va,Ir,Zc,ba,Ml,ws,Qn,Jc,ft,fd,pd,Bm,Im,Fm,lS,Vm,V2;class oS extends Nt{constructor(e){super({...e,name:"stampEditor"});w(this,ft);w(this,zt,null);w(this,Pe,null);w(this,Br,null);w(this,va,null);w(this,Ir,null);w(this,Zc,"");w(this,ba,null);w(this,Ml,!1);w(this,ws,null);w(this,Qn,!1);w(this,Jc,!1);v(this,va,e.bitmapUrl),v(this,Ir,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,i){Nt.initialize(e,i)}static isHandlingMimeForPasting(e){return Ty.includes(e)}static paste(e,i){i.pasteEditor({mode:W.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:r,height:o}=e||this.copyCanvas(null,null,!0).imageData,l=await s.guess({name:"altText",request:{data:a,width:r,height:o,channels:a.length/(r*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),i&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var e;u(this,Pe)&&(v(this,zt,null),this._uiManager.imageManager.deleteId(u(this,Pe)),(e=u(this,ba))==null||e.remove(),v(this,ba,null),u(this,ws)&&(clearTimeout(u(this,ws)),v(this,ws,null))),super.remove()}rebuild(){if(!this.parent){u(this,Pe)&&E(this,ft,Bm).call(this);return}super.rebuild(),this.div!==null&&(u(this,Pe)&&u(this,ba)===null&&E(this,ft,Bm).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(u(this,Br)||u(this,zt)||u(this,va)||u(this,Ir)||u(this,Pe)||u(this,Ml))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;return this._isCopy&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),u(this,Ml)||(u(this,zt)?E(this,ft,Im).call(this):E(this,ft,Bm).call(this)),this._isCopy&&this._moveAfterPaste(e,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,i){const{id:s,bitmap:a}=this._uiManager.imageManager.getFromCanvas(e,i);i.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(v(this,Pe,s),a&&v(this,zt,a),v(this,Ml,!1),E(this,ft,Im).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;u(this,ws)!==null&&clearTimeout(u(this,ws)),v(this,ws,setTimeout(()=>{v(this,ws,null),E(this,ft,lS).call(this)},200))}copyCanvas(e,i,s=!1){var p;e||(e=224);const{width:a,height:r}=u(this,zt),o=new Ji;let l=u(this,zt),c=a,h=r,d=null;if(i){if(a>i||r>i){const M=Math.min(i/a,i/r);c=Math.floor(a*M),h=Math.floor(r*M)}d=document.createElement("canvas");const y=d.width=Math.ceil(c*o.sx),m=d.height=Math.ceil(h*o.sy);u(this,Qn)||(l=E(this,ft,Fm).call(this,y,m));const S=d.getContext("2d");S.filter=this._uiManager.hcmFilter;let g="white",b="#cfcfd8";this._uiManager.hcmFilter!=="none"?b="black":(p=window.matchMedia)!=null&&p.call(window,"(prefers-color-scheme: dark)").matches&&(g="#8f8f9d",b="#42414d");const A=15,T=A*o.sx,x=A*o.sy,C=new OffscreenCanvas(T*2,x*2),_=C.getContext("2d");_.fillStyle=g,_.fillRect(0,0,T*2,x*2),_.fillStyle=b,_.fillRect(0,0,T,x),_.fillRect(T,x,T,x),S.fillStyle=S.createPattern(C,"repeat"),S.fillRect(0,0,y,m),S.drawImage(l,0,0,l.width,l.height,0,0,y,m)}let f=null;if(s){let y,m;if(o.symmetric&&l.width<e&&l.height<e)y=l.width,m=l.height;else if(l=u(this,zt),a>e||r>e){const b=Math.min(e/a,e/r);y=Math.floor(a*b),m=Math.floor(r*b),u(this,Qn)||(l=E(this,ft,Fm).call(this,y,m))}const g=new OffscreenCanvas(y,m).getContext("2d",{willReadFrequently:!0});g.drawImage(l,0,0,l.width,l.height,0,0,y,m),f={width:y,height:m,data:g.getImageData(0,0,y,m).data}}return{canvas:d,width:c,height:h,imageData:f}}static async deserialize(e,i,s){var S;let a=null,r=!1;if(e instanceof t2){const{data:{rect:g,rotation:b,id:A,structParent:T,popupRef:x},container:C,parent:{page:{pageNumber:_}},canvas:M}=e;let L,O;M?(delete e.canvas,{id:L,bitmap:O}=s.imageManager.getFromCanvas(C.id,M),M.remove()):(r=!0,e._hasNoCanvas=!0);const N=((S=await i._structTree.getAriaAttributes(`${eE}${A}`))==null?void 0:S.get("aria-label"))||"";a=e={annotationType:W.STAMP,bitmapId:L,bitmap:O,pageIndex:_-1,rect:g.slice(0),rotation:b,id:A,deleted:!1,accessibilityData:{decorative:!1,altText:N},isSvg:!1,structParent:T,popupRef:x}}const o=await super.deserialize(e,i,s),{rect:l,bitmap:c,bitmapUrl:h,bitmapId:d,isSvg:f,accessibilityData:p}=e;r?(s.addMissingCanvas(e.id,o),v(o,Ml,!0)):d&&s.imageManager.isValidId(d)?(v(o,Pe,d),c&&v(o,zt,c)):v(o,va,h),v(o,Qn,f);const[y,m]=o.pageDimensions;return o.width=(l[2]-l[0])/y,o.height=(l[3]-l[1])/m,o.annotationElementId=e.id||null,p&&(o.altTextData=p),o._initialData=a,v(o,Jc,!!a),o}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:W.STAMP,bitmapId:u(this,Pe),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,Qn),structTreeParentId:this._structTreeParentId};if(e)return s.bitmapUrl=E(this,ft,Vm).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:a,altText:r}=this.serializeAltText(!1);if(!a&&r&&(s.accessibilityData={type:"Figure",alt:r}),this.annotationElementId){const l=E(this,ft,V2).call(this,s);if(l.isSame)return null;l.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,i===null)return s;i.stamps||(i.stamps=new Map);const o=u(this,Qn)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!i.stamps.has(u(this,Pe)))i.stamps.set(u(this,Pe),{area:o,serialized:s}),s.bitmap=E(this,ft,Vm).call(this,!1);else if(u(this,Qn)){const l=i.stamps.get(u(this,Pe));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=E(this,ft,Vm).call(this,!1))}return s}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}zt=new WeakMap,Pe=new WeakMap,Br=new WeakMap,va=new WeakMap,Ir=new WeakMap,Zc=new WeakMap,ba=new WeakMap,Ml=new WeakMap,ws=new WeakMap,Qn=new WeakMap,Jc=new WeakMap,ft=new WeakSet,fd=function(e,i=!1){if(!e){this.remove();return}v(this,zt,e.bitmap),i||(v(this,Pe,e.id),v(this,Qn,e.isSvg)),e.file&&v(this,Zc,e.file.name),E(this,ft,Im).call(this)},pd=function(){if(v(this,Br,null),this._uiManager.enableWaiting(!1),!!u(this,ba)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,zt)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,zt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Bm=function(){if(u(this,Pe)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,Pe)).then(s=>E(this,ft,fd).call(this,s,!0)).finally(()=>E(this,ft,pd).call(this));return}if(u(this,va)){const s=u(this,va);v(this,va,null),this._uiManager.enableWaiting(!0),v(this,Br,this._uiManager.imageManager.getFromUrl(s).then(a=>E(this,ft,fd).call(this,a)).finally(()=>E(this,ft,pd).call(this)));return}if(u(this,Ir)){const s=u(this,Ir);v(this,Ir,null),this._uiManager.enableWaiting(!0),v(this,Br,this._uiManager.imageManager.getFromFile(s).then(a=>E(this,ft,fd).call(this,a)).finally(()=>E(this,ft,pd).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Ty.join(",");const i=this._uiManager._signal;v(this,Br,new Promise(s=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),E(this,ft,fd).call(this,a)}s()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),s()},{signal:i})}).finally(()=>E(this,ft,pd).call(this))),e.click()},Im=function(){var d;const{div:e}=this;let{width:i,height:s}=u(this,zt);const[a,r]=this.pageDimensions,o=.75;if(this.width)i=this.width*a,s=this.height*r;else if(i>o*a||s>o*r){const f=Math.min(o*a/i,o*r/s);i*=f,s*=f}const[l,c]=this.parentDimensions;this.setDims(i*l/a,s*c/r),this._uiManager.enableWaiting(!1);const h=v(this,ba,document.createElement("canvas"));h.setAttribute("role","img"),this.addContainer(h),this.width=i/a,this.height=s/r,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),E(this,ft,lS).call(this),u(this,Jc)||(this.parent.addUndoableEditor(this),v(this,Jc,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,Zc)&&this.div.setAttribute("aria-description",u(this,Zc))},Fm=function(e,i){const{width:s,height:a}=u(this,zt);let r=s,o=a,l=u(this,zt);for(;r>2*e||o>2*i;){const c=r,h=o;r>2*e&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),o>2*i&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const d=new OffscreenCanvas(r,o);d.getContext("2d").drawImage(l,0,0,c,h,0,0,r,o),l=d.transferToImageBitmap()}return l},lS=function(){const[e,i]=this.parentDimensions,{width:s,height:a}=this,r=new Ji,o=Math.ceil(s*e*r.sx),l=Math.ceil(a*i*r.sy),c=u(this,ba);if(!c||c.width===o&&c.height===l)return;c.width=o,c.height=l;const h=u(this,Qn)?u(this,zt):E(this,ft,Fm).call(this,o,l),d=c.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(h,0,0,h.width,h.height,0,0,o,l)},Vm=function(e){if(e){if(u(this,Qn)){const a=this._uiManager.imageManager.getSvgUrl(u(this,Pe));if(a)return a}const i=document.createElement("canvas");return{width:i.width,height:i.height}=u(this,zt),i.getContext("2d").drawImage(u(this,zt),0,0),i.toDataURL()}if(u(this,Qn)){const[i,s]=this.pageDimensions,a=Math.round(this.width*i*Ua.PDF_TO_CSS_UNITS),r=Math.round(this.height*s*Ua.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(a,r);return o.getContext("2d").drawImage(u(this,zt),0,0,u(this,zt).width,u(this,zt).height,0,0,a,r),o.transferToImageBitmap()}return structuredClone(u(this,zt))},V2=function(e){var o;const{pageIndex:i,accessibilityData:{altText:s}}=this._initialData,a=e.pageIndex===i,r=(((o=e.accessibilityData)==null?void 0:o.alt)||"")===s;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&a&&r,isSameAltText:r}},B(oS,"_type","stamp"),B(oS,"_editorType",W.STAMP);var Dl,th,Es,Fr,Aa,bi,Vr,eh,Ll,Yi,Sa,nn,wa,j,zr,Ut,z2,os,uS,cS,zm;const ki=class ki{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:s,accessibilityManager:a,annotationLayer:r,drawLayer:o,textLayer:l,viewport:c,l10n:h}){w(this,Ut);w(this,Dl);w(this,th,!1);w(this,Es,null);w(this,Fr,null);w(this,Aa,null);w(this,bi,new Map);w(this,Vr,!1);w(this,eh,!1);w(this,Ll,!1);w(this,Yi,null);w(this,Sa,null);w(this,nn,null);w(this,wa,null);w(this,j);const d=[...u(ki,zr).values()];if(!ki._initialized){ki._initialized=!0;for(const f of d)f.initialize(h,t)}t.registerEditorTypes(d),v(this,j,t),this.pageIndex=e,this.div=i,v(this,Dl,a),v(this,Es,r),this.viewport=c,v(this,nn,l),this.drawLayer=o,this._structTree=s,u(this,j).addLayer(this)}get isEmpty(){return u(this,bi).size===0}get isInvisible(){return this.isEmpty&&u(this,j).getMode()===W.NONE}updateToolbar(t){u(this,j).updateToolbar(t)}updateMode(t=u(this,j).getMode()){switch(E(this,Ut,zm).call(this),t){case W.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case W.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case W.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const i of u(ki,zr).values())e.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=u(this,nn))==null?void 0:e.div)}setEditingState(t){u(this,j).setEditingState(t)}addCommands(t){u(this,j).addCommands(t)}cleanUndoStack(t){u(this,j).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=u(this,Es))==null||e.div.classList.toggle("disabled",!t)}async enable(){v(this,Ll,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const i of u(this,bi).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(u(this,j).removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!u(this,Es)){v(this,Ll,!1);return}const e=u(this,Es).getEditableAnnotations();for(const i of e){if(i.hide(),u(this,j).isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}v(this,Ll,!1)}disable(){var s;v(this,eh,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const a of u(this,bi).values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){t.set(a.annotationElementId,a);continue}else e.set(a.annotationElementId,a);(s=this.getEditableAnnotation(a.annotationElementId))==null||s.show(),a.remove()}if(u(this,Es)){const a=u(this,Es).getEditableAnnotations();for(const r of a){const{id:o}=r.data;if(u(this,j).isDeletedAnnotationElement(o))continue;let l=e.get(o);if(l){l.resetAnnotationElement(r),l.show(!1),r.show();continue}l=t.get(o),l&&(u(this,j).addChangedExistingAnnotation(l),l.renderAnnotationElement(r)&&l.show(!1)),r.show()}}E(this,Ut,zm).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const a of u(ki,zr).values())i.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),v(this,eh,!1)}getEditableAnnotation(t){var e;return((e=u(this,Es))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){u(this,j).getActive()!==t&&u(this,j).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=u(this,nn))!=null&&t.div&&!u(this,wa)){v(this,wa,new AbortController);const e=u(this,j).combinedSignal(u(this,wa));u(this,nn).div.addEventListener("pointerdown",E(this,Ut,z2).bind(this),{signal:e}),u(this,nn).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=u(this,nn))!=null&&t.div&&u(this,wa)&&(u(this,wa).abort(),v(this,wa,null),u(this,nn).div.classList.remove("highlighting"))}enableClick(){if(u(this,Fr))return;v(this,Fr,new AbortController);const t=u(this,j).combinedSignal(u(this,Fr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=u(this,Fr))==null||t.abort(),v(this,Fr,null)}attach(t){u(this,bi).set(t.id,t);const{annotationElementId:e}=t;e&&u(this,j).isDeletedAnnotationElement(e)&&u(this,j).removeDeletedAnnotationElement(t)}detach(t){var e;u(this,bi).delete(t.id),(e=u(this,Dl))==null||e.removePointerInTextLayer(t.contentDiv),!u(this,eh)&&t.annotationElementId&&u(this,j).addDeletedAnnotationElement(t)}remove(t){this.detach(t),u(this,j).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(u(this,j).addDeletedAnnotationElement(t.annotationElementId),Nt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),u(this,j).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!u(this,Ll)),u(this,j).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!u(this,Aa)&&(t._focusEventsAllowed=!1,v(this,Aa,setTimeout(()=>{v(this,Aa,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:u(this,j)._signal}),e.focus())},0))),t._structTreeParentId=(i=u(this,Dl))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getNextId(){return u(this,j).getId()}combinedSignal(t){return u(this,j).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=u(this,Ut,os))==null?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await u(this,j).updateMode(t.mode);const{offsetX:i,offsetY:s}=E(this,Ut,cS).call(this),a=this.getNextId(),r=E(this,Ut,uS).call(this,{parent:this,id:a,x:i,y:s,uiManager:u(this,j),isCentered:!0,...e});r&&this.add(r)}async deserialize(t){var e;return await((e=u(ki,zr).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,u(this,j)))||null}createAndAddNewEditor(t,e,i={}){const s=this.getNextId(),a=E(this,Ut,uS).call(this,{parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:u(this,j),isCentered:e,...i});return a&&this.add(a),a}addNewEditor(t={}){this.createAndAddNewEditor(E(this,Ut,cS).call(this),!0,t)}setSelected(t){u(this,j).setSelected(t)}toggleSelected(t){u(this,j).toggleSelected(t)}unselect(t){u(this,j).unselect(t)}pointerup(t){var s;const{isMac:e}=Fe.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!u(this,Vr)||(v(this,Vr,!1),(s=u(this,Ut,os))!=null&&s.isDrawer&&u(this,Ut,os).supportMultipleDrawings))return;if(!u(this,th)){v(this,th,!0);return}const i=u(this,j).getMode();if(i===W.STAMP||i===W.SIGNATURE){u(this,j).unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){var s;if(u(this,j).getMode()===W.HIGHLIGHT&&this.enableTextSelection(),u(this,Vr)){v(this,Vr,!1);return}const{isMac:e}=Fe.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(v(this,Vr,!0),(s=u(this,Ut,os))!=null&&s.isDrawer){this.startDrawingSession(t);return}const i=u(this,j).getActive();v(this,th,!i||i.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),u(this,Yi)){u(this,Ut,os).startDrawing(this,u(this,j),!1,t);return}u(this,j).setCurrentDrawingSession(this),v(this,Yi,new AbortController);const e=u(this,j).combinedSignal(u(this,Yi));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(v(this,Sa,null),this.commitOrRemove())},{signal:e}),u(this,Ut,os).startDrawing(this,u(this,j),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&v(this,Sa,e);return}u(this,Sa)&&setTimeout(()=>{var e;(e=u(this,Sa))==null||e.focus(),v(this,Sa,null)},0)}endDrawingSession(t=!1){return u(this,Yi)?(u(this,j).setCurrentDrawingSession(null),u(this,Yi).abort(),v(this,Yi,null),v(this,Sa,null),u(this,Ut,os).endDrawing(t)):null}findNewParent(t,e,i){const s=u(this,j).findParent(e,i);return s===null||s===this?!1:(s.changeParent(t),!0)}commitOrRemove(){return u(this,Yi)?(this.endDrawingSession(),!0):!1}onScaleChanging(){u(this,Yi)&&u(this,Ut,os).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=u(this,j).getActive())==null?void 0:t.parent)===this&&(u(this,j).commitOrRemove(),u(this,j).setActiveEditor(null)),u(this,Aa)&&(clearTimeout(u(this,Aa)),v(this,Aa,null));for(const i of u(this,bi).values())(e=u(this,Dl))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,u(this,bi).clear(),u(this,j).removeLayer(this)}render({viewport:t}){this.viewport=t,so(this.div,t);for(const e of u(this,j).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){u(this,j).commitOrRemove(),E(this,Ut,zm).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,so(this.div,{rotation:i}),e!==i)for(const s of u(this,bi).values())s.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return u(this,j).viewParameters.realScale}};Dl=new WeakMap,th=new WeakMap,Es=new WeakMap,Fr=new WeakMap,Aa=new WeakMap,bi=new WeakMap,Vr=new WeakMap,eh=new WeakMap,Ll=new WeakMap,Yi=new WeakMap,Sa=new WeakMap,nn=new WeakMap,wa=new WeakMap,j=new WeakMap,zr=new WeakMap,Ut=new WeakSet,z2=function(t){u(this,j).unselectAll();const{target:e}=t;if(e===u(this,nn).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&u(this,nn).div.contains(e)){const{isMac:i}=Fe.platform;if(t.button!==0||t.ctrlKey&&i)return;u(this,j).showAllEditors("highlight",!0,!0),u(this,nn).div.classList.add("free"),this.toggleDrawing(),Cy.startHighlighting(this,u(this,j).direction==="ltr",{target:u(this,nn).div,x:t.x,y:t.y}),u(this,nn).div.addEventListener("pointerup",()=>{u(this,nn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,j)._signal}),t.preventDefault()}},os=function(){return u(ki,zr).get(u(this,j).getMode())},uS=function(t){const e=u(this,Ut,os);return e?new e.prototype.constructor(t):null},cS=function(){const{x:t,y:e,width:i,height:s}=this.div.getBoundingClientRect(),a=Math.max(0,t),r=Math.max(0,e),o=Math.min(window.innerWidth,t+i),l=Math.min(window.innerHeight,e+s),c=(a+o)/2-t,h=(r+l)/2-e,[d,f]=this.viewport.rotation%180===0?[c,h]:[h,c];return{offsetX:d,offsetY:f}},zm=function(){for(const t of u(this,bi).values())t.isEmpty()&&t.remove()},B(ki,"_initialized",!1),w(ki,zr,new Map([HA,tS,oS,Cy,rS].map(t=>[t._editorType,t])));let My=ki;var $i,mn,Ol,Fp,Ky,H2,Ns,hS,U2,dS;const Ae=class Ae{constructor({pageIndex:t}){w(this,Ns);w(this,$i,null);w(this,mn,new Map);w(this,Ol,new Map);this.pageIndex=t}setParent(t){if(!u(this,$i)){v(this,$i,t);return}if(u(this,$i)!==t){if(u(this,mn).size>0)for(const e of u(this,mn).values())e.remove(),t.append(e);v(this,$i,t)}}static get _svgFactory(){return ut(this,"_svgFactory",new cf)}draw(t,e=!1,i=!1){const s=hn(Ae,Fp)._++,a=E(this,Ns,hS).call(this),r=Ae._svgFactory.createElement("defs");a.append(r);const o=Ae._svgFactory.createElement("path");r.append(o);const l=`path_p${this.pageIndex}_${s}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),e&&u(this,Ol).set(s,o);const c=i?E(this,Ns,U2).call(this,r,l):null,h=Ae._svgFactory.createElement("use");return a.append(h),h.setAttribute("href",`#${l}`),this.updateProperties(a,t),u(this,mn).set(s,a),{id:s,clipPathId:`url(#${c})`}}drawOutline(t,e){const i=hn(Ae,Fp)._++,s=E(this,Ns,hS).call(this),a=Ae._svgFactory.createElement("defs");s.append(a);const r=Ae._svgFactory.createElement("path");a.append(r);const o=`path_p${this.pageIndex}_${i}`;r.setAttribute("id",o),r.setAttribute("vector-effect","non-scaling-stroke");let l;if(e){const d=Ae._svgFactory.createElement("mask");a.append(d),l=`mask_p${this.pageIndex}_${i}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");const f=Ae._svgFactory.createElement("rect");d.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=Ae._svgFactory.createElement("use");d.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const c=Ae._svgFactory.createElement("use");s.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const h=c.cloneNode();return s.append(h),c.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(s,t),u(this,mn).set(i,s),i}finalizeDraw(t,e){u(this,Ol).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var l;if(!e)return;const{root:i,bbox:s,rootClass:a,path:r}=e,o=typeof t=="number"?u(this,mn).get(t):t;if(o){if(i&&E(this,Ns,dS).call(this,o,i),s&&E(l=Ae,Ky,H2).call(l,o,s),a){const{classList:c}=o;for(const[h,d]of Object.entries(a))c.toggle(h,d)}if(r){const h=o.firstChild.firstChild;E(this,Ns,dS).call(this,h,r)}}}updateParent(t,e){if(e===this)return;const i=u(this,mn).get(t);i&&(u(e,$i).append(i),u(this,mn).delete(t),u(e,mn).set(t,i))}remove(t){u(this,Ol).delete(t),u(this,$i)!==null&&(u(this,mn).get(t).remove(),u(this,mn).delete(t))}destroy(){v(this,$i,null);for(const t of u(this,mn).values())t.remove();u(this,mn).clear(),u(this,Ol).clear()}};$i=new WeakMap,mn=new WeakMap,Ol=new WeakMap,Fp=new WeakMap,Ky=new WeakSet,H2=function(t,[e,i,s,a]){const{style:r}=t;r.top=`${100*i}%`,r.left=`${100*e}%`,r.width=`${100*s}%`,r.height=`${100*a}%`},Ns=new WeakSet,hS=function(){const t=Ae._svgFactory.create(1,1,!0);return u(this,$i).append(t),t.setAttribute("aria-hidden",!0),t},U2=function(t,e){const i=Ae._svgFactory.createElement("clipPath");t.append(i);const s=`clip_${e}`;i.setAttribute("id",s),i.setAttribute("clipPathUnits","objectBoundingBox");const a=Ae._svgFactory.createElement("use");return i.append(a),a.setAttribute("href",`#${e}`),a.classList.add("clip"),s},dS=function(t,e){for(const[i,s]of Object.entries(e))s===null?t.removeAttribute(i):t.setAttribute(i,s)},w(Ae,Ky),w(Ae,Fp,0);let Dy=Ae;globalThis._pdfjsTestingUtils={HighlightOutliner:jA};globalThis.pdfjsLib={AbortException:Ha,AnnotationEditorLayer:My,AnnotationEditorParamsType:ct,AnnotationEditorType:W,AnnotationEditorUIManager:ao,AnnotationLayer:cE,AnnotationMode:xs,AnnotationType:ae,build:UL,ColorPicker:hf,createValidAbsoluteUrl:Zw,DOMSVGFactory:cf,DrawLayer:Dy,FeatureTest:Fe,fetchData:Rh,getDocument:rE,getFilenameFromUrl:kD,getPdfFilenameFromUrl:BD,getUuid:tE,getXfaPageViewport:ID,GlobalWorkerOptions:_i,ImageKind:kd,InvalidPDFException:Ey,isDataScheme:hg,isPdfFile:Ev,isValidExplicitDest:vL,MathClamp:sn,noContextMenu:Pi,normalizeUnicode:PD,OPS:af,OutputScale:Ji,PasswordResponses:LD,PDFDataRangeTransport:oE,PDFDateString:Tv,PDFWorker:gh,PermissionFlag:DD,PixelsPerInch:Ua,RenderingCancelledException:wv,ResponseException:rf,setLayerDimensions:so,shadow:ut,SignatureExtractor:_s,stopEvent:ce,SupportedImageMimeTypes:Ty,TextLayer:lf,TouchManager:of,updateUrlHash:Jw,Util:G,VerbosityLevel:lg,version:HL,XfaLayer:lE};const eU=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Ha,AnnotationEditorLayer:My,AnnotationEditorParamsType:ct,AnnotationEditorType:W,AnnotationEditorUIManager:ao,AnnotationLayer:cE,AnnotationMode:xs,AnnotationType:ae,ColorPicker:hf,DOMSVGFactory:cf,DrawLayer:Dy,FeatureTest:Fe,GlobalWorkerOptions:_i,ImageKind:kd,InvalidPDFException:Ey,MathClamp:sn,OPS:af,OutputScale:Ji,PDFDataRangeTransport:oE,PDFDateString:Tv,PDFWorker:gh,PasswordResponses:LD,PermissionFlag:DD,PixelsPerInch:Ua,RenderingCancelledException:wv,ResponseException:rf,SignatureExtractor:_s,SupportedImageMimeTypes:Ty,TextLayer:lf,TouchManager:of,Util:G,VerbosityLevel:lg,XfaLayer:lE,build:UL,createValidAbsoluteUrl:Zw,fetchData:Rh,getDocument:rE,getFilenameFromUrl:kD,getPdfFilenameFromUrl:BD,getUuid:tE,getXfaPageViewport:ID,isDataScheme:hg,isPdfFile:Ev,isValidExplicitDest:vL,noContextMenu:Pi,normalizeUnicode:PD,setLayerDimensions:so,shadow:ut,stopEvent:ce,updateUrlHash:Jw,version:HL},Symbol.toStringTag,{value:"Module"})),nU=["onCopy","onCut","onPaste"],iU=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],sU=["onFocus","onBlur"],aU=["onInput","onInvalid","onReset","onSubmit"],rU=["onLoad","onError"],oU=["onKeyDown","onKeyPress","onKeyUp"],lU=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],uU=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],cU=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],hU=["onSelect"],dU=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],fU=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],pU=["onScroll"],gU=["onWheel"],mU=["onAnimationStart","onAnimationEnd","onAnimationIteration"],yU=["onTransitionEnd"],vU=["onToggle"],bU=["onChange"],AU=[...nU,...iU,...sU,...aU,...rU,...oU,...lU,...uU,...cU,...hU,...dU,...fU,...pU,...gU,...mU,...yU,...bU,...vU];function j2(n,t){const e={};for(const i of AU){const s=n[i];s&&(t?e[i]=a=>s(a,t(i)):e[i]=s)}return e}function mg(n){let t=!1;return{promise:new Promise((i,s)=>{n.then(a=>!t&&i(a)).catch(a=>!t&&s(a))}),cancel(){t=!0}}}function G2(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(t=0;t<s;t++)n[t]&&(e=G2(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function Cv(){for(var n,t,e=0,i="",s=arguments.length;e<s;e++)(n=arguments[e])&&(t=G2(n))&&(i&&(i+=" "),i+=t);return i}var SU="Invariant failed";function Dt(n,t){if(!n)throw new Error(SU)}var wU=function(){},EU=wU;const an=uO(EU);var Dx=Object.prototype.hasOwnProperty;function Lx(n,t,e){for(e of n.keys())if(Yu(e,t))return e}function Yu(n,t){var e,i,s;if(n===t)return!0;if(n&&t&&(e=n.constructor)===t.constructor){if(e===Date)return n.getTime()===t.getTime();if(e===RegExp)return n.toString()===t.toString();if(e===Array){if((i=n.length)===t.length)for(;i--&&Yu(n[i],t[i]););return i===-1}if(e===Set){if(n.size!==t.size)return!1;for(i of n)if(s=i,s&&typeof s=="object"&&(s=Lx(t,s),!s)||!t.has(s))return!1;return!0}if(e===Map){if(n.size!==t.size)return!1;for(i of n)if(s=i[0],s&&typeof s=="object"&&(s=Lx(t,s),!s)||!Yu(i[1],t.get(s)))return!1;return!0}if(e===ArrayBuffer)n=new Uint8Array(n),t=new Uint8Array(t);else if(e===DataView){if((i=n.byteLength)===t.byteLength)for(;i--&&n.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===t.byteLength)for(;i--&&n[i]===t[i];);return i===-1}if(!e||typeof n=="object"){i=0;for(e in n)if(Dx.call(n,e)&&++i&&!Dx.call(t,e)||!(e in t)||!Yu(n[e],t[e]))return!1;return Object.keys(t).length===i}}return n!==n&&t!==t}const q2=R.createContext(null);function $u({children:n,type:t}){return I.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:n})}const TU="noopener noreferrer nofollow";class xU{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Dt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Dt(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{Dt(this.pdfDocument),Dt(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{Dt(Array.isArray(e));const i=e[0];new Promise(s=>{Dt(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(a=>{s(a)}).catch(()=>{Dt(!1)}):typeof i=="number"?s(i):Dt(!1)}).then(s=>{const a=s+1;Dt(this.pdfViewer),Dt(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:s,pageNumber:a})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;Dt(this.pdfViewer),Dt(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,i){t.href=e,t.rel=this.externalLinkRel||TU,t.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Ox={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Rv=typeof window<"u",X2=Rv&&window.location.protocol==="file:";function _U(n){return typeof n<"u"}function go(n){return _U(n)&&n!==null}function CU(n){return typeof n=="string"}function RU(n){return n instanceof ArrayBuffer}function MU(n){return Dt(Rv),n instanceof Blob}function fS(n){return CU(n)&&/^data:/.test(n)}function Px(n){Dt(fS(n));const[t="",e=""]=n.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function DU(){return Rv&&window.devicePixelRatio||1}const Y2="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Nx(){an(!X2,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Y2}`)}function LU(){an(!X2,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Y2}`)}function Yl(n){n!=null&&n.cancel&&n.cancel()}function pS(n,t){return Object.defineProperty(n,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function OU(n){return n.name==="RenderingCancelledException"}function PU(n){return new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return e(new Error("Error while reading a file."));t(i.result)},i.onerror=s=>{if(!s.target)return e(new Error("Error while reading a file."));const{error:a}=s.target;if(!a)return e(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},i.readAsArrayBuffer(n)})}function NU(n,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function mh(){return R.useReducer(NU,{value:void 0,error:void 0})}var kx=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};const{PDFDataRangeTransport:kU}=eU,BU=(n,t)=>{switch(t){case Ox.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");n(e);break}case Ox.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");n(e);break}}};function Bx(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const IU=R.forwardRef(function(t,e){var{children:i,className:s,error:a="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:h,loading:d="Loading PDF…",noData:f="No PDF file specified.",onItemClick:p,onLoadError:y,onLoadProgress:m,onLoadSuccess:S,onPassword:g=BU,onSourceError:b,onSourceSuccess:A,options:T,renderMode:x,rotate:C,scale:_}=t,M=kx(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate","scale"]);const[L,O]=mh(),{value:N,error:X}=L,[J,q]=mh(),{value:Q,error:D}=J,P=R.useRef(new xU),V=R.useRef([]),tt=R.useRef(void 0),rt=R.useRef(void 0);l&&l!==tt.current&&Bx(l)&&(an(!Yu(l,tt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),tt.current=l),T&&T!==rt.current&&(an(!Yu(T,rt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),rt.current=T);const be=R.useRef({scrollPageIntoView:Ot=>{const{dest:Ce,pageNumber:ie,pageIndex:Xa=ie-1}=Ot;if(p){p({dest:Ce,pageIndex:Xa,pageNumber:ie});return}const nu=V.current[Xa];if(nu){nu.scrollIntoView();return}an(!1,`An internal link leading to page ${ie} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});R.useImperativeHandle(e,()=>({linkService:P,pages:V,viewer:be}),[]);function bt(){A&&A()}function pt(){X&&(an(!1,X.toString()),b&&b(X))}function ne(){O({type:"RESET"})}R.useEffect(ne,[l,O]);const de=R.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return fS(l)?{data:Px(l)}:(Nx(),{url:l});if(l instanceof kU)return{range:l};if(RU(l))return{data:l};if(Rv&&MU(l))return{data:await PU(l)};if(Dt(typeof l=="object"),Dt(Bx(l)),"url"in l&&typeof l.url=="string"){if(fS(l.url)){const{url:Ot}=l,Ce=kx(l,["url"]),ie=Px(Ot);return Object.assign({data:ie},Ce)}Nx()}return l},[l]);R.useEffect(()=>{const Ot=mg(de());return Ot.promise.then(Ce=>{O({type:"RESOLVE",value:Ce})}).catch(Ce=>{O({type:"REJECT",error:Ce})}),()=>{Yl(Ot)}},[de,O]),R.useEffect(()=>{if(!(typeof N>"u")){if(N===!1){pt();return}bt()}},[N]);function un(){Q&&(S&&S(Q),V.current=new Array(Q.numPages),P.current.setDocument(Q))}function Mt(){D&&(an(!1,D.toString()),y&&y(D))}R.useEffect(function(){q({type:"RESET"})},[q,N]),R.useEffect(function(){if(!N)return;const Ce=T?Object.assign(Object.assign({},N),T):N,ie=rE(Ce);m&&(ie.onProgress=m),g&&(ie.onPassword=g);const Xa=ie,nu=Xa.promise.then(Mh=>{q({type:"RESOLVE",value:Mh})}).catch(Mh=>{Xa.destroyed||q({type:"REJECT",error:Mh})});return()=>{nu.finally(()=>Xa.destroy())}},[T,q,N]),R.useEffect(()=>{if(!(typeof Q>"u")){if(Q===!1){Mt();return}un()}},[Q]),R.useEffect(function(){P.current.setViewer(be.current),P.current.setExternalLinkRel(r),P.current.setExternalLinkTarget(o)},[r,o]);const ns=R.useCallback((Ot,Ce)=>{V.current[Ot]=Ce},[]),is=R.useCallback(Ot=>{delete V.current[Ot]},[]),Ft=R.useMemo(()=>({imageResourcesPath:h,linkService:P.current,onItemClick:p,pdf:Q,registerPage:ns,renderMode:x,rotate:C,scale:_,unregisterPage:is}),[h,p,Q,ns,x,C,_,is]),Fs=R.useMemo(()=>j2(M,()=>Q),[M,Q]);function Vs(){return I.jsx(q2.Provider,{value:Ft,children:i})}function cn(){return l?Q==null?I.jsx($u,{type:"loading",children:typeof d=="function"?d():d}):Q===!1?I.jsx($u,{type:"error",children:typeof a=="function"?a():a}):Vs():I.jsx($u,{type:"no-data",children:typeof f=="function"?f():f})}return I.jsx("div",Object.assign({className:Cv("react-pdf__Document",s),ref:c},Fs,{children:cn()}))});function $2(){return R.useContext(q2)}function K2(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.filter(Boolean);if(e.length<=1){var i=e[0];return i||null}return function(a){for(var r=0,o=e;r<o.length;r++){var l=o[r];typeof l=="function"?l(a):l&&(l.current=a)}}}const W2=R.createContext(null),Q2={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},FU=/^H(\d+)$/;function VU(n){return n in Q2}function Mv(n){return"children"in n}function Z2(n){return Mv(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function zU(n){const t={};if(Mv(n)){const{role:e}=n,i=e.match(FU);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(VU(e)){const s=Q2[e];s&&(t.role=s)}}return t}function J2(n){const t={};if(Mv(n)){if(n.alt!==void 0&&(t["aria-label"]=n.alt),n.lang!==void 0&&(t.lang=n.lang),Z2(n)){const[e]=n.children;if(e){const i=J2(e);return Object.assign(Object.assign({},t),i)}}}else"id"in n&&(t["aria-owns"]=n.id);return t}function HU(n){return n?Object.assign(Object.assign({},zU(n)),J2(n)):null}function tO({className:n,node:t}){const e=R.useMemo(()=>HU(t),[t]),i=R.useMemo(()=>!Mv(t)||Z2(t)?null:t.children.map((s,a)=>I.jsx(tO,{node:s},a)),[t]);return I.jsx("span",Object.assign({className:n},e,{children:i}))}function Dv(){return R.useContext(W2)}function UU(){const n=Dv();Dt(n);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=n,[i,s]=mh(),{value:a,error:r}=i,{customTextRenderer:o,page:l}=n;function c(){a&&e&&e(a)}function h(){r&&(an(!1,r.toString()),t&&t(r))}return R.useEffect(function(){s({type:"RESET"})},[s,l]),R.useEffect(function(){if(o||!l)return;const f=mg(l.getStructTree()),p=f;return f.promise.then(y=>{s({type:"RESOLVE",value:y})}).catch(y=>{s({type:"REJECT",error:y})}),()=>Yl(p)},[o,l,s]),R.useEffect(()=>{if(a!==void 0){if(a===!1){h();return}c()}},[a]),a?I.jsx(tO,{className:"react-pdf__Page__structTree structTree",node:a}):null}const Ix=xs;function jU(n){const t=Dv();Dt(t);const e=Object.assign(Object.assign({},t),n),{_className:i,canvasBackground:s,devicePixelRatio:a=DU(),onRenderError:r,onRenderSuccess:o,page:l,renderForms:c,renderTextLayer:h,rotate:d,scale:f}=e,{canvasRef:p}=n;Dt(l);const y=R.useRef(null);function m(){l&&o&&o(pS(l,f))}function S(T){OU(T)||(an(!1,T.toString()),r&&r(T))}const g=R.useMemo(()=>l.getViewport({scale:f*a,rotation:d}),[a,l,d,f]),b=R.useMemo(()=>l.getViewport({scale:f,rotation:d}),[l,d,f]);R.useEffect(function(){if(!l)return;l.cleanup();const{current:x}=y;if(!x)return;x.width=g.width,x.height=g.height,x.style.width=`${Math.floor(b.width)}px`,x.style.height=`${Math.floor(b.height)}px`,x.style.visibility="hidden";const C={annotationMode:c?Ix.ENABLE_FORMS:Ix.ENABLE,canvasContext:x.getContext("2d",{alpha:!1}),viewport:g};s&&(C.background=s);const _=l.render(C),M=_;return _.promise.then(()=>{x.style.visibility="",m()}).catch(S),()=>Yl(M)},[s,l,c,g,b]);const A=R.useCallback(()=>{const{current:T}=y;T&&(T.width=0,T.height=0)},[]);return R.useEffect(()=>A,[A]),I.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:K2(p,y),style:{display:"block",userSelect:"none"},children:h?I.jsx(UU,{}):null})}function GU(n){return"str"in n}function qU(){const n=Dv();Dt(n);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:i,onRenderTextLayerError:s,onRenderTextLayerSuccess:a,page:r,pageIndex:o,pageNumber:l,rotate:c,scale:h}=n;Dt(r);const[d,f]=mh(),{value:p,error:y}=d,m=R.useRef(null);an(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function S(){p&&i&&i(p)}function g(){y&&(an(!1,y.toString()),e&&e(y))}R.useEffect(function(){f({type:"RESET"})},[r,f]),R.useEffect(function(){if(!r)return;const M=mg(r.getTextContent()),L=M;return M.promise.then(O=>{f({type:"RESOLVE",value:O})}).catch(O=>{f({type:"REJECT",error:O})}),()=>Yl(L)},[r,f]),R.useEffect(()=>{if(p!==void 0){if(p===!1){g();return}S()}},[p]);const b=R.useCallback(()=>{a&&a()},[a]),A=R.useCallback(_=>{an(!1,_.toString()),s&&s(_)},[s]);function T(){const _=m.current;_&&_.classList.add("selecting")}function x(){const _=m.current;_&&_.classList.remove("selecting")}const C=R.useMemo(()=>r.getViewport({scale:h,rotation:c}),[r,c,h]);return R.useLayoutEffect(function(){if(!r||!p)return;const{current:M}=m;if(!M)return;M.innerHTML="";const L=r.streamTextContent({includeMarkedContent:!0}),O={container:M,textContentSource:L,viewport:C},N=new lf(O),X=N;return N.render().then(()=>{const J=document.createElement("div");J.className="endOfContent",M.append(J);const q=M.querySelectorAll('[role="presentation"]');if(t){let Q=0;p.items.forEach((D,P)=>{if(!GU(D))return;const V=q[Q];if(!V)return;const tt=t(Object.assign({pageIndex:o,pageNumber:l,itemIndex:P},D));V.innerHTML=tt,Q+=D.str&&D.hasEOL?2:1})}b()}).catch(A),()=>Yl(X)},[t,A,b,r,o,l,p,C]),I.jsx("div",{className:Cv("react-pdf__Page__textContent","textLayer"),onMouseUp:x,onMouseDown:T,ref:m})}function XU(){const n=$2(),t=Dv();Dt(t);const e=Object.assign(Object.assign({},n),t),{imageResourcesPath:i,linkService:s,onGetAnnotationsError:a,onGetAnnotationsSuccess:r,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:l,page:c,pdf:h,renderForms:d,rotate:f,scale:p=1}=e;Dt(h),Dt(c),Dt(s);const[y,m]=mh(),{value:S,error:g}=y,b=R.useRef(null);an(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function A(){S&&r&&r(S)}function T(){g&&(an(!1,g.toString()),a&&a(g))}R.useEffect(function(){m({type:"RESET"})},[m,c]),R.useEffect(function(){if(!c)return;const L=mg(c.getAnnotations()),O=L;return L.promise.then(N=>{m({type:"RESOLVE",value:N})}).catch(N=>{m({type:"REJECT",error:N})}),()=>{Yl(O)}},[m,c]),R.useEffect(()=>{if(S!==void 0){if(S===!1){T();return}A()}},[S]);function x(){l&&l()}function C(M){an(!1,`${M}`),o&&o(M)}const _=R.useMemo(()=>c.getViewport({scale:p,rotation:f}),[c,f,p]);return R.useEffect(function(){if(!h||!c||!s||!S)return;const{current:L}=b;if(!L)return;const O=_.clone({dontFlip:!0}),N={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:L,l10n:null,page:c,structTreeLayer:null,viewport:O},X={annotations:S,annotationStorage:h.annotationStorage,div:L,imageResourcesPath:i,linkService:s,page:c,renderForms:d,viewport:O};L.innerHTML="";try{new cE(N).render(X),x()}catch(J){C(J)}return()=>{}},[S,i,s,c,h,d,_]),I.jsx("div",{className:Cv("react-pdf__Page__annotations","annotationLayer"),ref:b})}var YU=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};const Fx=1;function $U(n){const t=$2(),e=Object.assign(Object.assign({},t),n),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:a,canvasRef:r,children:o,className:l,customRenderer:c,customTextRenderer:h,devicePixelRatio:d,error:f="Failed to load the page.",height:p,inputRef:y,loading:m="Loading page…",noData:S="No page specified.",onGetAnnotationsError:g,onGetAnnotationsSuccess:b,onGetStructTreeError:A,onGetStructTreeSuccess:T,onGetTextError:x,onGetTextSuccess:C,onLoadError:_,onLoadSuccess:M,onRenderAnnotationLayerError:L,onRenderAnnotationLayerSuccess:O,onRenderError:N,onRenderSuccess:X,onRenderTextLayerError:J,onRenderTextLayerSuccess:q,pageIndex:Q,pageNumber:D,pdf:P,registerPage:V,renderAnnotationLayer:tt=!0,renderForms:rt=!1,renderMode:be="canvas",renderTextLayer:bt=!0,rotate:pt,scale:ne=Fx,unregisterPage:de,width:un}=e,Mt=YU(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[ns,is]=mh(),{value:Ft,error:Fs}=ns,Vs=R.useRef(null);Dt(P);const cn=go(D)?D-1:Q??null,Ot=D??(go(Q)?Q+1:null),Ce=pt??(Ft?Ft.rotate:null),ie=R.useMemo(()=>{if(!Ft)return null;let iu=1;const vg=ne??Fx;if(un||p){const bg=Ft.getViewport({scale:1,rotation:Ce});un?iu=un/bg.width:p&&(iu=p/bg.height)}return vg*iu},[p,Ft,Ce,ne,un]);R.useEffect(function(){return()=>{go(cn)&&s&&de&&de(cn)}},[s,P,cn,de]);function Xa(){if(M){if(!Ft||!ie)return;M(pS(Ft,ie))}if(s&&V){if(!go(cn)||!Vs.current)return;V(cn,Vs.current)}}function nu(){Fs&&(an(!1,Fs.toString()),_&&_(Fs))}R.useEffect(function(){is({type:"RESET"})},[is,P,cn]),R.useEffect(function(){if(!P||!Ot)return;const vg=mg(P.getPage(Ot)),bg=vg;return vg.promise.then(Lv=>{is({type:"RESOLVE",value:Lv})}).catch(Lv=>{is({type:"REJECT",error:Lv})}),()=>Yl(bg)},[is,P,Ot]),R.useEffect(()=>{if(Ft!==void 0){if(Ft===!1){nu();return}Xa()}},[Ft,ie]);const Mh=R.useMemo(()=>Ft&&go(cn)&&Ot&&go(Ce)&&go(ie)?{_className:i,canvasBackground:a,customTextRenderer:h,devicePixelRatio:d,onGetAnnotationsError:g,onGetAnnotationsSuccess:b,onGetStructTreeError:A,onGetStructTreeSuccess:T,onGetTextError:x,onGetTextSuccess:C,onRenderAnnotationLayerError:L,onRenderAnnotationLayerSuccess:O,onRenderError:N,onRenderSuccess:X,onRenderTextLayerError:J,onRenderTextLayerSuccess:q,page:Ft,pageIndex:cn,pageNumber:Ot,renderForms:rt,renderTextLayer:bt,rotate:Ce,scale:ie}:null,[i,a,h,d,g,b,A,T,x,C,L,O,N,X,J,q,Ft,cn,Ot,rt,bt,Ce,ie]),eO=R.useMemo(()=>j2(Mt,()=>Ft&&(ie?pS(Ft,ie):void 0)),[Mt,Ft,ie]),yg=`${cn}@${ie}/${Ce}`;function nO(){switch(be){case"custom":return Dt(c),I.jsx(c,{},`${yg}_custom`);case"none":return null;case"canvas":default:return I.jsx(jU,{canvasRef:r},`${yg}_canvas`)}}function iO(){return bt?I.jsx(qU,{},`${yg}_text`):null}function sO(){return tt?I.jsx(XU,{},`${yg}_annotations`):null}function aO(){return I.jsxs(W2.Provider,{value:Mh,children:[nO(),iO(),sO(),o]})}function rO(){return Ot?P===null||Ft===void 0||Ft===null?I.jsx($u,{type:"loading",children:typeof m=="function"?m():m}):P===!1||Ft===!1?I.jsx($u,{type:"error",children:typeof f=="function"?f():f}):aO():I.jsx($u,{type:"no-data",children:typeof S=="function"?S():S})}return I.jsx("div",Object.assign({className:Cv(i,l),"data-page-number":Ot,ref:K2(y,Vs),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${ie}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},eO,{children:rO()}))}LU();_i.workerSrc="pdf.worker.mjs";const KU="/portfolio/assets/pdf.worker.min-BFAMBS4k.mjs";_i.workerSrc=KU;function WU({file:n}){const[t,e]=R.useState(null),[i,s]=R.useState(1),[a,r]=R.useState(1),o=.5,l=3,c=.25;function h({numPages:y}){e(y),s(1)}const d=()=>r(y=>Math.min(y+c,l)),f=()=>r(y=>Math.max(y-c,o)),p=()=>r(1);return I.jsxs("div",{style:{width:"90vw",height:"100vh",display:"flex",margin:"2rem auto",flexDirection:"column",color:"black",background:"#f5f5f5"},children:[I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem 2rem",background:"white",borderBottom:"1px solid #ddd",position:"sticky",top:0,zIndex:10},children:[I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[I.jsx("button",{className:"arrow-button",onClick:()=>s(y=>Math.max(y-1,1)),disabled:i<=1,style:{padding:"0.5rem 1rem",border:"1px solid #ccc",background:i<=1?"#f5f5f5":"none",cursor:i<=1?"not-allowed":"pointer"},children:"<"}),I.jsxs("span",{style:{fontSize:"1rem",fontWeight:"bold"},children:["Page ",i," of ",t]}),I.jsx("button",{className:"arrow-button",onClick:()=>s(y=>Math.min(y+1,t??1)),disabled:i>=(t??1),style:{padding:"0.5rem 1rem",border:"1px solid #ccc",background:i>=(t??1)?"#f5f5f5":"#fff",cursor:i>=(t??1)?"not-allowed":"pointer"},children:">"})]}),I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[I.jsx("button",{className:"arrow-button",onClick:f,disabled:a<=o,style:{padding:"0.5rem",border:"1px solid #ccc",background:a<=o?"#f5f5f5":"#fff",cursor:a<=o?"not-allowed":"pointer"},children:"−"}),I.jsxs("span",{style:{fontSize:"1rem",minWidth:"60px",textAlign:"center"},children:[Math.round(a*100),"%"]}),I.jsx("button",{className:"arrow-button",onClick:d,disabled:a>=l,style:{padding:"0.5rem",border:"1px solid #ccc",background:a>=l?"#f5f5f5":"#fff",cursor:a>=l?"not-allowed":"pointer"},children:"+"}),I.jsx("button",{onClick:p,style:{padding:"0.5rem 1rem",border:"1px solid #ccc",background:"#fff",cursor:"pointer"},children:"Reset"})]})]}),I.jsx("div",{style:{flex:1,overflow:"auto",display:"flex",justifyContent:"center",alignItems:"flex-start",padding:"2rem"},children:I.jsx(IU,{file:n,onLoadSuccess:h,loading:I.jsx("div",{style:{padding:"2rem"},children:"Loading PDF..."}),children:I.jsx($U,{pageNumber:i,scale:a,renderAnnotationLayer:!0,renderTextLayer:!0})})})]})}const QU="/portfolio/assets/headshot-DR5OdbRO.jpeg";function ZU(){return I.jsxs(bv.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[I.jsx("h1",{className:"subtitle",children:"About Me"}),I.jsx("img",{src:QU,alt:"Headshot",width:"300px",height:"300px"}),I.jsx("p",{children:"Hi, my name is Nikolas Varga. I'm studying electrical engineering and music technology at Northeastern University. I recently completed two co-ops studying memory and audiovisual perception at the Garner Lab and developing organic photovoltaic technologies at Nano-C, Inc. My personal and professional interests include advancing consumer audio, digital signal processing, climatetech, and music technology."})]})}function JU(){return I.jsxs(bv.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[I.jsx("h1",{className:"page-title",children:"Projects"}),I.jsx("h2",{className:"subtitle",children:"Candlemaker"}),I.jsx("h2",{className:"subtitle",children:" Tubender"})]})}function tj(){return I.jsxs(bv.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[I.jsx("h1",{className:"tomorrow-regular",children:"Writing Page"}),I.jsx("h2",{children:"Music on the Periphery: an inquisition into hyperfreak and hyperflip "}),I.jsx("p",{children:"This essay discusses the emergent SoundCloud subgenres of hyperfreak and hyperflip and their social and economic contexts. It traces the feminist, queer roots of electronic dance music back to the disco movement and begs the question: Can these new genres sustain themselves in real spaces as queer, feminist safe havens, or are they doomed to fade into the lull of capitalist realism?"}),I.jsx(WU,{file:"/portfolio/musicontheperiphery.pdf"}),I.jsx("h2",{children:"Essay on Resources"})]})}function ej(){return I.jsx("div",{children:I.jsx("h1",{children:"Passions Page"})})}function nj(){const[n,t]=R.useState(0),[e,i]=R.useState(0),[s,a]=R.useState(!1),r=R.useRef({width:window.innerWidth,height:innerHeight});let o;function l(){const{width:c,height:h}=r.current,d=window.innerWidth,f=window.innerHeight;t((d-c)/5),i((f-h)/5),clearTimeout(o),o=window.setTimeout(()=>{t(0),i(0),r.current={width:d,height:f}},200)}return R.useEffect(()=>(window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l),clearTimeout(o)}),[]),I.jsxs(DB,{children:[I.jsx("header",{children:I.jsxs("div",{className:"header-bar",children:[I.jsx("h1",{className:"main-title",children:"Nikolas Varga"}),I.jsx("button",{className:"menu-toggle",onClick:()=>a(c=>!c),"aria-label":"Toggle menu",children:"☰"}),I.jsxs(bv.nav,{className:`top-menu${s?" open ":""}`,animate:{x:n,y:e},transition:{type:"spring",stiffness:100,damping:12},children:[I.jsx(Mu,{to:"/",onClick:()=>a(!1),children:"home"}),I.jsx(Mu,{to:"/projects",onClick:()=>a(!1),children:"projects"}),I.jsx(Mu,{to:"/writing",onClick:()=>a(!1),children:"writing"}),I.jsx(Mu,{to:"/passions",onClick:()=>a(!1),children:"passions"})]})]})}),I.jsxs(rB,{children:[I.jsx($h,{path:"/",element:I.jsx(ZU,{})}),I.jsx($h,{path:"/projects",element:I.jsx(JU,{})}),I.jsx($h,{path:"/writing",element:I.jsx(tj,{})}),I.jsx($h,{path:"/passions",element:I.jsx(ej,{})})]})]})}ak.createRoot(document.getElementById("root")).render(I.jsx(R.StrictMode,{children:I.jsx(nj,{})}));
